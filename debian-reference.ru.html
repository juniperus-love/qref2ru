<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Справочник по Debian</title>
<link rel="stylesheet" href="debian-reference.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<meta name="description" content="Это свободная книга, вы можете распространять её на условиях любой DFSG-совместимой версии GNU General Public License (в соответствии с Debian Free Software Guidelines -- DFSG).">
<link rel="start" href="#id2601400" title="Справочник по Debian">
<link rel="next" href="#_preface" title="Введение">
<link rel="preface" href="#_preface" title="Введение">
<link rel="chapter" href="#_gnu_linux_tutorials" title="Глава 1. Основы работы в GNU/Linux">
<link rel="chapter" href="#_debian_package_management" title="Глава 2. Управление пакетами в Debian">
<link rel="chapter" href="#_the_system_initialization" title="Глава 3. Загрузка системы">
<link rel="chapter" href="#_authentication" title="Глава 4. Аутентификация">
<link rel="chapter" href="#_network_setup" title="Глава 5. Настройка сети">
<link rel="chapter" href="#_network_applications" title="Глава 6. Сетевые приложения">
<link rel="chapter" href="#_the_x_window_system" title="Глава 7. Система X Window">
<link rel="chapter" href="#_i18n_and_l10n" title="Глава 8. I18N и L10N">
<link rel="chapter" href="#_system_tips" title="Глава 9. Советы по использованию системы">
<link rel="chapter" href="#_data_management" title="Глава 10. Управление данными">
<link rel="chapter" href="#_data_conversion" title="Глава 11. Преобразование данных">
<link rel="chapter" href="#_programming" title="Глава 12. Программирование">
<link rel="appendix" href="#_appendix" title="Приложение A. Примечания">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="ru">
<div class="titlepage">
<div>
<div><h1 class="title">
<a name="id2601400"></a>Справочник по Debian</h1></div>
<div><div class="author"><h3 class="author">
<span class="firstname">Osamu</span> <span class="surname">Aoki</span>
</h3></div></div>
<div><p class="copyright">Copyright © 2007-2010 Osamu Aoki</p></div>
<div><div class="legalnotice">
<a name="id2601448"></a><p>Этот Справочник по Debian (v2) (2011-01-06 10:55:59 UTC) предоставляет широкий обзор
системы Debian в форме руководства пользователя после
установки. Рассматриваются многие аспекты управления системой на примерах в
командной строке.</p>
</div></div>
<div><div class="abstract">
<p class="title"><b>Аннотация</b></p>
<p>Это свободная книга, вы можете распространять её на условиях любой
DFSG-совместимой версии GNU General Public License (в соответствии с Debian
Free Software Guidelines -- DFSG).</p>
</div></div>
</div>
<hr>
</div>
<div class="toc">
<p><b>Содержание</b></p>
<dl>
<dt><span class="preface"><a href="#_preface">Введение</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_disclaimer">1. Отказ от гарантий</a></span></dt>
<dt><span class="section"><a href="#_what_is_debian">2. Что такое Debian</a></span></dt>
<dt><span class="section"><a href="#_about_this_document">3. Об этом документе</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_guiding_rules">3.1. Принципы организации справочника</a></span></dt>
<dt><span class="section"><a href="#_prerequisites">3.2. Что ожидается от читателя</a></span></dt>
<dt><span class="section"><a href="#_conventions">3.3. Соглашения, принятые в документе</a></span></dt>
<dt><span class="section"><a href="#_debian_bts">3.4. Debian BTS</a></span></dt>
<dt><span class="section"><a href="#_the_popcon">3.5. Статистика популярности пакетов popcon</a></span></dt>
<dt><span class="section"><a href="#_the_package_size">3.6. Размер пакета</a></span></dt>
<dt><span class="section"><a href="#_bug_reports_on_this_document">3.7. Сообщения об ошибках в этом документе</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_some_quotes_for_new_users">4. Пара цитат для новых пользователей</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="#_gnu_linux_tutorials">1. Основы работы в GNU/Linux</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_console_basics">1.1. "Консольные" основы</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_shell_prompt">1.1.1. Приглашение командной строки</a></span></dt>
<dt><span class="section"><a href="#_the_shell_prompt_under_x">1.1.2. Командная строка в X Window</a></span></dt>
<dt><span class="section"><a href="#_the_root_account">1.1.3. Учётная запись администратора системы (root account)</a></span></dt>
<dt><span class="section"><a href="#_the_root_shell_prompt">1.1.4. Приглашение командной строки суперпользователя</a></span></dt>
<dt><span class="section"><a href="#_gui_system_administration_tools">1.1.5. Средства администрирования в GUI</a></span></dt>
<dt><span class="section"><a href="#_virtual_consoles">1.1.6. Виртуальные терминалы</a></span></dt>
<dt><span class="section"><a href="#_how_to_leave_the_command_prompt">1.1.7. Как выйти из командной строки</a></span></dt>
<dt><span class="section"><a href="#_how_to_shutdown_the_system">1.1.8. Как выключить систему</a></span></dt>
<dt><span class="section"><a href="#_recovering_a_sane_console">1.1.9. Если экран "замусорился"</a></span></dt>
<dt><span class="section"><a href="#_additional_package_suggestions_for_the_newbie">1.1.10. Дополнительные советы по пакетам программ для новичков</a></span></dt>
<dt><span class="section"><a href="#_an_extra_user_account">1.1.11. Дополнительные пользовательские учётные записи</a></span></dt>
<dt><span class="section"><a href="#_sudo_configuration">1.1.12. Настройка sudo</a></span></dt>
<dt><span class="section"><a href="#_play_time">1.1.13. Время игр</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_unix_like_filesystem">1.2. Unix-подобная файловая система</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_unix_file_basics">1.2.1. Основные сведения о файлах в Unix</a></span></dt>
<dt><span class="section"><a href="#_filesystem_internals">1.2.2. Концепция файловой системы в Debian</a></span></dt>
<dt><span class="section"><a href="#_filesystem_permissions">1.2.3. Права доступа к файлам и каталогам</a></span></dt>
<dt><span class="section"><a href="#_control_of_permissions_for_newly_created_files_umask">1.2.4. Управление разрешениями создаваемых файлов: umask</a></span></dt>
<dt><span class="section"><a href="#_permissions_for_groups_of_users_group">1.2.5. Разрешения для групп пользователей (group)</a></span></dt>
<dt><span class="section"><a href="#_timestamps">1.2.6. Временные метки файлов</a></span></dt>
<dt><span class="section"><a href="#_links">1.2.7. Ссылки в файловой системе</a></span></dt>
<dt><span class="section"><a href="#_named_pipes_fifos">1.2.8. Именованные каналы (FIFOs)</a></span></dt>
<dt><span class="section"><a href="#_sockets">1.2.9. Сокеты (sockets)</a></span></dt>
<dt><span class="section"><a href="#_device_files">1.2.10. Файлы устройств</a></span></dt>
<dt><span class="section"><a href="#_special_device_files">1.2.11. Файлы специальных устройств</a></span></dt>
<dt><span class="section"><a href="#_procfs_and_sysfs">1.2.12. procfs и sysfs</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_midnight_commander_mc">1.3. Midnight Commander (MC)</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_customization_of_mc">1.3.1. Настройка MC</a></span></dt>
<dt><span class="section"><a href="#_starting_mc">1.3.2. Запуск MC</a></span></dt>
<dt><span class="section"><a href="#_file_manager_in_mc">1.3.3. Файловый менеджер в MC</a></span></dt>
<dt><span class="section"><a href="#_command_line_tricks_in_mc">1.3.4. Приёмы работы с командной строкой в MC</a></span></dt>
<dt><span class="section"><a href="#_the_internal_editor_in_mc">1.3.5. Встроенный редактор MC</a></span></dt>
<dt><span class="section"><a href="#_the_internal_viewer_in_mc">1.3.6. Встроенная программа просмотра в MC -- mcview</a></span></dt>
<dt><span class="section"><a href="#_auto_start_features_of_mc">1.3.7. Возможности автозапуска в MC</a></span></dt>
<dt><span class="section"><a href="#_ftp_virtual_filesystem_of_mc">1.3.8. Просмотр содержимого FTP из MC</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_basic_unix_like_work_environment">1.4. Основы пользовательского окружения Unix</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_login_shell">1.4.1. Оболочка (shell)</a></span></dt>
<dt><span class="section"><a href="#_customizing_bash">1.4.2. Настройка bash</a></span></dt>
<dt><span class="section"><a href="#_special_key_strokes">1.4.3. Специальные комбинации клавиш (горячие клавиши)</a></span></dt>
<dt><span class="section"><a href="#_unix_style_mouse_operations">1.4.4. Работа с мышью в стиле Unix</a></span></dt>
<dt><span class="section"><a href="#_the_pager">1.4.5. Пейджер (pager) -- программа просмотра файлов</a></span></dt>
<dt><span class="section"><a href="#_the_text_editor">1.4.6. Текстовый редактор</a></span></dt>
<dt><span class="section"><a href="#_setting_a_default_text_editor">1.4.7. Установка редактора по умолчанию</a></span></dt>
<dt><span class="section"><a href="#_customizing_vim">1.4.8. Настройка vim</a></span></dt>
<dt><span class="section"><a href="#_recording_the_shell_activities">1.4.9. Запись вывода оболочки</a></span></dt>
<dt><span class="section"><a href="#_basic_unix_commands">1.4.10. Основные команды Unix</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_simple_shell_command">1.5. О том, как работают команды shell</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_command_execution_and_environment_variable">1.5.1. Выполнение команд и переменные окружения</a></span></dt>
<dt><span class="section"><a href="#_literal_lang_literal_variable">1.5.2. Переменная "<code class="literal">$LANG</code>"</a></span></dt>
<dt><span class="section"><a href="#_literal_path_literal_variable">1.5.3. Переменная "<code class="literal">$PATH</code>"</a></span></dt>
<dt><span class="section"><a href="#_literal_home_literal_variable">1.5.4. Переменная "<code class="literal">$HOME</code>"</a></span></dt>
<dt><span class="section"><a href="#_command_line_options">1.5.5. Параметры командной строки</a></span></dt>
<dt><span class="section"><a href="#_shell_glob">1.5.6. Шаблоны для имён файлов: shell glob</a></span></dt>
<dt><span class="section"><a href="#_return_value_of_the_command">1.5.7. Возвращаемое командой значение</a></span></dt>
<dt><span class="section"><a href="#_typical_command_sequences_and_shell_redirection">1.5.8. Типичные последовательности команд и перенаправлений ввода-вывода</a></span></dt>
<dt><span class="section"><a href="#_command_alias">1.5.9. "Прозвища" для команд (alias)</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_unix_like_text_processing">1.6. Работа с текстом в стиле Unix</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_unix_text_tools">1.6.1. Обзор средств редактирования</a></span></dt>
<dt><span class="section"><a href="#_regular_expressions">1.6.2. Регулярные выражения</a></span></dt>
<dt><span class="section"><a href="#_replacement_expressions">1.6.3. Выражения замены</a></span></dt>
<dt><span class="section"><a href="#_global_substitution_with_regular_expressions">1.6.4. Глобальные подстановки в регулярных выражениях</a></span></dt>
<dt><span class="section"><a href="#_extracting_data_from_text_file_table">1.6.5. Извлечение данных из текстовых таблиц</a></span></dt>
<dt><span class="section"><a href="#_script_snippets_for_piping_commands">1.6.6. Обрывки сценариев для цепочек команд</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#_debian_package_management">2. Управление пакетами в Debian</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_debian_package_management_prerequisites">2.1. О системе пакетов Debian</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_package_configuration">2.1.1. Конфигурация пакета</a></span></dt>
<dt><span class="section"><a href="#_basic_precautions">2.1.2. Основные предостережения</a></span></dt>
<dt><span class="section"><a href="#_life_with_eternal_upgrades">2.1.3. Жизнь в вечных обновлениях</a></span></dt>
<dt><span class="section"><a href="#_debian_archive_basics">2.1.4. Основы архивов Debian</a></span></dt>
<dt><span class="section"><a href="#_package_dependencies">2.1.5. Зависимости пакета</a></span></dt>
<dt><span class="section"><a href="#_the_event_flow_of_the_package_management">2.1.6. Последовательность событий при действиях управления пакетами</a></span></dt>
<dt><span class="section"><a href="#_first_response_to_package_management_troubles">2.1.7. Первая реакция на проблемы с пакетом</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_basic_package_management_operations">2.2. Основные операции с пакетами</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_literal_apt_get_literal_literal_apt_cache_literal_vs_literal_aptitude_literal">2.2.1. <code class="literal">apt-get</code>/<code class="literal">apt-cache</code> -- или
<code class="literal">aptitude</code>?</a></span></dt>
<dt><span class="section"><a href="#_basic_package_management_operations_with_the_commandline">2.2.2. Основные операции с пакетами в командной строке</a></span></dt>
<dt><span class="section"><a href="#_interactive_use_of_aptitude">2.2.3. Интерактивное использование aptitude</a></span></dt>
<dt><span class="section"><a href="#_key_bindings_of_aptitude">2.2.4. Навигация в aptitude</a></span></dt>
<dt><span class="section"><a href="#_package_views_under_aptitude">2.2.5. Просмотр пакета в aptitude</a></span></dt>
<dt><span class="section"><a href="#_search_method_options_with_aptitude">2.2.6. Методы поиска в aptitude</a></span></dt>
<dt><span class="section"><a href="#_the_aptitude_regex_formula">2.2.7. Регулярные выражения в aptitude</a></span></dt>
<dt><span class="section"><a href="#_dependency_resolution_of_aptitude">2.2.8. Решение зависимостей в aptitude</a></span></dt>
<dt><span class="section"><a href="#_package_activity_logs">2.2.9. Журналы активности пакета</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_examples_of_aptitude_operations">2.3. Примеры операций с aptitude</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_listing_packages_with_regex_matching_on_package_names">2.3.1. Поиск среди имён пакетов</a></span></dt>
<dt><span class="section"><a href="#_browsing_with_the_regex_matching">2.3.2. Просмотр с поиском по шаблонам</a></span></dt>
<dt><span class="section"><a href="#_purging_removed_packages_for_good">2.3.3. Удаление конфигураций уже удалённых пакетов</a></span></dt>
<dt><span class="section"><a href="#_tidying_auto_manual_install_status">2.3.4. Tidying auto/manual install status</a></span></dt>
<dt><span class="section"><a href="#_system_wide_upgrade">2.3.5. Апгрейд системы</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_advanced_package_management_operations">2.4. Различные операции с пакетами</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_advanced_package_management_operations_with_commandline">2.4.1. Низкоуровневые операции с пакетами в командной строке</a></span></dt>
<dt><span class="section"><a href="#_verification_of_installed_package_files">2.4.2. Проверка контрольных сумм установленных пакетами файлов</a></span></dt>
<dt><span class="section"><a href="#_safeguarding_for_package_problems">2.4.3. Предосторожности на случай проблем с пакетами</a></span></dt>
<dt><span class="section"><a href="#_searching_on_the_package_meta_data">2.4.4. Поиск по мета-данным пакета</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_debian_package_management_internals">2.5. "Внутренности" системы управления пакетами в Debian</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_archive_meta_data">2.5.1. Мета-данные архива</a></span></dt>
<dt><span class="section"><a href="#_top_level_release_file_and_authenticity">2.5.2. Файл верхнего уровня "Release" и аутентичность</a></span></dt>
<dt><span class="section"><a href="#_archive_level_release_files">2.5.3. Файл "Release" уровня архива</a></span></dt>
<dt><span class="section"><a href="#_fetching_of_the_meta_data_for_the_package">2.5.4. Получение мета-данных пакетов</a></span></dt>
<dt><span class="section"><a href="#_the_package_state_for_apt">2.5.5. Статус пакетов в системе APT</a></span></dt>
<dt><span class="section"><a href="#_the_package_state_for_aptitude">2.5.6. Статус пакетов в aptitude</a></span></dt>
<dt><span class="section"><a href="#_local_copies_of_the_fetched_packages">2.5.7. Локальные копии полученных пакетов</a></span></dt>
<dt><span class="section"><a href="#_debian_package_file_names">2.5.8. Имена пакетов Debian</a></span></dt>
<dt><span class="section"><a href="#_the_dpkg_command">2.5.9. Команда dpkg</a></span></dt>
<dt><span class="section"><a href="#_the_update_alternative_command">2.5.10. Команда update-alternative</a></span></dt>
<dt><span class="section"><a href="#_the_dpkg_statoverride_command">2.5.11. Команда dpkg-statoverride</a></span></dt>
<dt><span class="section"><a href="#_the_dpkg_divert_command">2.5.12. Команда dpkg-divert</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_recovery_from_a_broken_system">2.6. Восстановление поломавшейся системы</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_incompatibility_with_old_user_configuration">2.6.1. Несовместимости со старыми настройками пользователя</a></span></dt>
<dt><span class="section"><a href="#_different_packages_with_overlapped_files">2.6.2. Различные пакеты, устанавливающие файлы с одинаковыми именами</a></span></dt>
<dt><span class="section"><a href="#_fixing_broken_package_script">2.6.3. Как исправить неработающий установочный сценарий</a></span></dt>
<dt><span class="section"><a href="#_rescue_with_the_dpkg_command">2.6.4. Восстановление с помощью команды dpkg</a></span></dt>
<dt><span class="section"><a href="#_recovering_package_selection_data">2.6.5. Восстановление данных об установленных пакетах</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_tips_for_the_package_management">2.7. Советы по управлению пакетами</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_how_to_pick_debian_packages">2.7.1. Как выбрать пакет Debian</a></span></dt>
<dt><span class="section"><a href="#_packages_from_mixed_source_of_archives">2.7.2. Пакеты из различных источников и архивов</a></span></dt>
<dt><span class="section"><a href="#_tweaking_candidate_version">2.7.3. "Подмена" предпочтительной версии пакета</a></span></dt>
<dt><span class="section"><a href="#_volatile_and_backports">2.7.4. Архивы Volatile и Backports</a></span></dt>
<dt><span class="section"><a href="#_automatic_download_and_upgrade_of_packages">2.7.5. Автоматическое получение и обновление пакетов</a></span></dt>
<dt><span class="section"><a href="#_limiting_download_bandwidth_for_apt">2.7.6. Ограничение ширины канала для APT</a></span></dt>
<dt><span class="section"><a href="#_emergency_downgrading">2.7.7. Аварийный откат системы</a></span></dt>
<dt><span class="section"><a href="#_who_uploaded_the_package">2.7.8. Кто закачал пакет?</a></span></dt>
<dt><span class="section"><a href="#_the_equivs_package">2.7.9. Пакет equivs</a></span></dt>
<dt><span class="section"><a href="#_porting_a_package_to_the_stable_system">2.7.10. Портирование пакета для стабильной системы</a></span></dt>
<dt><span class="section"><a href="#_proxy_server_for_apt">2.7.11. Прокси-сервер для APT</a></span></dt>
<dt><span class="section"><a href="#_small_public_package_archive">2.7.12. Маленький общедоступный архив пакетов</a></span></dt>
<dt><span class="section"><a href="#_recording_and_copying_system_configuration">2.7.13. Сохранение и копирование конфигурации</a></span></dt>
<dt><span class="section"><a href="#_converting_or_installing_an_alien_binary_package">2.7.14. Преобразование и установка чужеродных двоичных пакетов</a></span></dt>
<dt><span class="section"><a href="#_extracting_package_without_dpkg">2.7.15. Распаковка пакетов без dpkg</a></span></dt>
<dt><span class="section"><a href="#_more_readings_for_the_package_management">2.7.16. Где ещё можно прочитать про управление пакетами</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#_the_system_initialization">3. Загрузка системы</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_an_overview_of_the_boot_strap_process">3.1. Обзор процесса загрузки</a></span></dt>
<dt><span class="section"><a href="#_stage_1_the_bios">3.2. Первый этап: BIOS</a></span></dt>
<dt><span class="section"><a href="#_stage_2_the_boot_loader">3.3. Второй этап: загрузчик (boot loader)</a></span></dt>
<dt><span class="section"><a href="#_stage_3_the_mini_debian_system">3.4. Третий этап: мини-система Debian</a></span></dt>
<dt><span class="section"><a href="#_stage_4_the_normal_debian_system">3.5. Четвёртый этап: нормальная система Debian</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_meaning_of_the_runlevel">3.5.1. Уровни выполнения (runlevels)</a></span></dt>
<dt><span class="section"><a href="#_the_configuration_of_the_runlevel">3.5.2. Конфигурация уровня выполнения</a></span></dt>
<dt><span class="section"><a href="#_the_runlevel_management_example">3.5.3. Пример настройки уровня выполнения</a></span></dt>
<dt><span class="section"><a href="#_the_default_parameter_for_each_init_script">3.5.4. Параметры для init-скриптов</a></span></dt>
<dt><span class="section"><a href="#_the_hostname">3.5.5. Имя системы (hostname)</a></span></dt>
<dt><span class="section"><a href="#_the_filesystem">3.5.6. Файловая система</a></span></dt>
<dt><span class="section"><a href="#_network_interface_initialization">3.5.7. Инициализация сетевых интерфейсов</a></span></dt>
<dt><span class="section"><a href="#_network_service_initialization">3.5.8. Запуск сетевых служб</a></span></dt>
<dt><span class="section"><a href="#_the_system_message">3.5.9. Системные сообщения</a></span></dt>
<dt><span class="section"><a href="#_the_kernel_message">3.5.10. Сообщения ядра</a></span></dt>
<dt><span class="section"><a href="#_the_udev_system">3.5.11. Система udev</a></span></dt>
<dt><span class="section"><a href="#_the_kernel_module_initialization">3.5.12. Загрузка модулей ядра</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#_authentication">4. Аутентификация</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_normal_unix_authentication">4.1. Обычная авторизация в Unix</a></span></dt>
<dt><span class="section"><a href="#_managing_account_and_password_information">4.2. Управление учётными записями и паролями</a></span></dt>
<dt><span class="section"><a href="#_good_password">4.3. Хороший пароль</a></span></dt>
<dt><span class="section"><a href="#_creating_encrypted_password">4.4. Создание зашифрованного пароля</a></span></dt>
<dt><span class="section"><a href="#_pam_and_nss">4.5. PAM и NSS</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_configuration_files_accessed_by_the_pam_and_nss">4.5.1. Файлы настроек PAM и NSS</a></span></dt>
<dt><span class="section"><a href="#_the_modern_centralized_system_management">4.5.2. Современное централизованное управление системой</a></span></dt>
<dt><span class="section"><a href="#_why_gnu_su_does_not_support_the_wheel_group">4.5.3. "Почему GNU su не поддерживает группу wheel"</a></span></dt>
<dt><span class="section"><a href="#_stricter_password_rule">4.5.4. Повышение надёжности паролей</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_other_access_controls">4.6. Другие ограничения доступа</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_sudo">4.6.1. sudo</a></span></dt>
<dt><span class="section"><a href="#_selinux">4.6.2. SELinux</a></span></dt>
<dt><span class="section"><a href="#_restricting_access_to_some_server_services">4.6.3. Ограничение доступа к службам сервера</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_security_of_authentication">4.7. Безопасность авторизации</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_secure_password_over_the_internet">4.7.1. Безопасность передачи пароля в сети Internet</a></span></dt>
<dt><span class="section"><a href="#_secure_shell">4.7.2. Защищённая оболочка (Secure Shell)</a></span></dt>
<dt><span class="section"><a href="#_extra_security_measures_for_the_internet">4.7.3. Особые меры безопасности в Интернете</a></span></dt>
<dt><span class="section"><a href="#_securing_the_root_password">4.7.4. Защита пароля root</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#_network_setup">5. Настройка сети</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_basic_network_infrastructure">5.1. Основы сетевой инфраструктуры</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_domain_name">5.1.1. Доменное имя</a></span></dt>
<dt><span class="section"><a href="#_the_hostname_resolution">5.1.2. Определение имени узла (hostname resolution)</a></span></dt>
<dt><span class="section"><a href="#_the_network_interface_name">5.1.3. Имя сетевого интерфейса</a></span></dt>
<dt><span class="section"><a href="#_the_network_address_range_for_the_lan">5.1.4. Диапазоны сетевых адресов для ЛВС</a></span></dt>
<dt><span class="section"><a href="#_the_network_device_support">5.1.5. Поддержка сетевых устройств</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_modern_network_configuration_for_desktop">5.2. Современная конфигурация сети для настольного компьютера</a></span></dt>
<dd><dl><dt><span class="section"><a href="#_gui_network_configuration_tools">5.2.1. Графические средства настройки сети</a></span></dt></dl></dd>
<dt><span class="section"><a href="#_the_legacy_network_connection_and_configuration">5.3. Традиционные (legacy) способы настройки сети</a></span></dt>
<dt><span class="section"><a href="#_the_network_connection_method_legacy">5.4. Традиционный способ установки подключения к сети</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_dhcp_connection_with_the_ethernet">5.4.1. Подключение по DHCP в сети Ethernet</a></span></dt>
<dt><span class="section"><a href="#_the_static_ip_connection_with_the_ethernet">5.4.2. Статический IP в сети Ethernet</a></span></dt>
<dt><span class="section"><a href="#_the_ppp_connection_with_pppconfig">5.4.3. Настройка PPP-соединения с помощью pppconfig</a></span></dt>
<dt><span class="section"><a href="#_the_alternative_ppp_connection_with_wvdialconf">5.4.4. Настройка PPP-соединения с помощью wvdialconf</a></span></dt>
<dt><span class="section"><a href="#_the_pppoe_connection_with_pppoeconf">5.4.5. Настройка PPPoE-соединения с помощью pppoeconf</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_basic_network_configuration_with_ifupdown_legacy">5.5. Традиционный способ настройки сети с помощью ifupdown</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_command_syntax_simplified">5.5.1. Упрощённый синтаксис команд</a></span></dt>
<dt><span class="section"><a href="#_the_basic_syntax_of_etc_network_interfaces">5.5.2. Простейший синтаксис "/etc/network/interfaces"</a></span></dt>
<dt><span class="section"><a href="#_the_loopback_network_interface">5.5.3. Устройство обратной связи (loopback)</a></span></dt>
<dt><span class="section"><a href="#_the_network_interface_served_by_the_dhcp">5.5.4. Сетевой интерфейс, обслуживаемый протоколом DHCP</a></span></dt>
<dt><span class="section"><a href="#_the_network_interface_with_the_static_ip">5.5.5. Сетевой интерфейс со статическим IP-адресом</a></span></dt>
<dt><span class="section"><a href="#_the_basics_of_wireless_lan_interface">5.5.6. Основные сведения о настройке беспроводного интерфейса</a></span></dt>
<dt><span class="section"><a href="#_the_wireless_lan_interface_with_wpa_wpa2">5.5.7. The wireless LAN interface with WPA/WPA2</a></span></dt>
<dt><span class="section"><a href="#_the_wireless_lan_interface_with_wep">5.5.8. The wireless LAN interface with WEP</a></span></dt>
<dt><span class="section"><a href="#_the_ppp_connection">5.5.9. PPP-соединение</a></span></dt>
<dt><span class="section"><a href="#_the_alternative_ppp_connection">5.5.10. PPP-соединение с wvdial</a></span></dt>
<dt><span class="section"><a href="#_the_pppoe_connection">5.5.11. PPPoE-соединение</a></span></dt>
<dt><span class="section"><a href="#_the_network_configuration_state_of_ifupdown">5.5.12. Состояние подключения с ifupdown</a></span></dt>
<dt><span class="section"><a href="#_the_basic_network_reconfiguration">5.5.13. Изменение настроек сети (простейший случай)</a></span></dt>
<dt><span class="section"><a href="#_the_ifupdown_extra_package">5.5.14. Пакет ifupdown-extra</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_advanced_network_configuration_with_ifupdown_legacy">5.6. The advanced network configuration with ifupdown (legacy)</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_ifplugd_package">5.6.1. Пакет ifplugd</a></span></dt>
<dt><span class="section"><a href="#_the_ifmetric_package">5.6.2. Пакет ifmetric</a></span></dt>
<dt><span class="section"><a href="#_the_virtual_interface">5.6.3. Виртуальный интерфейс</a></span></dt>
<dt><span class="section"><a href="#_the_advanced_command_syntax">5.6.4. The advanced command syntax</a></span></dt>
<dt><span class="section"><a href="#_the_mapping_stanza">5.6.5. The mapping stanza</a></span></dt>
<dt><span class="section"><a href="#_the_manually_switchable_network_configuration">5.6.6. Переключение между различными конфигурациями сети вручную</a></span></dt>
<dt><span class="section"><a href="#_scripting_with_the_ifupdown_system">5.6.7. Подключение своих сценариев к системе ifupdown</a></span></dt>
<dt><span class="section"><a href="#_mapping_with_guessnet">5.6.8. Mapping with guessnet</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_low_level_network_configuration">5.7. Низкоуровневая настройка сети</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_iproute2_commands">5.7.1. Команды iproute2</a></span></dt>
<dt><span class="section"><a href="#_safe_low_level_network_operations">5.7.2. Безопасные низкоуровневые операции с сетью</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_network_optimization">5.8. Оптимизация сети</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_finding_optimal_mtu">5.8.1. Поиск оптимальной величины MTU</a></span></dt>
<dt><span class="section"><a href="#_setting_mtu">5.8.2. Установка MTU</a></span></dt>
<dt><span class="section"><a href="#_wan_tcp_optimization">5.8.3. WAN TCP optimization</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_netfilter_infrastructure">5.9. Инфраструктура Netfilter</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="#_network_applications">6. Сетевые приложения</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_web_browsers">6.1. Web-браузеры</a></span></dt>
<dd><dl><dt><span class="section"><a href="#_browser_configuration">6.1.1. Настройка браузера</a></span></dt></dl></dd>
<dt><span class="section"><a href="#_the_mail_system">6.2. Почтовая система</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_modern_mail_service_basics">6.2.1. Основы современной почтовой службы</a></span></dt>
<dt><span class="section"><a href="#_the_mail_configuration_strategy_for_workstation">6.2.2. Стратегия настройки почты на рабочей станции</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_mail_transport_agent_mta">6.3. Почтовый сервер (MTA)</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_configuration_of_exim4">6.3.1. Настройка exim4</a></span></dt>
<dt><span class="section"><a href="#_the_configuration_of_postfix_with_sasl">6.3.2. Настройка postfix с SASL</a></span></dt>
<dt><span class="section"><a href="#_the_mail_address_configuration">6.3.3. Настройка почтового адреса</a></span></dt>
<dt><span class="section"><a href="#_basic_mta_operations">6.3.4. Основные операции с MTA</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_mail_user_agent_mua">6.4. Почтовая программа пользователя (MUA)</a></span></dt>
<dd><dl><dt><span class="section"><a href="#_basic_mua_8212_mutt">6.4.1. Простая почтовая программа -- Mutt</a></span></dt></dl></dd>
<dt><span class="section"><a href="#_the_remote_mail_retrieval_and_forward_utility">6.5. Средства доставки и перенаправления почты</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_getmail_configuration">6.5.1. Настройка getmail</a></span></dt>
<dt><span class="section"><a href="#_fetchmail_configuration">6.5.2. Настройка fetchmail</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_mail_delivery_agent_mda_with_filter">6.6. Агент доставки (MDA) с поддержкой фильтрации</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_maildrop_configuration">6.6.1. Настройка maildrop</a></span></dt>
<dt><span class="section"><a href="#_procmail_configuration">6.6.2. Настройка procmail</a></span></dt>
<dt><span class="section"><a href="#_redeliver_mbox_contents">6.6.3. Перераспределение содержимого mbox</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_pop3_imap4_server">6.7. Сервер POP3/IMAP4</a></span></dt>
<dt><span class="section"><a href="#_the_print_server_and_utility">6.8. The print server and utility</a></span></dt>
<dt><span class="section"><a href="#_the_remote_access_server_and_utility_ssh">6.9. Сервер удалённого доступа и утилиты для него (SSH)</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_basics_of_ssh">6.9.1. Основы SSH</a></span></dt>
<dt><span class="section"><a href="#_port_forwarding_for_smtp_pop3_tunneling">6.9.2. Port forwarding for SMTP/POP3 tunneling</a></span></dt>
<dt><span class="section"><a href="#_connecting_without_remote_passwords">6.9.3. Соединение без ввода пароля</a></span></dt>
<dt><span class="section"><a href="#_dealing_with_alien_ssh_clients">6.9.4. SSH-клиенты для других ОС</a></span></dt>
<dt><span class="section"><a href="#_setting_up_ssh_agent">6.9.5. Настройка ssh-agent</a></span></dt>
<dt><span class="section"><a href="#_how_to_shutdown_the_remote_system_on_ssh">6.9.6. Как выключить удалённую систему по SSH</a></span></dt>
<dt><span class="section"><a href="#_troubleshooting_ssh">6.9.7. Решение трудностей с SSH</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_other_network_application_servers">6.10. Другие серверы сетевых приложений</a></span></dt>
<dt><span class="section"><a href="#_other_network_application_clients">6.11. Другие клиенты сетевых приложений</a></span></dt>
<dt><span class="section"><a href="#_the_diagnosis_of_the_system_daemons">6.12. Диагностика сетевых служб</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="#_the_x_window_system">7. Система X Window</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_key_packages">7.1. Ключевые пакеты</a></span></dt>
<dt><span class="section"><a href="#_setting_up_desktop_environment">7.2. Настройка среды рабочего стола</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_debian_menu">7.2.1. Меню Debian</a></span></dt>
<dt><span class="section"><a href="#_freedesktop_org_menu">7.2.2. Меню Freedesktop.org</a></span></dt>
<dt><span class="section"><a href="#_debian_menu_under_gnome_desktop_environment">7.2.3. Меню Debian в среде GNOME</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_server_client_relationship">7.3. Отношения сервера и клиента</a></span></dt>
<dt><span class="section"><a href="#_the_x_server">7.4. X-сервер</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_re_configuration_of_the_x_server">7.4.1. (Пере)настройка X-сервера</a></span></dt>
<dt><span class="section"><a href="#_the_connection_methods_to_the_x_server">7.4.2. Методы соединения с X-сервером</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_starting_the_x_window_system">7.5. Запуск системы X Window</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_starting_x_session_with_gdm">7.5.1. Запуск X-сессии с помощью gdm</a></span></dt>
<dt><span class="section"><a href="#_customizing_the_x_session_classic_method">7.5.2. Настройка X-сессии (традиционный способ)</a></span></dt>
<dt><span class="section"><a href="#_customizing_the_x_session_new_method">7.5.3. Настройка X-сессии (новый способ)</a></span></dt>
<dt><span class="section"><a href="#_connecting_a_remote_x_client_via_ssh">7.5.4. Соединение с удалённым X-клиентом по SSH</a></span></dt>
<dt><span class="section"><a href="#_secure_x_terminal_via_the_internet">7.5.5. Защищённый X-терминал, подключенный через Интернет</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_fonts_in_the_x_window">7.6. Шрифты в X Window</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_basic_fonts">7.6.1. Основные шрифты</a></span></dt>
<dt><span class="section"><a href="#_additional_fonts">7.6.2. Дополнительные шрифты</a></span></dt>
<dt><span class="section"><a href="#_cjk_fonts">7.6.3. Шрифты CJK</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_x_applications">7.7. Приложения X Window</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_x_office_applications">7.7.1. Офисные приложения X Window</a></span></dt>
<dt><span class="section"><a href="#_x_utility_applications">7.7.2. Полезные инструменты для X Window (утилиты)</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_x_trivia">7.8. Мелочи X Window</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_keymaps_and_pointer_button_mappings_in_x">7.8.1. Keymaps and pointer button mappings in X</a></span></dt>
<dt><span class="section"><a href="#_classic_x_clients">7.8.2. Классические X-клиенты</a></span></dt>
<dt><span class="section"><a href="#_the_x_terminal_emulator_8212_xterm">7.8.3. Эмулятор терминала -- xterm</a></span></dt>
<dt><span class="section"><a href="#_running_x_clients_as_root">7.8.4. Запуск X-клиентов от имени суперпользователя</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#_i18n_and_l10n">8. I18N и L10N</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_keyboard_input">8.1. Ввод с клавиатуры</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_input_method_support_with_ibus">8.1.1. Методы ввода IBus</a></span></dt>
<dt><span class="section"><a href="#_an_example_for_japanese">8.1.2. Пример для японского языка</a></span></dt>
<dt><span class="section"><a href="#_disabling_the_input_method">8.1.3. Отключение методов ввода</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_display_output">8.2. Отображаемый вывод</a></span></dt>
<dt><span class="section"><a href="#_the_locale">8.3. Локаль</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_basics_of_encoding">8.3.1. Основные сведения о кодировке</a></span></dt>
<dt><span class="section"><a href="#_rationale_for_utf_8_locale">8.3.2. Удобства UTF-8</a></span></dt>
<dt><span class="section"><a href="#_the_reconfiguration_of_the_locale">8.3.3. Настройка локализации</a></span></dt>
<dt><span class="section"><a href="#_the_value_of_the_literal_lang_literal_environment_variable">8.3.4. Значение переменной "<code class="literal">$LANG</code>"</a></span></dt>
<dt><span class="section"><a href="#_specific_locale_only_under_x_window">8.3.5. Определение особой локали для X Window</a></span></dt>
<dt><span class="section"><a href="#_filename_encoding">8.3.6. Кодировка имён файлов</a></span></dt>
<dt><span class="section"><a href="#_localized_messages_and_translated_documentation">8.3.7. Локализованные сообщения и переведённая документация</a></span></dt>
<dt><span class="section"><a href="#_effects_of_the_locale">8.3.8. Последствия установки локали</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#_system_tips">9. Советы по использованию системы</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_screen_program">9.1. Программа screen</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_use_scenario_for_screen_1">9.1.1. Сценарий использования screen(1)</a></span></dt>
<dt><span class="section"><a href="#_key_bindings_for_the_screen_command">9.1.2. Клавиши управления screen</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_data_recording_and_presentation">9.2. Запись и представление данных</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_log_daemon">9.2.1. Служба журналирования (log daemon)</a></span></dt>
<dt><span class="section"><a href="#_log_analyzer">9.2.2. Анализатор журнальных файлов (log analyzer)</a></span></dt>
<dt><span class="section"><a href="#_recording_the_shell_activities_cleanly">9.2.3. Записываем действия оболочки чисто</a></span></dt>
<dt><span class="section"><a href="#_customized_display_of_text_data">9.2.4. Настройка отображения текстовых данных</a></span></dt>
<dt><span class="section"><a href="#_customized_display_of_time_and_date">9.2.5. Настройка отображения времени и даты</a></span></dt>
<dt><span class="section"><a href="#_colorized_shell_echo">9.2.6. Подсветка вывода оболочки</a></span></dt>
<dt><span class="section"><a href="#_colorized_commands">9.2.7. Подсветка вывода команд</a></span></dt>
<dt><span class="section"><a href="#_recording_the_editor_activities_for_complex_repeats">9.2.8. Запись действий в редакторе для последующего повторения</a></span></dt>
<dt><span class="section"><a href="#_recording_the_graphic_image_of_an_x_application">9.2.9. Запись графического изображения приложений X-window (снимок экрана)</a></span></dt>
<dt><span class="section"><a href="#_recording_changes_in_configuration_files">9.2.10. Запись изменений в файлах конфигурации</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_data_storage_tips">9.3. Советы по работе с дисками и разделами</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_disk_partition_configuration">9.3.1. Настройка раздела диска</a></span></dt>
<dt><span class="section"><a href="#_accessing_partition_using_uuid">9.3.2. Обращение к разделам по их UUID</a></span></dt>
<dt><span class="section"><a href="#_filesystem_configuration">9.3.3. Настройки файловой системы</a></span></dt>
<dt><span class="section"><a href="#_filesystem_creation_and_integrity_check">9.3.4. Создание и проверка файловой системы</a></span></dt>
<dt><span class="section"><a href="#_optimization_of_filesystem_by_mount_options">9.3.5. Оптимизация файловой системы с помощью параметров монтирования</a></span></dt>
<dt><span class="section"><a href="#_optimization_of_filesystem_via_superblock">9.3.6. Оптимизация суперблока файловой системы</a></span></dt>
<dt><span class="section"><a href="#_optimization_of_hard_disk">9.3.7. Оптимизация жёсткого диска</a></span></dt>
<dt><span class="section"><a href="#_using_smart_to_predict_hard_disk_failure">9.3.8. Использование технологии SMART для предсказания сбоев диска</a></span></dt>
<dt><span class="section"><a href="#_expansion_of_usable_storage_space_via_lvm">9.3.9. Расширение доступного пространства диска с LVM</a></span></dt>
<dt><span class="section"><a href="#_expansion_of_usable_storage_space_by_mounting_another_partition">9.3.10. Расширение доступного пространства методом подключения другого раздела</a></span></dt>
<dt><span class="section"><a href="#_expansion_of_usable_storage_space_using_symlink">9.3.11. Расширение доступного пространства с помощью символической ссылки</a></span></dt>
<dt><span class="section"><a href="#_expansion_of_usable_storage_space_using_aufs">9.3.12. Расширение доступного пространства с помощью aufs</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_data_encryption_tips">9.4. Советы по шифрованию данных</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_removable_disk_encryption_with_dm_crypt_luks">9.4.1. Шифрование данных на сменных носителях с помощью dm-crypt/LUKS</a></span></dt>
<dt><span class="section"><a href="#_encrypted_swap_partition_with_dm_crypt">9.4.2. Шифрование раздела подкачки (swap) с помощью dm-crypt</a></span></dt>
<dt><span class="section"><a href="#_automatically_encrypting_files_with_ecryptfs">9.4.3. Автоматическое шифрование файлов с помощью eCryptfs</a></span></dt>
<dt><span class="section"><a href="#_automatically_mounting_ecryptfs">9.4.4. Автоматическое монтирование eCryptfs</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_monitoring_controlling_and_starting_program_activities">9.5. Наблюдение, управление и запуск действий программ</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_timing_a_process">9.5.1. Время выполнения процесса</a></span></dt>
<dt><span class="section"><a href="#_the_scheduling_priority">9.5.2. Приоритет выполнения</a></span></dt>
<dt><span class="section"><a href="#_the_ps_command">9.5.3. Команда ps</a></span></dt>
<dt><span class="section"><a href="#_the_top_command">9.5.4. Команда top</a></span></dt>
<dt><span class="section"><a href="#_listing_files_opened_by_a_process">9.5.5. Список файлов, открытых процессом</a></span></dt>
<dt><span class="section"><a href="#_tracing_program_activities">9.5.6. Отслеживание активности программ</a></span></dt>
<dt><span class="section"><a href="#_identification_of_processes_using_files_or_sockets">9.5.7. Определение процессов, использующих файлы или сокеты</a></span></dt>
<dt><span class="section"><a href="#_repeating_a_command_with_a_constant_interval">9.5.8. Повторение команды с заданным интервалом</a></span></dt>
<dt><span class="section"><a href="#_repeating_a_command_looping_over_files">9.5.9. Выполнение одной команды для многих файлов</a></span></dt>
<dt><span class="section"><a href="#_starting_a_program_from_gui">9.5.10. Запуск программы из GUI</a></span></dt>
<dt><span class="section"><a href="#_customizing_program_to_be_started">9.5.11. Настройка запускаемых программ</a></span></dt>
<dt><span class="section"><a href="#_killing_a_process">9.5.12. Завершение процесса (killing)</a></span></dt>
<dt><span class="section"><a href="#_scheduling_tasks_once">9.5.13. Установка времени однократного запуска программы</a></span></dt>
<dt><span class="section"><a href="#_scheduling_tasks_regularly">9.5.14. Установка расписания для запуска программ</a></span></dt>
<dt><span class="section"><a href="#_alt_sysrq_key">9.5.15. Клавиша Alt-SysRq</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_system_maintenance_tips">9.6. Советы по поддержке системы</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_who_is_on_the_system">9.6.1. Кто в системе сейчас?</a></span></dt>
<dt><span class="section"><a href="#_warning_everyone">9.6.2. Предупреждение для всех</a></span></dt>
<dt><span class="section"><a href="#_hardware_identification">9.6.3. Определение оборудования</a></span></dt>
<dt><span class="section"><a href="#_hardware_configuration">9.6.4. Настройка оборудования</a></span></dt>
<dt><span class="section"><a href="#_system_and_hardware_time">9.6.5. Системное и аппаратное время</a></span></dt>
<dt><span class="section"><a href="#_the_terminal_configuration">9.6.6. Настройки терминала</a></span></dt>
<dt><span class="section"><a href="#_the_sound_infrastructure">9.6.7. Звуковая подсистема</a></span></dt>
<dt><span class="section"><a href="#_disabling_the_screen_saver">9.6.8. Отключение хранителя экрана</a></span></dt>
<dt><span class="section"><a href="#_disabling_beep_sounds">9.6.9. Отключение встроенного динамика (speaker)</a></span></dt>
<dt><span class="section"><a href="#_memory_usage">9.6.10. Использование памяти</a></span></dt>
<dt><span class="section"><a href="#_system_security_and_integrity_check">9.6.11. System security and integrity check</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_kernel">9.7. Ядро</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_linux_kernel_2_6">9.7.1. Ядра Linux версий 2.6</a></span></dt>
<dt><span class="section"><a href="#_kernel_parameters">9.7.2. Параметры ядра</a></span></dt>
<dt><span class="section"><a href="#_kernel_headers">9.7.3. Заголовки ядра</a></span></dt>
<dt><span class="section"><a href="#_compiling_the_kernel_and_related_modules">9.7.4. Компиляция ядра и модулей</a></span></dt>
<dt><span class="section"><a href="#_compiling_the_kernel_source_debian_standard_method">9.7.5. Компиляция ядра: стандартный для Debian способ</a></span></dt>
<dt><span class="section"><a href="#_compiling_the_module_source_debian_standard_method">9.7.6. Компиляция модулей: стандартный для Debian способ</a></span></dt>
<dt><span class="section"><a href="#_compiling_the_kernel_source_classic_method">9.7.7. Компиляция ядра: обычный способ</a></span></dt>
<dt><span class="section"><a href="#_non_free_hardware_drivers">9.7.8. Non-free драйвера устройств</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_virtualized_system">9.8. Виртуализация</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_virtualization_tools">9.8.1. Средства виртуализации</a></span></dt>
<dt><span class="section"><a href="#_virtualization_work_flow">9.8.2. Виртуализация: цикл настройки</a></span></dt>
<dt><span class="section"><a href="#_mounting_the_virtual_disk_image_file">9.8.3. Монтирование образа виртуального диска</a></span></dt>
<dt><span class="section"><a href="#_chroot_system">9.8.4. Система в chroot</a></span></dt>
<dt><span class="section"><a href="#_multiple_desktop_systems">9.8.5. Несколько ОС на одной настольной системе</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#_data_management">10. Управление данными</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_sharing_copying_and_archiving">10.1. Предоставление доступа, копирование и архивирование</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_archive_and_compression_tools">10.1.1. Средства сжатия и архивирования</a></span></dt>
<dt><span class="section"><a href="#_copy_and_synchronization_tools">10.1.2. Средства копирования и синхронизации</a></span></dt>
<dt><span class="section"><a href="#_idioms_for_the_archive">10.1.3. Идиомы для архивирования</a></span></dt>
<dt><span class="section"><a href="#_idioms_for_the_copy">10.1.4. Идиомы для копирования</a></span></dt>
<dt><span class="section"><a href="#_idioms_for_the_selection_of_files">10.1.5. Идиомы для отбора файлов</a></span></dt>
<dt><span class="section"><a href="#_backup_and_recovery">10.1.6. Резервное копирование и восстановление</a></span></dt>
<dt><span class="section"><a href="#_backup_utility_suites">10.1.7. Средства для резервного копирования</a></span></dt>
<dt><span class="section"><a href="#_an_example_script_for_the_system_backup">10.1.8. Пример сценария для резервного копирования</a></span></dt>
<dt><span class="section"><a href="#_a_copy_script_for_the_data_backup">10.1.9. A copy script for the data backup</a></span></dt>
<dt><span class="section"><a href="#_removable_storage_device">10.1.10. Съёмные устройства хранения данных</a></span></dt>
<dt><span class="section"><a href="#_sharing_data_via_network">10.1.11. Обмен данными через сеть</a></span></dt>
<dt><span class="section"><a href="#_archive_media">10.1.12. Выбор устройства для хранения архива</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_disk_image">10.2. Образ диска</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_making_the_disk_image_file">10.2.1. Создание файла с образом диска</a></span></dt>
<dt><span class="section"><a href="#_writing_directly_to_the_disk">10.2.2. Запись на диск напрямую</a></span></dt>
<dt><span class="section"><a href="#_mounting_the_disk_image_file">10.2.3. Монтирование файла с образом диска</a></span></dt>
<dt><span class="section"><a href="#_cleaning_a_disk_image_file">10.2.4. Очистка образа диска</a></span></dt>
<dt><span class="section"><a href="#_making_the_empty_disk_image_file">10.2.5. Создание пустого образа диска</a></span></dt>
<dt><span class="section"><a href="#_making_the_iso9660_image_file">10.2.6. Создание образа файловой системы ISO9660</a></span></dt>
<dt><span class="section"><a href="#_writing_directly_to_the_cd_dvd_r_rw">10.2.7. Запись образа диска на CD/DVD-R/RW</a></span></dt>
<dt><span class="section"><a href="#_mounting_the_iso9660_image_file">10.2.8. Монтирование образа диска ISO9660</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_binary_data">10.3. Двоичные данные</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_viewing_and_editing_binary_data">10.3.1. Просмотр и редактирование двоичных данных</a></span></dt>
<dt><span class="section"><a href="#_manipulating_files_without_mounting_disk">10.3.2. Как манипулировать файлами, не монтируя диск</a></span></dt>
<dt><span class="section"><a href="#_data_redundancy">10.3.3. Data redundancy</a></span></dt>
<dt><span class="section"><a href="#_data_file_recovery_and_forensic_analysis">10.3.4. Восстановление данных и компьютерная экспертиза</a></span></dt>
<dt><span class="section"><a href="#_splitting_a_large_file_into_small_files">10.3.5. Как разбить большой файл на мелкие кусочки</a></span></dt>
<dt><span class="section"><a href="#_clearing_file_contents">10.3.6. Очистка содержимого файла</a></span></dt>
<dt><span class="section"><a href="#_dummy_files">10.3.7. Пустые файлы (dummy)</a></span></dt>
<dt><span class="section"><a href="#_erasing_an_entire_hard_disk">10.3.8. Очистка содержимого всего диска</a></span></dt>
<dt><span class="section"><a href="#_erasing_unused_area_of_an_hard_disk">10.3.9. Очистка неиспользуемых областей жёсткого диска</a></span></dt>
<dt><span class="section"><a href="#_undeleting_deleted_but_still_open_files">10.3.10. Восстановление удалённых, но всё ещё открытых файлов</a></span></dt>
<dt><span class="section"><a href="#_searching_all_hardlinks">10.3.11. Поиск всех жёстких ссылок (hardlinks)</a></span></dt>
<dt><span class="section"><a href="#_invisible_disk_space_consumption">10.3.12. Невидимое потребление места на диске</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_data_security_infrastructure">10.4. Инфраструктура защиты данных</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_key_management_for_gnupg">10.4.1. Управление ключами GnuPG</a></span></dt>
<dt><span class="section"><a href="#_using_gnupg_on_files">10.4.2. Команды GnuPG для файлов</a></span></dt>
<dt><span class="section"><a href="#_using_gnupg_with_mutt">10.4.3. Using GnuPG with Mutt</a></span></dt>
<dt><span class="section"><a href="#_using_gnupg_with_vim">10.4.4. Using GnuPG with Vim</a></span></dt>
<dt><span class="section"><a href="#_the_md5_sum">10.4.5. The MD5 sum</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_source_code_merge_tools">10.5. Средства для объединения файлов с исходным кодом (merge)</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_extracting_differences_for_source_files">10.5.1. Извлечение отличий между файлами с исходным кодом</a></span></dt>
<dt><span class="section"><a href="#_merging_updates_for_source_files">10.5.2. Merging updates for source files</a></span></dt>
<dt><span class="section"><a href="#_updating_via_3_way_merge">10.5.3. Updating via 3-way-merge</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_version_control_systems">10.6. Системы управления версиями (VCS)</a></span></dt>
<dd><dl><dt><span class="section"><a href="#_comparison_of_vcs_commands">10.6.1. Сравнение команд различных VCS</a></span></dt></dl></dd>
<dt><span class="section"><a href="#_cvs">10.7. CVS</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_configuration_of_cvs_repository">10.7.1. Настройка хранилища CVS</a></span></dt>
<dt><span class="section"><a href="#_local_access_to_cvs">10.7.2. Локальный доступ к CVS</a></span></dt>
<dt><span class="section"><a href="#_remote_access_to_cvs_with_pserver">10.7.3. Удалённый доступ к CVS с помощьюч pserver</a></span></dt>
<dt><span class="section"><a href="#_remote_access_to_cvs_with_ssh">10.7.4. Удалённый доступ к CVS по ssh</a></span></dt>
<dt><span class="section"><a href="#_importing_a_new_source_to_cvs">10.7.5. Importing a new source to CVS</a></span></dt>
<dt><span class="section"><a href="#_file_permissions_in_cvs_repository">10.7.6. Разрешения на доступ к файлам в хранилище CVS</a></span></dt>
<dt><span class="section"><a href="#_work_flow_of_cvs">10.7.7. Рабочий процесс использования CVS</a></span></dt>
<dt><span class="section"><a href="#_latest_files_from_cvs">10.7.8. Latest files from CVS</a></span></dt>
<dt><span class="section"><a href="#_administration_of_cvs">10.7.9. Administration of CVS</a></span></dt>
<dt><span class="section"><a href="#_execution_bit_for_cvs_checkout">10.7.10. Execution bit for CVS checkout</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_subversion">10.8. Subversion</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_configuration_of_subversion_repository">10.8.1. Настройка хранилища Subversion</a></span></dt>
<dt><span class="section"><a href="#_access_to_subversion_via_apache2_server">10.8.2. Доступ к Subversion с помощьюя сервера Apache2</a></span></dt>
<dt><span class="section"><a href="#_local_access_to_subversion_by_group">10.8.3. Локальный доступ к Subversion для группы пользователей</a></span></dt>
<dt><span class="section"><a href="#_remote_access_to_subversion_via_ssh">10.8.4. Удалённый доступ к Subversion по SSH</a></span></dt>
<dt><span class="section"><a href="#_subversion_directory_structure">10.8.5. Структура каталогов Subversion</a></span></dt>
<dt><span class="section"><a href="#_importing_a_new_source_to_subversion">10.8.6. Importing a new source to Subversion</a></span></dt>
<dt><span class="section"><a href="#_work_flow_of_subversion">10.8.7. Work flow of Subversion</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_git">10.9. Git</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_configuration_of_git_client">10.9.1. Настройка Git-клиента</a></span></dt>
<dt><span class="section"><a href="#_git_references">10.9.2. Ссылки по Git</a></span></dt>
<dt><span class="section"><a href="#_git_commands">10.9.3. Команды Git</a></span></dt>
<dt><span class="section"><a href="#_git_for_the_subversion_repository">10.9.4. Git для хранилища Subversion</a></span></dt>
<dt><span class="section"><a href="#_git_for_recording_configuration_history">10.9.5. Git для записи истории изменения конфигурационных файлов</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="chapter"><a href="#_data_conversion">11. Преобразование данных</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_text_data_conversion_tools">11.1. Средства преобразования текстов</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_converting_a_text_file_with_iconv">11.1.1. Изменение кодировки текстов с помощью iconv</a></span></dt>
<dt><span class="section"><a href="#_checking_file_to_be_utf_8_with_iconv">11.1.2. Проверка кодировки файла с помощью iconv (на примере UTF-8)</a></span></dt>
<dt><span class="section"><a href="#_converting_file_names_with_iconv">11.1.3. Преобразование имён файлов с помощью iconv</a></span></dt>
<dt><span class="section"><a href="#_eol_conversion">11.1.4. Преобразование символа конца строки EOL</a></span></dt>
<dt><span class="section"><a href="#_tab_conversion">11.1.5. Преобразование символа табуляции TAB</a></span></dt>
<dt><span class="section"><a href="#_editors_with_auto_conversion">11.1.6. Editors with auto-conversion</a></span></dt>
<dt><span class="section"><a href="#_plain_text_extraction">11.1.7. Извлечение чистого текста (из файлов в разных форматах)</a></span></dt>
<dt><span class="section"><a href="#_highlighting_and_formatting_plain_text_data">11.1.8. Подсветка и форматирование текстовых данных</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_xml_data">11.2. Данные в формате XML</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_basic_hints_for_xml">11.2.1. Основные советы по XML</a></span></dt>
<dt><span class="section"><a href="#_xml_processing">11.2.2. XML processing</a></span></dt>
<dt><span class="section"><a href="#_the_xml_data_extraction">11.2.3. The XML data extraction</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_printable_data">11.3. Printable data</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_ghostscript">11.3.1. Ghostscript</a></span></dt>
<dt><span class="section"><a href="#_merge_two_ps_or_pdf_files">11.3.2. Merge two PS or PDF files</a></span></dt>
<dt><span class="section"><a href="#_printable_data_utilities">11.3.3. Printable data utilities</a></span></dt>
<dt><span class="section"><a href="#_printing_with_cups">11.3.4. Printing with CUPS</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_type_setting">11.4. Набор и оформление текста</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_roff_typesetting">11.4.1. Использование roff</a></span></dt>
<dt><span class="section"><a href="#_tex_latex">11.4.2. TeX/LaTeX</a></span></dt>
<dt><span class="section"><a href="#_pretty_print_a_manual_page">11.4.3. Как красиво распечатать man-страницу</a></span></dt>
<dt><span class="section"><a href="#_creating_a_manual_page">11.4.4. Создание man-страницы</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_the_mail_data_conversion">11.5. Преобразование почтовых данных</a></span></dt>
<dd><dl><dt><span class="section"><a href="#_mail_data_basics">11.5.1. Основные сведения о почтовых данных</a></span></dt></dl></dd>
<dt><span class="section"><a href="#_graphic_data_tools">11.6. Средства для работы с графикой</a></span></dt>
<dt><span class="section"><a href="#_miscellaneous_data_conversion">11.7. Различные средства преобразования данных</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="#_programming">12. Программирование</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_shell_script">12.1. Сценарий оболочки</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_posix_shell_compatibility">12.1.1. Совместимость с POSIX</a></span></dt>
<dt><span class="section"><a href="#_shell_parameters">12.1.2. Параметры сценария оболочки</a></span></dt>
<dt><span class="section"><a href="#_shell_conditionals">12.1.3. Условные операторы интерпретатора</a></span></dt>
<dt><span class="section"><a href="#_shell_loops">12.1.4. Циклы в сценариях оболочки</a></span></dt>
<dt><span class="section"><a href="#_the_shell_command_line_processing_sequence">12.1.5. Последовательность обработки командной строки</a></span></dt>
<dt><span class="section"><a href="#_utility_programs_for_shell_script">12.1.6. Вспомогательные программы, используемые сценарием</a></span></dt>
<dt><span class="section"><a href="#_shell_script_dialog">12.1.7. Диалоги в сценариях оболочки</a></span></dt>
<dt><span class="section"><a href="#_shell_script_example_with_zenity">12.1.8. Пример сценария с использованием zenity</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_make">12.2. Make</a></span></dt>
<dt><span class="section"><a href="#_c">12.3. C</a></span></dt>
<dd><dl><dt><span class="section"><a href="#_simple_c_program_gcc">12.3.1. Простая программа на C (gcc)</a></span></dt></dl></dd>
<dt><span class="section"><a href="#_debug">12.4. Отладка</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_basic_gdb_execution">12.4.1. Простой сеанс отладки с gdb</a></span></dt>
<dt><span class="section"><a href="#_debugging_the_debian_package">12.4.2. Отладка пакета Debian</a></span></dt>
<dt><span class="section"><a href="#_obtaining_backtrace">12.4.3. Получение backtrace</a></span></dt>
<dt><span class="section"><a href="#_advanced_gdb_commands">12.4.4. Advanced gdb commands</a></span></dt>
<dt><span class="section"><a href="#_debugging_x_errors">12.4.5. Отладка ошибок X Window</a></span></dt>
<dt><span class="section"><a href="#_check_dependency_on_libraries">12.4.6. Проверка зависимостей от библиотек</a></span></dt>
<dt><span class="section"><a href="#_memory_leak_detection_tools">12.4.7. Средства обнаружения утечек памяти</a></span></dt>
<dt><span class="section"><a href="#_static_code_analysis_tools">12.4.8. Инструменты для анализа статичного кода</a></span></dt>
<dt><span class="section"><a href="#_disassemble_binary">12.4.9. Дизассемблирование двоичного файла</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_flex_8212_a_better_lex">12.5. Flex -- улучшенный Lex</a></span></dt>
<dt><span class="section"><a href="#_bison_8212_a_better_yacc">12.6. Bison -- улучшенный Yacc</a></span></dt>
<dt><span class="section"><a href="#_autoconf">12.7. Autoconf</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_compile_and_install_a_program">12.7.1. Компиляция и установка программы</a></span></dt>
<dt><span class="section"><a href="#_uninstall_program">12.7.2. Удаление программы</a></span></dt>
</dl></dd>
<dt><span class="section"><a href="#_perl_short_script_madness">12.8. Perl short script madness</a></span></dt>
<dt><span class="section"><a href="#_web">12.9. Web</a></span></dt>
<dt><span class="section"><a href="#_the_source_code_translation">12.10. The source code translation</a></span></dt>
<dt><span class="section"><a href="#_making_debian_package">12.11. Создание пакета Debian</a></span></dt>
</dl></dd>
<dt><span class="appendix"><a href="#_appendix">A. Примечания</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="#_the_debian_maze">A.1. Лабиринт Debian</a></span></dt>
<dt><span class="section"><a href="#_copyright_history">A.2. Источники, история авторства</a></span></dt>
<dt><span class="section"><a href="#_document_format">A.3. Формат документа</a></span></dt>
</dl></dd>
</dl>
</div>
<div class="list-of-tables">
<p><b>Список таблиц</b></p>
<dl>
<dt>1.1. <a href="#listofinterestineprogrampackages">Список популярных программ для командной строки</a>
</dt>
<dt>1.2. <a href="#listofinformativentationpackages">Список рекомендуемой для чтения документации</a>
</dt>
<dt>1.3. <a href="#listofusageofkeydirectories">Назначения основных каталогов</a>
</dt>
<dt>1.4. <a href="#listofthefirstchacteroflsloutput">Значения первого символа в выводе "<code class="literal">ls -l</code>" (типы файлов)</a>
</dt>
<dt>1.5. <a href="#thenumericmodefoinchmodbcommands">Цифровое представление прав доступа для команды <code class="literal">chmod</code>(1)</a>
</dt>
<dt>1.6. <a href="#theumaskvalueexamples">Примеры значений <span class="strong">umask</span></a>
</dt>
<dt>1.7. <a href="#listofnotablesysupsforfileaccess">Список важных групп, предоставляемых системой для настройки доступа</a>
</dt>
<dt>1.8. <a href="#listofnotablesysommandexecutions">Список основных системных групп для разрешения выполнения отдельных команд</a>
</dt>
<dt>1.9. <a href="#listoftypesoftimestamps">Список типов временных меток</a>
</dt>
<dt>1.10. <a href="#listofspecialdevicefiles">Некоторые специальные устройства и их описание</a>
</dt>
<dt>1.11. <a href="#thekeybindingsofmc">Клавиши управления в MC</a>
</dt>
<dt>1.12. <a href="#thereactiontotheenterkeyinmc">Реакция MC на нажатие клавиши Enter</a>
</dt>
<dt>1.13. <a href="#list-of-shell-programs">Список интерпретаторов команд</a>
</dt>
<dt>1.14. <a href="#listofkeybindingsforbash">Горячие клавиши bash</a>
</dt>
<dt>1.15. <a href="#listofunixstylemouseoperations">Список команд для работы с мышью</a>
</dt>
<dt>1.16. <a href="#listofbasicunixcommands">Примеры часто используемых команд</a>
</dt>
<dt>1.17. <a href="#dpartsoflocalevalue">3 части переменной "<code class="literal">$LANG</code>"</a>
</dt>
<dt>1.18. <a href="#listoflocalerecommendations">Список рекомендованных значений $LANG</a>
</dt>
<dt>1.19. <a href="#listofhomevalues">Список значений переменной "$HOME"</a>
</dt>
<dt>1.20. <a href="#shellglobpatterns">Шаблоны для имён файлов</a>
</dt>
<dt>1.21. <a href="#commandexitcodes">Возвращаемые значения команд</a>
</dt>
<dt>1.22. <a href="#shellcommandidioms">Идиомы shell</a>
</dt>
<dt>1.23. <a href="#predefinedfiledescriptors">Предопределённые дескрипторы</a>
</dt>
<dt>1.24. <a href="#metacharactersforbreandere">Мета-символы в BRE и ERE</a>
</dt>
<dt>1.25. <a href="#thereplacementexpression">Специальные символы в заменяющих выражениях</a>
</dt>
<dt>1.26. <a href="#listofscriptsniporpipingcommands">Приёмы перенаправления команд</a>
</dt>
<dt>2.1. <a href="#listofdebianpackemanagementtools">Список программ для управления пакетами Debian</a>
</dt>
<dt>2.2. <a href="#listofdebianarchivesites">Адреса архивов Debian</a>
</dt>
<dt>2.3. <a href="#listofdebianarchivearea">Список областей архивов Debian (archive area)</a>
</dt>
<dt>2.4. <a href="#therelationshipbsuiteandcodename">Отношения между статусом (suite) и кодовым именем (codename)</a>
</dt>
<dt>2.5. <a href="#listofkeywebsiteaspecificpackage">Список основных сайтов для решения проблем с конкретным пакетом</a>
</dt>
<dt>2.6. <a href="#basicpackagemanaaptgetiaptcachei">Основные операции <code class="literal">aptitude</code>(8),
<code class="literal">apt-get</code>(8) и <code class="literal">apt-cache</code>(8)</a>
</dt>
<dt>2.7. <a href="#notablecommandopionsforaptitudei">Полезные ключи для aptitude</a>
</dt>
<dt>2.8. <a href="#listofkeybindingsforaptitude">Список команд aptitude</a>
</dt>
<dt>2.9. <a href="#listofviewsforaptitude">Виды списка пакетов в aptitude</a>
</dt>
<dt>2.10. <a href="#standard-package-views">Категоризация в стандартном окне пакетов</a>
</dt>
<dt>2.11. <a href="#listoftheaptituderegexformula">Правила для регулярных выражений в aptitude</a>
</dt>
<dt>2.12. <a href="#thelogfilesforpackageactivities">Лог-файлы истории действий с пакетами</a>
</dt>
<dt>2.13. <a href="#listofadvancedpagementoperations">Некоторые низкоуровневые операции с пакетами</a>
</dt>
<dt>2.14. <a href="#thecontentofthednarchivemetadata">Мета-данные архива Debian</a>
</dt>
<dt>2.15. <a href="#thenamestructureofdebianpackages">Строение имени пакетов в Debian</a>
</dt>
<dt>2.16. <a href="#theusablecharactbianpackagenames">Символы, используемые в различных частях имени пакета Debian</a>
</dt>
<dt>2.17. <a href="#thenotablefilescreatedbydpkg">Значимые файлы, создаваемые <code class="literal">dpkg</code></a>
</dt>
<dt>2.18. <a href="#listofthedefaultackagesourcetype">Список значений Pin-Priority по умолчанию для каждого типа источника пакета</a>
</dt>
<dt>2.19. <a href="#listoftheproxytofordebianarchive">Список прокси-серверов для архивов Debian</a>
</dt>
<dt>3.1. <a href="#listofbootloaders">Список загрузчиков</a>
</dt>
<dt>3.2. <a href="#themeaningofgrubparameters">Значения параметров GRUB</a>
</dt>
<dt>3.3. <a href="#listofbootutilitrthedebiansystem">Список загрузочных утилит для Debian</a>
</dt>
<dt>3.4. <a href="#listofrunlevelsationoftheirusage">Список уровней выполнения и описание их использования</a>
</dt>
<dt>3.5. <a href="#listofkernelerrorlevels">Список уровней сообщений ядра</a>
</dt>
<dt>4.1. <a href="#dimportantconfigilesforpam_unixi">3 важных конфигурационных файла для <code class="literal">pam_unix</code>(8)</a>
</dt>
<dt>4.2. <a href="#thesecondentrycontentofetcpasswd">Второе поле в "<code class="literal">/etc/passwd</code>"</a>
</dt>
<dt>4.3. <a href="#listofcommandstocountinformation">Список команд для управления учётными записями</a>
</dt>
<dt>4.4. <a href="#listoftoolstogeneratepassword">Средства генерации пароля</a>
</dt>
<dt>4.5. <a href="#listofnotablepamandnsssystems">Основные части систем NSS и PAM</a>
</dt>
<dt>4.6. <a href="#listofconfigurataccessedbythepam">Список конфигурационных файлов PAM и NSS</a>
</dt>
<dt>4.7. <a href="#listofinsecureanservicesandports">Список небезопасных служб и портов</a>
</dt>
<dt>4.8. <a href="#listoftoolstoprosecuritymeasures">Средства для применения особых мер безопасности</a>
</dt>
<dt>5.1. <a href="#listofnetworkconfigurationtools">Список средств настройки сети</a>
</dt>
<dt>5.2. <a href="#listofnetworkaddressranges">Список диапазонов сетевых адресов</a>
</dt>
<dt>5.3. <a href="#listofnetworkcondconnectionpaths">Список способов соединения при различных схемах подключения к сети</a>
</dt>
<dt>5.4. <a href="#listofnetworkcononconfigurations">Список конфигураций сетевого соединения</a>
</dt>
<dt>5.5. <a href="#listofnetworkconnectionacronyms">Список "сетевых" аббревиатур</a>
</dt>
<dt>5.6. <a href="#listofconfigurationwithpppconfig">Список файлов настройки PPP-соединения,
редактируемых сценарием pppconfig</a>
</dt>
<dt>5.7. <a href="#listofconfiguratonwithwvdialconf">Список файлов настройки PPP-соединения с помощью wvdialconf</a>
</dt>
<dt>5.8. <a href="#listofconfigurationwithpppoeconf">Список конфигурационных файлов для PPPoE-соединения, изменяемых pppoeconf</a>
</dt>
<dt>5.9. <a href="#listofbasicnetwoandswithifupdown">Список простых команд ifupdown</a>
</dt>
<dt>5.10. <a href="#list-of-stanzas-in-eni">Список записей для "<code class="literal">/etc/network/interfaces</code>"</a>
</dt>
<dt>5.11. <a href="#listofacronymsforwlan">Список "беспроводных" аббревиатур</a>
</dt>
<dt>5.12. <a href="#listofterminologornetworkdevices">List of terminology for network devices</a>
</dt>
<dt>5.13. <a href="#listofadvancedneandswithifupdown">List of advanced network configuration commands with ifupdown</a>
</dt>
<dt>5.14. <a href="#listofenvironmenheifupdownsystem">Список переменных среды окружения, устанавливаемых системой ifupdown</a>
</dt>
<dt>5.15. <a href="#translationtableiprouteccommands">Таблица соответствия старых команд из <code class="literal">net-tools</code> и новых
из <code class="literal">iproute2</code></a>
</dt>
<dt>5.16. <a href="#listoflowlevelnetworkcommands">Список низкоуровневых сетевых команд</a>
</dt>
<dt>5.17. <a href="#listofnetworkoptimizationtools">Список средств оптимизации сети</a>
</dt>
<dt>5.18. <a href="#basicguidelinesoeoptimalmtuvalue">Стандартные оптимальные значения MTU</a>
</dt>
<dt>5.19. <a href="#listoffirewalltools">Список средств для фаервола</a>
</dt>
<dt>6.1. <a href="#listofwebbrowsers">Список web-браузеров</a>
</dt>
<dt>6.2. <a href="#listofbrowserpluginpackages">Список пакетов с дополнениями (plugin) для браузеров</a>
</dt>
<dt>6.3. <a href="#listofbasicmailtesforworkstation">Список основных пакетов для MTA на рабочей станции</a>
</dt>
<dt>6.4. <a href="#listofchoicesforsindebianarchive">Список пакетов с MTA в Debian</a>
</dt>
<dt>6.5. <a href="#listofimportantpstfixmanualpages">Список важных справочных страниц по postfix</a>
</dt>
<dt>6.6. <a href="#listofmailaddresnfigurationfiles">Список файлов для настройки почтового адреса</a>
</dt>
<dt>6.7. <a href="#listofbasicmtaoperation">Список основных операций MTA</a>
</dt>
<dt>6.8. <a href="#listofmailuseragentmua">Список почтовых программ пользователя (MUA)</a>
</dt>
<dt>6.9. <a href="#listofremotemailforwardutilities">Список средств получения и перенаправления почты</a>
</dt>
<dt>6.10. <a href="#listofmdawithfilter">Список агентов доставки (MDA) с поддержкой фильтрации</a>
</dt>
<dt>6.11. <a href="#listofpopdimapeservers">Список серверов POP3/IMAP4</a>
</dt>
<dt>6.12. <a href="#listofprintserversandutilities">List of print servers and utilities</a>
</dt>
<dt>6.13. <a href="#listofremoteaccerverandutilities">Сервер и утилиты для удалённого доступа</a>
</dt>
<dt>6.14. <a href="#listofsshauthenttocolsandmethods">Список протоколов и методов аутентификации в SSH</a>
</dt>
<dt>6.15. <a href="#listofsshconfigurationfiles">Список конфигурационных файлов SSH</a>
</dt>
<dt>6.16. <a href="#listofsshclientstartupexamples">Список примеров запуска SSH-клиента</a>
</dt>
<dt>6.17. <a href="#listoffreesshcliorotherplatforms">Список свободных SSH-клиентов для других платформ</a>
</dt>
<dt>6.18. <a href="#listofothernetwoplicationservers">Список других серверов сетевых приложений</a>
</dt>
<dt>6.19. <a href="#listofnetworkapplicationclients">Список клиентов сетевых приложений</a>
</dt>
<dt>6.20. <a href="#listofpopularrfcs">Список широко известных RFC</a>
</dt>
<dt>7.1. <a href="#listofkeymetapackagesforxwindow">Список ключевых (мета)пакетов X Window</a>
</dt>
<dt>7.2. <a href="#listofserverclientterminology">Список терминологии X Window с точки зрения клиента и сервера</a>
</dt>
<dt>7.3. <a href="#listofconnectionhodstothexserver">Список способов соединения с X-сервером</a>
</dt>
<dt>7.4. <a href="#tableofpackagestindowfontsystems">Таблица пакетов, предоставляющих поддержку шрифтов в X Window</a>
</dt>
<dt>7.5. <a href="#tableofcorresponscripttypebfonts">Таблица соответствия шрифтов PostScript
Type 1</a>
</dt>
<dt>7.6. <a href="#tableofcorresponingtruetypefonts">Таблица соответствия шрифтов TrueType</a>
</dt>
<dt>7.7. <a href="#tableofkeywordsundicatefonttypes">Таблица ключевых слов, используемых в именах шрифтов CJK для определения их
типа</a>
</dt>
<dt>7.8. <a href="#listofbasicxofficeapplications">Список основных офисных приложений X Window</a>
</dt>
<dt>7.9. <a href="#listofbasicxutilityapplications">Список полезных приложений X Window</a>
</dt>
<dt>8.1. <a href="#listofkeyboardreigurationmethods">Способы перенастройки клавиатуры</a>
</dt>
<dt>8.2. <a href="#listofinputmethosupportswithibus">Список методов ввода, поддерживаемых IBus</a>
</dt>
<dt>9.1. <a href="#listofprogramstotworkconnections">Список программ, поддерживающих прерванные сетевые соединения</a>
</dt>
<dt>9.2. <a href="#listofkeybindingsforscreen">Список команд управления screen</a>
</dt>
<dt>9.3. <a href="#listofsystemloganalyzers">Список анализаторов журнальных файлов</a>
</dt>
<dt>9.4. <a href="#displayexamplesolcommandforlenny">Примеры отображения времени и даты командой "<code class="literal">ls -l</code>" в
<code class="literal">lenny</code></a>
</dt>
<dt>9.5. <a href="#listofgraphicimaanipulationtools">Список средств обработки изображений</a>
</dt>
<dt>9.6. <a href="#listofpackagestotionhistoryinvcs">Список пакетов для записи истории конфигурации в VCS</a>
</dt>
<dt>9.7. <a href="#listofdiskpartitnagementpackages">Список пакетов для управления разделами диска</a>
</dt>
<dt>9.8. <a href="#listoffilesystemnagementpackages">Список пакетов для управления файловыми системами</a>
</dt>
<dt>9.9. <a href="#listofdataencryptionutilities">Список средств шифрования данных</a>
</dt>
<dt>9.10. <a href="#listoftoolsformorogramactivities">Список средств для наблюдения и контроля за активностью программ</a>
</dt>
<dt>9.11. <a href="#listofnicevalueshedulingpriority">Список значений nice</a>
</dt>
<dt>9.12. <a href="#listofpscommandstyles">Список стилей команды ps</a>
</dt>
<dt>9.13. <a href="#listofcommandsfortop">Список команд для top</a>
</dt>
<dt>9.14. <a href="#listoffrequentlylsforkillcommand">Список сигналов, часто используемых с командой kill</a>
</dt>
<dt>9.15. <a href="#listofsakcommandkeys">Список клавиш-команд для SAK</a>
</dt>
<dt>9.16. <a href="#listofhardwareidntificationtools">Список средств определения оборудования</a>
</dt>
<dt>9.17. <a href="#listofhardwareconfigurationtools">Список средств настройки оборудования</a>
</dt>
<dt>9.18. <a href="#listofsoundpackages">List of sound packages</a>
</dt>
<dt>9.19. <a href="#listofcommandsfongthescreensaver">Список команд для отключения хранителя экрана</a>
</dt>
<dt>9.20. <a href="#listofmemorysizesreported">Список выводимых размеров памяти</a>
</dt>
<dt>9.21. <a href="#listoftoolsforsyndintegritycheck">List of tools for system security and integrity check</a>
</dt>
<dt>9.22. <a href="#listofkeypackagenthedebiansystem">Список пакетов, которые должны быть установлены для компиляции ядра в
системе Debian</a>
</dt>
<dt>9.23. <a href="#listofvirtualizationtools">Список средств виртуализации</a>
</dt>
<dt>10.1. <a href="#listofarchiveandcompressiontools">Список средств сжатия и архивирования</a>
</dt>
<dt>10.2. <a href="#listofcopyandsynhronizationtools">Список средств копирования и синхронизации</a>
</dt>
<dt>10.3. <a href="#listofbackupsuiteutilities">Список утилит для резервного копирования</a>
</dt>
<dt>10.4. <a href="#listofpackageswhingetcfstabentry">Список пакетов, позволяющих обычным пользователям монтировать съёмные
устройства без необходимости указывать их в "<code class="literal">/etc/fstab</code>".</a>
</dt>
<dt>10.5. <a href="#listoffilesystemalusagescenarios">List of filesystem choices for removable storage devices with typical usage
scenarios</a>
</dt>
<dt>10.6. <a href="#listofthenetworkcalusagescenario">List of the network service to chose with the typical usage scenario</a>
</dt>
<dt>10.7. <a href="#listofpackageswhndeditbinarydata">Список пакетов для просмотра и радактирования двоичных данных</a>
</dt>
<dt>10.8. <a href="#listofpackagestohoutmountingdisk">Список пакетов для манипуляций с файлами на непримонтированном диске</a>
</dt>
<dt>10.9. <a href="#listoftoolstoaddedundancytofiles">List of tools to add data redundancy to files</a>
</dt>
<dt>10.10. <a href="#listofpackagesfoforensicanalysis">Список пакетов для восстановления данных и для компьютерной экспертизы</a>
</dt>
<dt>10.11. <a href="#listofdatasecurirastructuretools">Список средств защиты данных</a>
</dt>
<dt>10.12. <a href="#listofgnuprivacythekeymanagement">Список команд GnuPG для управления ключами</a>
</dt>
<dt>10.13. <a href="#listofthemeaningofthetrustcode">Список значений кодов доверия (trust code)</a>
</dt>
<dt>10.14. <a href="#listofgnuprivacydcommandsonfiles">Список команд GnuPG для использования с файлами</a>
</dt>
<dt>10.15. <a href="#listofsourcecodemergetools">Список средств соединения файлов с исходным кодом (merge)</a>
</dt>
<dt>10.16. <a href="#list-of-vcs">Список средств VCS</a>
</dt>
<dt>10.17. <a href="#comparisonofnativevcscommands">Сравнение команд различных VCS</a>
</dt>
<dt>10.18. <a href="#notableoptionsfotargumentstocvsb">Notable options for CVS commands (use as first argument(s) to
<code class="literal">cvs</code>(1))</a>
</dt>
<dt>10.19. <a href="#notableoptionsfotargumentstosvnb">Важные параметры для команд Subversion (используйте как первый аргумент к
команде <code class="literal">svn</code>(1))</a>
</dt>
<dt>10.20. <a href="#listofgitrelatedkagesandcommands">Список пакетов и команд, связанных с Git</a>
</dt>
<dt>11.1. <a href="#listoftextdataconversiontools">Список средств преобразования текстов</a>
</dt>
<dt>11.2. <a href="#list-of-encoding-values">Кодировки и их использование</a>
</dt>
<dt>11.3. <a href="#listofeolstylesffferentplatforms">Символы конца строки в разных системах</a>
</dt>
<dt>11.4. <a href="#listoftabconversoreutilspackages">Список средств преобразования TAB из пакетов <code class="literal">bsdmainutils</code>
и <code class="literal">coreutils</code></a>
</dt>
<dt>11.5. <a href="#listoftoolstoextactplaintextdata">Список средств извлечения текстовых данных</a>
</dt>
<dt>11.6. <a href="#listoftoolstohigghtplaintextdata">Список средств подсветки текстов</a>
</dt>
<dt>11.7. <a href="#listofpredefinedentitiesforxml">Список предопределённых элементов XML ("'&lt;&gt;&amp;)</a>
</dt>
<dt>11.8. <a href="#listofxmltools">List of XML tools</a>
</dt>
<dt>11.9. <a href="#listofdssltools">List of DSSL tools</a>
</dt>
<dt>11.10. <a href="#listofxmldataextractiontools">List of XML data extraction tools</a>
</dt>
<dt>11.11. <a href="#listofxmlprettyprinttools">List of XML pretty print tools</a>
</dt>
<dt>11.12. <a href="#listofghostscripriptinterpreters">List of Ghostscript PostScript interpreters</a>
</dt>
<dt>11.13. <a href="#listofprintabledatautilities">List of printable data utilities</a>
</dt>
<dt>11.14. <a href="#listoftypesettingtools">Список средств вёрстки</a>
</dt>
<dt>11.15. <a href="#listofpackagestoeatingthemanpage">Список вспомогательных пакетов для создания man-страницы</a>
</dt>
<dt>11.16. <a href="#listofpackagestoildataconversion">Список пакетов для преобразования почтовых данных</a>
</dt>
<dt>11.17. <a href="#listofgraphicdatatools">Список средств для работы с графикой</a>
</dt>
<dt>11.18. <a href="#listofmiscellaneaconversiontools">Преобразование различных данных</a>
</dt>
<dt>12.1. <a href="#listofpackagestohelpprograming">Пакеты для программирования</a>
</dt>
<dt>12.2. <a href="#listoftypicalbashisms">Типичные бэшизмы</a>
</dt>
<dt>12.3. <a href="#listofshellparameters">Список параметров сценария оболочки</a>
</dt>
<dt>12.4. <a href="#listofshellparameterexpansions">Расширения параметров shell</a>
</dt>
<dt>12.5. <a href="#listofkeyshellpatersubstitutions">Операторы подстановки значений</a>
</dt>
<dt>12.6. <a href="#listoffilecompartionalexpression">Операторы проверки файлов для условных выражений</a>
</dt>
<dt>12.7. <a href="#listofstringcomptionalexpression">Сравнение строк в условных выражениях</a>
</dt>
<dt>12.8. <a href="#listofpackagescosforshellscripts">Пакеты, содержащие вспомогательные средства для сценариев оболочки</a>
</dt>
<dt>12.9. <a href="#listofuserinterfaceprograms">Список программ для создания пользовательского интерфейса</a>
</dt>
<dt>12.10. <a href="#listofmakeautomaticvariables">Список автоматических переменных make (automatic variables)</a>
</dt>
<dt>12.11. <a href="#listofmakevariableexpansions">Список операторов установки переменных</a>
</dt>
<dt>12.12. <a href="#listofadvancedgdbcommands">List of advanced gdb commands</a>
</dt>
<dt>12.13. <a href="#listofmemoryleakdetectiontools">Список средств выявления утечек памяти</a>
</dt>
<dt>12.14. <a href="#listoftoolsforstaticcodeanalysis">Список инструментов для анализа статичного кода</a>
</dt>
<dt>12.15. <a href="#listofyacccompatparsergenerators">Список совместимых с Yacc генераторов LALR-анализаторов</a>
</dt>
<dt>12.16. <a href="#listofsourcecodetranslationtools">List of source code translation tools</a>
</dt>
</dl>
</div>
<div class="preface" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_preface"></a>Введение</h2></div></div></div>
<p>В этом <a class="ulink" href="http://www.debian.org/doc/manuals/debian-reference/" target="_top">Справочнике по Debian (версия
2)</a> (2011-01-06 10:55:59 UTC) мы стремимся предоставить широкий обзор правил и
возможностей администрирования (настройки и управления) уже установленной
системы Debian.</p>
<p>Справочник предназначен для тех начинающих изучение Debian, кто не готов
получать информацию из исходных текстов программ, но хочет знать, как
работают системы <a class="ulink" href="http://ru.wikipedia.org/wiki/GNU" target="_top">GNU</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/Linux" target="_top">Linux</a>.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_disclaimer"></a>1. Отказ от гарантий</h2></div></div></div>
<p>Этот документ не предоставляет никаких гарантий. Все торговые марки являются
собственностью своих обладателей.</p>
<p>Система Debian постоянно развивается. Поддерживать документацию в актуальном
состоянии -- очень трудная задача. (Особенно трудная для документации,
переводимой на множество языков сообществом добровольных
разработчиков-волонтеров).Здесь описывается текущая нестабильная версия
Debian, но к моменту прочтения вами часть информации может уже не
соответствовать действительности.</p>
<p>Пожалуйста, относитесь к этому документу как ко второстепенному источнику
информации, не заменяющему основную документацию, и не призванному быть
исчерпывающим. Автор и редакторы не несут ответственности за ошибки,
упущения и неясности в документе.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_what_is_debian"></a>2. Что такое Debian</h2></div></div></div>
<p><a class="ulink" href="http://www.debian.org" target="_top">Проект Debian</a> -- это сообщество людей,
объединившихся для создания свободной операционной системы. Получившийся
продукт обладает следующими характеристиками:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Входящее в состав программное обеспечение должно быть свободным. Свобода
понимается как соответствие требованиям Общественного соглашения Debian и
Критериям Debian по определению свободы ПО (<a class="ulink" href="http://www.debian.org/social_contract" target="_top">Debian Social Contract and Debian
Free Software Guidelines, DFSG</a>).
</li>
<li>
Система создаётся усилиями добровольных волонтёров. Сайт проекта в
Интернете: <a class="ulink" href="http://www.debian.org" target="_top">http://www.debian.org</a>
</li>
<li>
В дистрибутив входит большое количество скомпилированного (готового к
использованию) высококачественного ПО.
</li>
<li>
Особое внимание уделяется стабильности и безопасности системы, а также
легкости получения обновлений, связанных с безопасностью.
</li>
<li>
Особое внимание уделяется возможности легко обновлять ПО до последних
версий, доступных в нестабильной (<code class="literal">unstable</code>) и тестируемой
(<code class="literal">testing</code>) версиях системы.
</li>
<li>
Большое количество поддерживаемых аппаратных платформ.
</li>
</ul></div>
<p>В Debian включено ПО из таких проектов, как <a class="ulink" href="http://ru.wikipedia.org/wiki/GNU" target="_top">GNU</a>,
<a class="ulink" href="http://ru.wikipedia.org/wiki/Linux" target="_top">Linux</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/BSD" target="_top">BSD</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/X_Window_System" target="_top">X</a>, <a class="ulink" href="http://en.wikipedia.org/wiki/Internet_Systems_Consortium" target="_top">ISC</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Apache_Software_Foundation" target="_top">Apache</a>, <a class="ulink" href="http://en.wikipedia.org/wiki/Ghostscript" target="_top">Ghostscript</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Common_UNIX_Printing_System" target="_top">Common Unix Printing System </a>,
<a class="ulink" href="http://ru.wikipedia.org/wiki/Samba" target="_top">Samba</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/GNOME" target="_top">GNOME</a>,
<a class="ulink" href="http://ru.wikipedia.org/wiki/KDE" target="_top">KDE</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Mozilla_Foundation" target="_top">Mozilla</a>,
<a class="ulink" href="http://ru.wikipedia.org/wiki/OpenOffice.org" target="_top">OpenOffice.org</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Vim" target="_top">Vim</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/TeX" target="_top">TeX</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/LaTeX" target="_top">LaTeX</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/DocBook" target="_top">DocBook</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Perl" target="_top">Perl</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Python" target="_top">Python</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Tcl" target="_top">Tcl</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Java" target="_top">Java</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Ruby" target="_top">Ruby</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/PHP" target="_top">PHP</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Berkeley_DB" target="_top">Berkeley DB</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/MySQL" target="_top">MySQL</a>,
<a class="ulink" href="http://ru.wikipedia.org/wiki/PostgreSQL" target="_top">PostgreSQL</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Exim" target="_top">Exim</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Postfix" target="_top">Postfix</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Mutt" target="_top">Mutt</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/FreeBSD" target="_top">FreeBSD</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/OpenBSD" target="_top">OpenBSD</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Plan_9" target="_top">Plan 9</a> и
многих других. Debian собирает разнообразные свободные программы в одну
систему.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_about_this_document"></a>3. Об этом документе</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_guiding_rules"></a>3.1. Принципы организации справочника</h3></div></div></div>
<p>При составлении этого справочника автор придерживался следующих принципов:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Предоставить общую картину и не углубляться в детали.
</li>
<li>
Коротко и просто (<span class="strong"><strong>KISS</strong></span>: Keep it Short and
Simple)
</li>
<li>
Не изобретая велосипедов, ссылаться на авторитетную документацию.
</li>
<li>
 Делать упор на не-графические программы и утилиты, приводить примеры с
использованием командной оболочки -- shell.
</li>
<li>
Быть объективным, предоставлять важную и существенную информацию в
соответствии с запросами большинства пользователей (по показателям системы
<a class="ulink" href="http://popcon.debian.org/" target="_top">popcon</a>, например).
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Я попробовал также пролить свет на иерархичность системы и её нижние уровни.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_prerequisites"></a>3.2. Что ожидается от читателя</h3></div></div></div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Предполагается, что читатель в состоянии приложить достаточные усилия для
самостоятельного поиска ответа вне этого справочника. Этот документ -- всего
лишь удобная начальная точка поиска.</p>
</div>
<p>Для поиска решения необходимо обращаться к следующим основным источникам:</p>
<div class="itemizedlist"><ul type="disc">
<li>
сайту проекта Debian <a class="ulink" href="http://www.debian.org" target="_top">http://www.debian.org</a> -- за общей
информацией
</li>
<li>
документации, устанавливаемой в
"<code class="literal">/usr/share/doc/&lt;имя_пакета&gt;</code>"
</li>
<li>
справочным страницам системы <span class="strong"><strong>man</strong></span>:
"<code class="literal">dpkg -L &lt;имя_пакета&gt;|grep '/man/man.*/'</code>"
</li>
<li>
справочной системе <span class="strong"><strong>info</strong></span>: "<code class="literal">dpkg
-L &lt;имя_пакета&gt;|grep '/info/'</code>"
</li>
<li>
отчётам об ошибках (bug report): <a class="ulink" href="http://bugs.debian.org/" target="_top">http//bugs.debian.org/&lt;имя_пакета&gt;</a>
</li>
<li>
Debian Wiki <a class="ulink" href="http://wiki.debian.org/" target="_top">http://wiki.debian.org/</a>
</li>
<li>
HOWTO из Linux Documentation Project: <a class="ulink" href="http://tldp.org/" target="_top">http://tldp.org/</a>
</li>
<li>
Единой спецификации UNIX (The Single UNIX Specification от Open Group's The
UNIX System Home Page на <a class="ulink" href="http://www.unix.org/" target="_top">http://www.unix.org/</a>)
</li>
<li>
свободной энциклопедии <a class="ulink" href="http://wikipedia.org/" target="_top">http://wikipedia.org/</a>
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Исчерпывающая документация ко многим пакетам вынесена в отдельные пакеты, в
названии которых к названию пакета добавлено "<code class="literal">-doc</code>" на
конце. Как правило, по умолчанию такая документация не устанавливается в
расчете на опытного пользователя.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_conventions"></a>3.3. Соглашения, принятые в документе</h3></div></div></div>
<p>Этот "Справочник по Debian" предоставляет информацию в виде коротких
сценариев для командного интерпретатора <code class="literal">Bash</code> и
комментариев к ним.</p>
<pre class="screen"># &lt;команда от имени пользователя root&gt;
$ &lt;команда от имени обычного пользователя&gt;</pre>
<p>Эти приглашения командной строки отличают используемую в примере учётную
запись и соответствуют значениям переменных окружения "<code class="literal">PS1='\$
'</code>" и "<code class="literal">PS2=' '</code>". Эти значения выбраны для лучшей
читабельности примеров и, как правило, отличаются на реальной установленной
системе.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>См. описание переменных "<code class="literal">$PS1</code>" и
"<code class="literal">$PS2</code>" в bash(1) ("man bash").</p>
</div>
<p><span class="strong"><strong>Действия</strong></span>, обязательные для системного
администратора, описаны в повелительном наклонении, например: "Нажимайте
клавишу Enter после набора каждой команды в Shell."</p>
<p>Колонка <span class="strong"><strong>описание</strong></span> в таблицах, следующая за
колонкой с именем пакета, содержит короткую фразу, соответствующую <a class="ulink" href="http://www.debian.org/doc/manuals/developers-reference/best-pkging-practices#bpp-desc-basics" target="_top">общим указаниям по описанию
пакетов</a>. Фразы в этой колонке начинаются с маленькой буквы и не
заканчиваются точкой.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Имена собственные, включая названия программ, пишутся с большой буквы везде.</p>
</div>
<p><span class="strong"><strong>Короткие команды</strong></span>, вставленные посреди
текста, выделяются двойными кавычками, например "<code class="literal">aptitude
safe-upgrade</code>".</p>
<p><span class="strong"><strong>Отрывки конфигурационных файлов</strong></span>,
вставленные прямо в основной текст, берутся в двойные кавычки и выделяются
моноширинным шрифтом. Вот так: "<code class="literal">deb-src</code>".</p>
<p><span class="strong"><strong>Команды</strong></span> называются своими именами и
выделяются моноширинным шрифтом. Иногда после имени команды идёт номер
раздела справочной документации (man), в котором описана эта команда,
например <code class="literal">bash</code>(1). Ожидается, что вы обратитесь к этой
документации таким способом:</p>
<pre class="screen">$ man 1 bash</pre>
<p><span class="strong"><strong>Man-страницы</strong></span> (manpages) называются своими
именами и выделяются моноширинным шрифтом. После имени страницы, в скобках,
следует номер раздела, где находится эта страница. Предполагается, что вы
обратитесь к ней таким способом:</p>
<pre class="screen">$ man 5 sources.list</pre>
<p>Страницы справочной системы <span class="strong"><strong>info</strong></span>
упоминаются в виде команды, по которой можно их открыть, берутся в двойные
кавычки и выделяются моноширинным шрифтом, например: "<code class="literal">info
make</code>". Вы сможете обратиться к этой странице с помощью такой
команды:</p>
<pre class="screen">$ info make</pre>
<p><span class="strong"><strong>Имена файлов</strong></span> берутся в двойные кавычки и
выделяются моноширинным шрифтом, например
"<code class="literal">/etc/passwd</code>". Если речь идёт о конфигурационном файле,
вы можете просмотреть его такой командой:</p>
<pre class="screen">$ sensible-pager "/etc/passwd"</pre>
<p><span class="strong"><strong>Имена каталогов</strong></span> берутся в двойные кавычки
и выделяются моноширинным шрифтом, например
"<code class="literal">/etc/init.d/</code>". Вам предлагается просмотреть содержимое
каталога следующей командой:</p>
<pre class="screen">$ mc "/etc/init.d/"</pre>
<p><span class="strong"><strong>Пакеты</strong></span> называются своими именами и
выделяются моноширинным шрифтом, например
<code class="literal">vim</code>. Приветствуется получение вами дополнительной
информации о пакете следующими способами:</p>
<pre class="screen">$ dpkg -L vim
$ apt-cache show vim
$ aptitude show vim</pre>
<p>Ссылки на <span class="strong"><strong>документацию</strong></span> могут быть либо в
виде полного имени файла в системе (тогда они выделяются моноширинным
шрифтом и берутся в двойные кавычки, вот так:
"<code class="literal">/usr/share/doc/sysv-rc/README.runlevels.gz</code>" или
<code class="literal">/usr/share/doc/sysv-rc/README.runlevels.gz</code>"), либо в виде
<a class="ulink" href="http://ru.wikipedia.org/wiki/URL" target="_top">URL</a>, например <a class="ulink" href="http://www.debian.org" target="_top">http://www.debian.org</a>. Приветствуется
прочтение этой документации, например, с помощью таких команд:</p>
<pre class="screen">$ zcat "/usr/share/doc/sysv-rc/README.runlevels.gz" | sensible-pager
$ sensible-browser "/usr/share/doc/base-passwd/users-and-groups.html"
$ sensible-browser "http://www.debian.org"</pre>
<p><span class="strong"><strong>Переменные окружения</strong></span> (environment
variables) упоминаются под своими именами, берутся в двойные кавычки и
выделяются моноширинным шрифтом. Имени переменной предшествует символ
"<code class="literal">$</code>". Например: "<code class="literal">$TERM</code>". Ожидается, что
вы просмотрите значение переменной таким способом:</p>
<pre class="screen">$ echo "$TERM"</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_debian_bts"></a>3.4. Debian BTS</h3></div></div></div>
<p>Знак "звёздочка" -- "*", расположенный справа, сразу вслед за именем каждого
пакета -- это ссылка на страницу <a class="ulink" href="http://www.debian.org/Bugs/" target="_top">Системы сообщений об ошибках Debian
(BTS)</a>, посвящённую этому пакету.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_popcon"></a>3.5. Статистика популярности пакетов popcon</h3></div></div></div>
<p>Данные системы <a class="ulink" href="http://popcon.debian.org/" target="_top">popcon</a> считаются объективным
показателем популярности пакета. Статистика постоянно обновляется, здесь же
приводятся данные на 2010-09-22 16:37:10 UTC, полученные от 92074 добровольно
"опрошенных" систем по 108543 пакетам Debian и 108543
аппаратным системам.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Учтите, что <code class="literal">unstable</code>-архив для платформы
<code class="literal">amd64</code> содержит только 30134 пакетов. Статистика
popcon содержит отчёты по большему количеству более старых установок.</p>
</div>
<p>Уровень популярности (popcon number) часто используемых пакетов вычисляется
так: "100 * (количество отчётов о часто используемом пакете/общее количество
отчётов)" и пишется как "V:&lt;уровень_популярности&gt;".</p>
<p>Уровень популярности (popcon number) установленных пакетов вычисляется так:
"100 * (количество отчётов об установленном пакете/общее количество
отчётов)".</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Цифры, полученные системой popcon всё-таки, конечно же, не могут быть
абсолютным мерилом значимости пакета. Многие факторы искажают
статистику. Например, если в системе, которая "принимает участие" в опросе,
каталог "<code class="literal">/bin</code>" находится на разделе, примонтированном с
параметром <code class="literal">"noatime"</code>, то получить данные о частоте
запуска программы становится невозможно для popcon.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_package_size"></a>3.6. Размер пакета</h3></div></div></div>
<p>Объективным показателем размера пакета является значение
"<code class="literal">Installed-Size</code>" выдаваемое командой "<code class="literal">apt-cache
show</code>" или "<code class="literal">aptitude show</code>". Размер приводится в
килобайтах (KiB, килобайт равен 1024 байтам).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Маленький размер пакета может обозначать, что этот пакет в нестабильном
(<code class="literal">unstable</code>) выпуске временный (dummy package), и он
устанавливает в порядке зависимости другой, настоящий пакет с
соответствующим содержимым. Система "подставных" пакетов обеспечивает
плавную замену или разделение пакетов (в процессе развития дистрибутива).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Размер пакета со звёздочкой на конце указывает, что в нестабильном выпуске
он отсутствует, и данные приводятся по пакету из стабильного выпуска.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_bug_reports_on_this_document"></a>3.7. Сообщения об ошибках в этом документе</h3></div></div></div>
<p>Пожалуйста, оформляйте сообщения об ошибках в пакете
<code class="literal">debian-reference</code>, используя программу
<code class="literal">reportbug</code>(1), если найдёте спорные вопросы в этом
документе. Пожалуйста, включайте в ваше сообщение предложения исправлений,
полученные с помощью команды "<code class="literal">diff -u</code>", приложенной к
текстовой версии или к исходному тексту.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_some_quotes_for_new_users"></a>4. Пара цитат для новых пользователей</h2></div></div></div>
<p>Приведу пару цитат из списка рассылки по Debian для просвещения новых
пользователей.</p>
<div class="itemizedlist"><ul type="disc">
<li>
"Это Unix. Здесь достаточно верёвок, чтобы повеситься." --- Miquel van
Smoorenburg <code class="literal">&lt;miquels at cistron.nl&gt;</code>
</li>
<li>
"Unix действительно дружественная система. Просто она умеет быть разборчивой
в друзьях." --- Tollef Fog Heen <code class="literal">&lt;tollef at add.no&gt;</code>
</li>
</ul></div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_gnu_linux_tutorials"></a>Глава 1. Основы работы в GNU/Linux</h2></div></div></div>
<p>Я думаю, что изучение компьютерной системы похоже на изучение нового
иностранного языка: учебники и документация полезны, но необходима
самостоятельная практика. Для плавного старта, выделю несколько базовых
моментов.</p>
<p><a class="ulink" href="http://www.debian.org" target="_top">Debian</a> <a class="ulink" href="http://ru.wikipedia.org/wiki/GNU" target="_top">GNU</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/Linux" target="_top">Linux</a> основана на ОС <a class="ulink" href="http://ru.wikipedia.org/wiki/UNIX" target="_top">UNIX</a>
-- <a class="ulink" href="http://en.wikipedia.org/wiki/Multi-user" target="_top">многопользовательской</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%BD%D0%BE%D1%81%D1%82%D1%8C" target="_top">многозадачной</a> операционной системе. Знание
сходств и различий UNIX и GNU/Linux может дать преимущества в использовании
системы, но для этого необходимо учиться.</p>
<p>Не уворачивайтесь от UNIX-ориентированной документации в пользу
исключительно GNU/Linux-ориентированной -- вы потеряете множество полезной
информации.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Если вы долгое время работаете в консоли <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">Unix-подобной</a> системы, то, вероятно, уже знаете
всё, о чём я здесь буду толковать. В этом случае можно использовать этот
раздел для проверки и повторения.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_console_basics"></a>1.1. "Консольные" основы</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_shell_prompt"></a>1.1.1. Приглашение командной строки</h3></div></div></div>
<p>После запуска система выводит текстовое приглашение входа в систему (login
screen) (если не установлено графическое окружение, <a class="ulink" href="http://ru.wikipedia.org/wiki/X_Window_System" target="_top">X Window System</a> и дисплей-менеджер, например
<code class="literal">gdm</code>). Допустим, имя системы (компьютера, hostname) --
<code class="literal">foo</code>, тогда приглашение входа будет </p>
<pre class="screen">foo login:</pre>
<p>Если вы установили графическое окружение (<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F" target="_top">GUI</a> --
например, <a class="ulink" href="http://ru.wikipedia.org/wiki/GNOME" target="_top">GNOME</a> или <a class="ulink" href="http://ru.wikipedia.org/wiki/KDE" target="_top">KDE</a>), то, чтобы увидеть это текстовое приглашение входа
нужно нажать Ctrl-Alt-F1; вернуться в GUI можно с помощью
Alt-F7. (см. раздел <a class="xref" href="#_virtual_consoles" title="1.1.6. Виртуальные терминалы">Раздел 1.1.6, «Виртуальные терминалы»</a>).</p>
<p>В приглашении входа вы вводите имя пользователя и нажимаете "Enter", потом
вводите пароль пользователя и снова нажимаете "Enter".</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В Unix маленькие буквы неравнозначны большим и воспринимаются системой как
разные символы. Традиционно имя пользователя состоит из символов младшего
регистра, заглавные буквы в имени пользователя даже могут восприниматься как
ошибка. Первая пользовательская учётная запись создаётся при установке
системы, дополнительные создаются командой <code class="literal">adduser</code>(8) от
имени рута (root). </p>
</div>
<p>После успешного ввода пароля выводится приветственное сообщение из файла
"<code class="literal">/etc/motd</code>" (Message Of The Day) и приглашение командной
строки.</p>
<pre class="screen">Debian GNU/Linux lenny/sid foo tty1
foo login: penguin
Password:
Last login: Sun Apr 22 09:29:34 2007 on tty1
Linux snoopy 2.6.20-1-amd64 #1 SMP Sun Apr 15 20:25:49 UTC 2007 x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
foo:~$</pre>
<p>Основная часть приветственного сообщения может быть изменена простым
редактированием файла "<code class="literal">/etc/motd</code>". Первая строчка выводит
информацию о системе, полученную командой "<code class="literal">uname -snrvm</code>".</p>
<p>Теперь вы в командной строке (shell), система слушает и выполняет ваши
команды.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_shell_prompt_under_x"></a>1.1.2. Командная строка в X Window</h3></div></div></div>
<p>Если в системе установлен графический оконный интерфейс пользователя (GUI --
Graphic User Interface), то при запуске системы открывается графический
экран входа. Отсюда можно войти в систему под не-привилегированным
пользователем (не root), также введя логин и пароль. Для переключения между
полями ввода можно использовать клавишу "Tab" или кнопку мыши.</p>
<p>После входа вы можете добраться до командной строки с помощью разнообразных
программ эмуляции терминала, например, <code class="literal">gnome-terminal(1)</code>,
<code class="literal">rxvt(1)</code> или <code class="literal">xterm(1)</code>. В окружении
GNOME такая программа должна вызываться из меню "Приложения" -&gt;
"Стандартные" -&gt; "Терминал" ("Applications" → "Accessories" → "Terminal").</p>
<p>Смотрите также <a class="xref" href="#_virtual_consoles" title="1.1.6. Виртуальные терминалы">Раздел 1.1.6, «Виртуальные терминалы»</a>.</p>
<p>В некоторых окружениях рабочего стола (например,
<code class="literal">fluxbox</code>), меню может вызываться щелчком мыши по любой
точке экрана.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_root_account"></a>1.1.3. Учётная запись администратора системы (root account)</h3></div></div></div>
<p>Эта учётная запись (root) называется также "<a class="ulink" href="http://ru.wikipedia.org/wiki/Root" target="_top">суперпользователем</a>" или "привилегированным
пользователем". Зайдя под этой учётной записью, вы можете выполнять
следующие (по сути, неограниченные) действия:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Читать, записывать и удалять любой файл в системе независимо от его
разрешений доступа.
</li>
<li>
Устанавливать владельцев и права доступа любых файлов в системе.
</li>
<li>
Устанавливать пароль любого непривилегированного пользователя в системе.
</li>
<li>
Входить под любой учётной записью без пароля.
</li>
</ul></div>
<p>Эти неограниченные возможности подразумевают обдуманность каждого действия и
ответственность за последствия.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Никогда не используйте пароль суперпользователя совместно с другими людьми.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Разрешения доступа к файлу могут быть установлены так, что он будет
недоступен или бесполезен для обычных пользователей. Например, оборудование,
как CD-ROM или звуковая плата, с точки зрения системы являются файлами, а
права доступа к нему определяются правами доступа к файлам их
устройств. Хотя использование учётной записи root -- быстрый способ
протестировать подобную ситуацию, постоянное решение должно быть сделано с
помощью специальных средств -- установки прав доступа (file permissions) и
членства пользователя в группах (см. <a class="xref" href="#_filesystem_permissions" title="1.2.3. Права доступа к файлам и каталогам">Раздел 1.2.3, «Права доступа к файлам и каталогам»</a>).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_root_shell_prompt"></a>1.1.4. Приглашение командной строки суперпользователя</h3></div></div></div>
<p>Есть несколько документированных способов получить root shell с
использованием пароля root:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Ввести имя <code class="literal">root</code> в текстовой консоли входа.
</li>
<li>
Запустить "Приложения" -&gt; "Стандартные" -&gt; "Root Terminal" ("Applications" →
"Accessories" → "Root Terminal") в GNOME.
</li>
<li>
<p>
С помощью команды "<code class="literal">su -l</code>" из консоли любого пользователя.
</p>
<div class="itemizedlist"><ul type="circle"><li>
Будут установлены переменные среды окружения пользователя root
</li></ul></div>
</li>
<li>
<p>
С помощью команды "<code class="literal">su</code>" от имени любого пользователя.
</p>
<div class="itemizedlist"><ul type="circle"><li>
Будут оставлены текущие переменные среды окружения.
</li></ul></div>
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_gui_system_administration_tools"></a>1.1.5. Средства администрирования в GUI</h3></div></div></div>
<p>Если из меню рабочего стола не получается запустить графические средства
управления системой с соответствующими правами, то это можно сделать из
командной строки в эмуляторе терминала, таком, как
<code class="literal">gnome-terminal(1)</code>, <code class="literal">rxvt(1)</code>,
<code class="literal">xterm(1)</code> и многих других. Как получить root shell --
предыдущий раздел <a class="xref" href="#_the_root_shell_prompt" title="1.1.4. Приглашение командной строки суперпользователя">Раздел 1.1.4, «Приглашение командной строки суперпользователя»</a> и раздел <a class="xref" href="#_running_x_clients_as_root" title="7.8.4. Запуск X-клиентов от имени суперпользователя">Раздел 7.8.4, «Запуск X-клиентов от имени суперпользователя»</a>.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Никогда не запускайте графическую систему от имени <code class="literal">root</code> в
консоли суперпользователя, например, с помощью команды
"<code class="literal">gdm</code>".</p>
</div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Никогда не запускайте недоверенные удалённые графические программы в X
Window, если на экране есть критичные данные, поскольку эти программы могут
прочитать содержимое экрана.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_virtual_consoles"></a>1.1.6. Виртуальные терминалы</h3></div></div></div>
<p>По умолчанию, в системе Debian доступны шесть текстовых консолей, в которых
можно запустить оболочку (shell). Для переключения между ними используется
сочетание клавиш: левая кнопка Alt плюс одна из кнопок F1-F6. Каждый
текстовый терминал позволяет совершить независимый вход в систему от имени
любого пользователя в многопользовательское окружение. Это окружение --
особенность Unix-систем, мощная и увлекательная среда.</p>
<p>Если вы находитесь в графической системе (X Window), переключиться в
текстовый терминал можно с помощью комбинации клавиш Ctrl-Alt-F1. Для
возврата в X Window можно нажать Alt-F7 (то есть переключиться в седьмую
виртуальную консоль, в которой обычно и запускается X Window).</p>
<p>Также переключиться в нужную консоль можно с помощью команды</p>
<pre class="screen"># chvt 1</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_how_to_leave_the_command_prompt"></a>1.1.7. Как выйти из командной строки</h3></div></div></div>
<p>Если в командной строке нажать <code class="literal">Ctrl-D</code>, то будет выполнена
команда "<code class="literal">exit</code>", и виртуальный терминал будет
закрыт. Здесь <code class="literal">Ctrl-D</code>, конечно же, означает одновременное
нажатие двух клавиш: <code class="literal">Control</code> и
<code class="literal">D</code>. <code class="literal">D</code> здесь -- название клавиши, и
размер её неважен. Часто подобные комбинации клавиш обозначаются как
<code class="literal">^D</code>.</p>
<p>Если вы в эмуляторе терминала системы X Window, для выхода можно также
закрыть окно.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_how_to_shutdown_the_system"></a>1.1.8. Как выключить систему</h3></div></div></div>
<p>Как и другие современные ОС, где операции с файлами используют <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9A%D1%8D%D1%88" target="_top">кэширование данных</a> в памяти для лучшей
производительности, система Debian для выключения должна выполнить разные
важные действия, и лишь потом питание может быть отключено. Эти действия
необходимы для сохранения целостности файлов, они записывают изменённые в
памяти данные на диск. Если доступно ПО для управления питанием, в конце
процедуры выключения система сама выключит и питание. (В противном случае,
вам может потребоваться подержать кнопку включения (power button) нажатой
несколько секунд _после_ процедуры остановки системы).</p>
<p>Процедура остановки системы и выключения компьютера в многопользовательском
режиме запускается командой</p>
<pre class="screen"># shutdown -h now</pre>
<p>В однопользовательском режиме можно воспользоваться командой</p>
<pre class="screen"># poweroff -i -f</pre>
<p>Ещё один способ -- нажать в текстовом терминале кнопки
<code class="literal">Ctrl-Alt-Delete</code>, которые по умолчанию запускают процедуру
перезагрузки системы. Этот метод будет работать, если файл
"<code class="literal">/etc/inittab</code>" содержит строчку
"<code class="literal">ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now</code>"</p>
<p>См. также <a class="xref" href="#_how_to_shutdown_the_remote_system_on_ssh" title="6.9.6. Как выключить удалённую систему по SSH">Раздел 6.9.6, «Как выключить удалённую систему по SSH»</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_recovering_a_sane_console"></a>1.1.9. Если экран "замусорился"</h3></div></div></div>
<p>Если экран "взбесился" и выводит кучу мусора (например, после вывода на него
какого-нибудь двоичного файла командой "<code class="literal">cat</code>"), введите
команду "<code class="literal">reset</code>" и нажмите "<code class="literal">Enter</code>",
даже если вы не видите, что набиваете. Также может пригодиться команда
"<code class="literal">clear</code>" для очистки экрана.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_additional_package_suggestions_for_the_newbie"></a>1.1.10. Дополнительные советы по пакетам программ для новичков</h3></div></div></div>
<p>Хотя даже минимальная установка системы Debian (без окружения рабочего
стола) предоставляет базовую функциональность Unix-системы, есть смысл
установить некоторые дополнительные пакеты программ для работы в текстовом
терминале, например файловый менеджер <code class="literal">mc</code>, текстовый
редактор <code class="literal">vim</code> (или более простой,
<code class="literal">nano</code>). Для установки используйте
<code class="literal">apt-get(8)</code>:</p>
<pre class="screen"># apt-get update
...
# apt-get install mc vim sudo
...</pre>
<p>Если эти программы уже установлены, то <code class="literal">aptitude</code> по этой
команде не будет что-либо переустанавливать или добавлять в систему.</p>
<div class="table">
<a name="listofinterestineprogrampackages"></a><p class="title"><b>Таблица 1.1. Список популярных программ для командной строки</b></p>
<div class="table-contents"><table summary="Список популярных программ для командной строки" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mc" target="_top"> <code class="literal">mc</code>
</a> <a class="ulink" href="http://bugs.debian.org/mc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mc" target="_top">V:11, I:28</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mc.html" target="_top">6508</a></td>
<td align="left">
    Полноэкранный файловый менеджер для текстового режима командной строки
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sudo" target="_top"> <code class="literal">sudo</code>
</a> <a class="ulink" href="http://bugs.debian.org/sudo" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sudo" target="_top">V:41, I:71</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sudo.html" target="_top">764</a></td>
<td align="left">
    Программа для получения ограниченных прав суперпользователя
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/vim" target="_top"> <code class="literal">vim</code>
</a> <a class="ulink" href="http://bugs.debian.org/vim" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=vim" target="_top">V:15, I:33</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/vim.html" target="_top">1832</a></td>
<td align="left">
    Текстовый редактор Vi IMproved для программистов (стандартная версия)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/vim-tiny" target="_top">
<code class="literal">vim-tiny</code> </a> <a class="ulink" href="http://bugs.debian.org/vim-tiny" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=vim-tiny" target="_top">V:16, I:92</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/vim-tiny.html" target="_top">836</a></td>
<td align="left">
    Текстовый редактор для программистов (компактная версия)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/emacs22" target="_top">
<code class="literal">emacs22</code> </a> <a class="ulink" href="http://bugs.debian.org/emacs22" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=emacs22" target="_top">V:3, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/emacs22.html" target="_top">11044</a></td>
<td align="left">
    Расширяемый текстовый редактор Emacs, основанный на интерпретаторе Lisp
(версия 22)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/emacs23" target="_top">
<code class="literal">emacs23</code> </a> <a class="ulink" href="http://bugs.debian.org/emacs23" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=emacs23" target="_top">V:2, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/emacs23.html" target="_top">13016</a></td>
<td align="left">
    Расширяемый текстовый редактор Emacs, основанный на интерпретаторе Lisp
(версия 23)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/w3m" target="_top"> <code class="literal">w3m</code>
</a> <a class="ulink" href="http://bugs.debian.org/w3m" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=w3m" target="_top">V:21, I:84</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/w3m.html" target="_top">1972</a></td>
<td align="left">
    WWW-браузеры для текстового режима
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gpm" target="_top"> <code class="literal">gpm</code>
</a> <a class="ulink" href="http://bugs.debian.org/gpm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gpm" target="_top">V:3, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gpm.html" target="_top">484</a></td>
<td align="left">
    Программа для копирования и вставки в текстовом терминале (служба)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Этот список основан на статистике популярности пакетов, полученной с помощью
системы popcon. Более простым текстовым редактором может быть, например, уже
упомянутый nano. Хорошей мыслью будет установить документацию из следующих
пакетов.</p>
<div class="table">
<a name="listofinformativentationpackages"></a><p class="title"><b>Таблица 1.2. Список рекомендуемой для чтения документации</b></p>
<div class="table-contents"><table summary="Список рекомендуемой для чтения документации" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/doc-debian" target="_top">
<code class="literal">doc-debian</code> </a> <a class="ulink" href="http://bugs.debian.org/doc-debian" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=doc-debian" target="_top">I:82</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/doc-debian.html" target="_top">408</a></td>
<td align="left">
    Документация по проекту Debian (Debian FAQ и др.)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/debian-policy" target="_top">
<code class="literal">debian-policy</code> </a> <a class="ulink" href="http://bugs.debian.org/debian-policy" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=debian-policy" target="_top">I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/debian-policy.html" target="_top">3500</a></td>
<td align="left">
    Руководство по политике Debian и связанные с ним документы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/developers-reference" target="_top">
<code class="literal">developers-reference</code> </a> <a class="ulink" href="http://bugs.debian.org/developers-reference" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=developers-reference" target="_top">I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/developers-reference.html" target="_top">1352</a></td>
<td align="left">
    Руководства для разработчиков Debian
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/maint-guide" target="_top">
<code class="literal">maint-guide</code> </a> <a class="ulink" href="http://bugs.debian.org/maint-guide" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=maint-guide" target="_top">I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/maint-guide.html" target="_top">776</a></td>
<td align="left">
    Руководства для сопровождающих пакеты Debian.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/debian-history" target="_top">
<code class="literal">debian-history</code> </a> <a class="ulink" href="http://bugs.debian.org/debian-history" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=debian-history" target="_top">I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/debian-history.html" target="_top">2648</a></td>
<td align="left">
    История проекта Debian
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/debian-faq" target="_top">
<code class="literal">debian-faq</code> </a> <a class="ulink" href="http://bugs.debian.org/debian-faq" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=debian-faq" target="_top">I:65</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/debian-faq.html" target="_top">1224</a></td>
<td align="left">
    Часто задаваемые вопросы по Debian (Debian FAQ)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/doc-linux-text" target="_top">
<code class="literal">doc-linux-text</code> </a> <a class="ulink" href="http://bugs.debian.org/doc-linux-text" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=doc-linux-text" target="_top">I:82</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/doc-linux-text.html" target="_top">8616</a></td>
<td align="left">
    Разнообразные HOWTO и FAQ по Linux (в текстовом формате)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/doc-linux-html" target="_top">
<code class="literal">doc-linux-html</code> </a> <a class="ulink" href="http://bugs.debian.org/doc-linux-html" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=doc-linux-html" target="_top">I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/doc-linux-html.html" target="_top">62564</a></td>
<td align="left">
    Разнообразные HOWTO и FAQ по Linux (в html)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sysadmin-guide" target="_top">
<code class="literal">sysadmin-guide</code> </a> <a class="ulink" href="http://bugs.debian.org/sysadmin-guide" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sysadmin-guide" target="_top">I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sysadmin-guide.html" target="_top">964</a></td>
<td align="left">
    The Linux System Administrators' Guide
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Для установки этих и любых других пакетов используйте команду</p>
<pre class="screen"># apt-get install имя_пакета</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_an_extra_user_account"></a>1.1.11. Дополнительные пользовательские учётные записи</h3></div></div></div>
<p>Если вы не хотите использовать свою учётную запись (например, для
тестирования, тренировки или экспериментов с системой), можно создать новые
учётные записи командой "adduser имя_пользователя". Например, чтобы создать
учётную запись <code class="literal">fish</code>:</p>
<pre class="screen"># adduser fish</pre>
<p>Программа adduser попросит ввести пароль для нового пользователя, и прочую
(необязательную для ввода) информацию. После этого можно заходить в систему
под этим пользователем.</p>
<p>Для удаления пользователя вместе с его домашней папкой используйте команду:</p>
<pre class="screen"># deluser --remove-home fish</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_sudo_configuration"></a>1.1.12. Настройка sudo</h3></div></div></div>
<p>Для компьютера, используемого обычно одним пользователем -- вами, в качестве
настольной или портативной системы (desktop или laptop), можно использовать
следующую простую конфигурацию <code class="literal">sudo(8)</code>, позволяющую
обычному, не-привилегированному, пользователю получить права
суперпользователя для выполнения отдельной команды. Для этого не нужен
пароль root, а только пароль пользователя. Например, разрешить пользователю
pinguin выполнять любую команду от имени root по своему паролю можно так:</p>
<pre class="screen"># echo "penguin  ALL=(ALL) ALL" &gt;&gt; /etc/sudoers</pre>
<p>Есть ещё один распространённый способ позволить обычному пользователю
(например, <code class="literal">penguin</code>) получать права суперпользователя без
пароля вообще:</p>
<pre class="screen"># echo "penguin  ALL=(ALL) NOPASSWD:ALL" &gt;&gt; /etc/sudoers</pre>
<p>Этот приём предназначен только для однопользовательской рабочей станции,
которую вы собственноручно администрируете, и где вы -- единственный
пользователь.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не настраивайте таким способом учётные записи обычных пользователей на
системах, где много реальных пользователей, так как это очень плохо для
безопасности системы.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Пароль и учётная запись пользователя (в данном случае penguin) в такой
настройке нуждается в защите в той же степени, что и пароль root, ведь имея
пароль пользователя, можно выполнять любые действия суперпользователя.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Административные привилегии в данном контексте означают конкретного
человека, которому разрешено выполнять задачи администрирования
системы. Никогда не давайте таких прав менеджерам IT-отдела или начальству,
разве что если они действительно должны и способны выполнять эти задачи.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Для предоставления доступа к некоторым устройствам или файлам нужно
использовать группы пользователей (<span class="strong"><strong>group</strong></span>)
и права доступа к файлам, а не раздавать привилегии суперпользователя с
помощью <code class="literal">sudo(8)</code>.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В более обдуманной и осторожной конфигурации, с помощью
<code class="literal">sudo(8)</code> можно предоставлять административные привилегии
другим пользователям без предоставления неограниченного доступа. Можно
настроить доступ разных администраторов на разных машинах на выполнение
разных разрешённых задач, нужно только описать, кому и что разрешено делать.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_play_time"></a>1.1.13. Время игр</h3></div></div></div>
<p>Теперь вы готовы играться с системой без такого большого риска всё порушить
одним движением, какой существует, если вы работаете под учётной записью
root.</p>
<p>При установке Debian автоматически настраиваются разрешения на доступ к
файлам и программам так, чтобы обычный пользователь не мог изменить никаких
системных настроек. Конечно же, могут существовать дыры, которые могут быть
использованы, но тот, кто беспокоится об этом, будет читать уже не этот
справочник а, например, <a class="ulink" href="http://www.debian.org/doc/manuals/securing-debian-howto/" target="_top">Securing Debian
Manual</a>.</p>
<p>План изучения системы Debian как <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">UNIX-подобной</a> системы у нас будет следующий:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<a class="xref" href="#_unix_like_filesystem" title="1.2. Unix-подобная файловая система">Раздел 1.2, «Unix-подобная файловая система»</a> (основы)
</li>
<li>
<a class="xref" href="#_midnight_commander_mc" title="1.3. Midnight Commander (MC)">Раздел 1.3, «Midnight Commander (MC)»</a> (методы выживания)
</li>
<li>
<a class="xref" href="#_the_basic_unix_like_work_environment" title="1.4. Основы пользовательского окружения Unix">Раздел 1.4, «Основы пользовательского окружения Unix»</a> (основы)
</li>
<li>
<a class="xref" href="#_the_simple_shell_command" title="1.5. О том, как работают команды shell">Раздел 1.5, «О том, как работают команды shell»</a>
</li>
<li>
<a class="xref" href="#_unix_like_text_processing" title="1.6. Работа с текстом в стиле Unix">Раздел 1.6, «Работа с текстом в стиле Unix»</a>
</li>
</ul></div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_unix_like_filesystem"></a>1.2. Unix-подобная файловая система</h2></div></div></div>
<p>В системах GNU/Linux и других <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">Unix-подобных</a>
операционных системах <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A4%D0%B0%D0%B9%D0%BB" target="_top">файлы</a> размещаются в
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B8%D1%80%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D1%8F_(%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0)" target="_top">каталогах</a>. Все файлы и каталоги образуют
одно большое дерево, иерархическую файловую структуру, корень которой
"<code class="literal">/</code>".</p>
<p>Эти файлы и каталоги могут физически находиться на разных устройствах и даже
на разных машинах в сети, но программа <code class="literal">mount(8)</code>
подключает их к своей системе так, как если бы вся система находилась в
одном месте (говорят: монтирует). Для отключения (отмонтирования) какой-либо
части файловой системы, которая находится на каком-то физическом носителе,
используется команда <code class="literal">umount(8)</code>.</p>
<p>То, что называется <span class="strong"><strong>каталогом</strong></span> в системах
Unix, может называться <span class="strong"><strong>папкой</strong></span> в некоторых
других системах. Заметьте, что ни в каких системах Unix нет такой концепции,
как <span class="strong"><strong>диск</strong></span>, например, "<code class="literal">диск
A:</code>". Это большое преимущество по сравнению с Windows.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_unix_file_basics"></a>1.2.1. Основные сведения о файлах в Unix</h3></div></div></div>
<p>Вот несколько основных идей, реализованных в Unix для работы с файлами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
В названии файлов маленькие и большие буквы -- <span class="strong"><strong>разные символы</strong></span>, "<code class="literal">MYFILE</code>" и
"<code class="literal">MyFile</code>" -- это разные файлы.
</li>
<li>
"<span class="strong"><strong>Корневой каталог</strong></span>" означает корень
файловой системы и обозначается просто как "<code class="literal">/</code>". Не
путайте корень файловой системы и домашнюю папку суперпользователя
"<code class="literal">/root</code>".
</li>
<li>
Каждый каталог имеет имя, которое может состоять из любых символов, кроме
"<code class="literal">/</code>". Исключением является корневой каталог ("root
directory"), имя которого и есть "<code class="literal">/</code>". Корневой каталог не
может быть переименован.
</li>
<li>
Каждый файл и каталог определяется по своему <span class="strong"><strong>полному
имени файла</strong></span>, <span class="strong"><strong>абсолютному имени
файла</strong></span> или через <span class="strong"><strong>путь</strong></span>. Эти
понятия являются синонимами и означают последовательность каталогов от
корня, которые нужно пройти, чтобы достичь файла. Все абсолютные имена
начинаются с каталога "<code class="literal">/</code>" и существует символ
"<code class="literal">/</code>", отделяющий элементы пути друг от друга. То есть
первый символ `/' -- это имя каталога (корневой каталог), а все последующие
являются просто разделителями, чтобы отделить части имени файла друг от
друга. Чтобы не запутаться, посмотрите на следующий пример:
"<code class="literal">/usr/share/keytables/us.map.gz</code>" Это полное имя файла,
называемое также <span class="strong"><strong>путем</strong></span>. Однако, на файл
можно сослаться просто по его имени "<code class="literal">us.map.gz</code>".
</li>
<li>
Все <span class="strong"><strong>полные имена файлов</strong></span> начинаются со
знака "<code class="literal">/</code>". Этот же знак ставится после имени каждого
каталога в полном имени файла. Знак "<code class="literal">/</code>" в начале полного
имени файла означает каталог верхнего уровня (корневой каталог); остальные
знаки "<code class="literal">/</code>" отделяют подкаталоги один от другого; после
последнего знака "<code class="literal">/</code>" следует имя файла (неполное). Это
звучит запутанно, возьмём в качестве примера <span class="strong"><strong>полное
имя файла</strong></span>:
"<code class="literal">/usr/share/keytables/us.map.gz</code>". Однако люди могут
обращаться к файлу и по его базовому имени: "<code class="literal">us.map.gz</code>".
</li>
<li>
Корневой каталог имеет множество ответвлений (подкаталогов), таких как
"<code class="literal">/etc</code> или "<code class="literal">/usr</code>". Эти подкаталоги, в
свою очередь, содержат еще подкаталоги, такие как
"<code class="literal">/etc/init.d</code>" или "<code class="literal">/usr/local</code>". Все
это вместе называется <span class="strong"><strong>деревом
каталогов</strong></span>. Вы можете считать, что абсолютное имя файла -- это как
маршрут из начала дерева "<code class="literal">/</code>" к концу некой ветви этого
дерева (файлу). Вы также могли слышать, что о дереве каталогов говорят как о
<span class="strong"><strong>семейном</strong></span> дереве: так подкаталоги имеют
<span class="strong"><strong>родителей</strong></span>, а путь показывает полное
происхождение файла. Существуют также относительные пути, которые начинаются
с места, отличного от корневого каталога. Вам нужно запомнить, что каталог
"<code class="literal">../</code>" ссылается на родительский каталог.
</li>
<li>
Не существует каталога, который бы соответствовал физическому устройству,
например, Вашему жесткому диску. В этом отличие Unix от операционных систем
<a class="ulink" href="http://ru.wikipedia.org/wiki/RT-11" target="_top">RT-11</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/CP/M" target="_top">CP/M</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/OpenVMS" target="_top">OpenVMS</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/MS-DOS" target="_top">DOS</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/AmigaOS" target="_top">AmigaOS</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/Microsoft_Windows" target="_top">Windows</a>, где все пути начинаются с имени
устройства, например, `C:\'. Смотрите раздел <a class="xref" href="#_filesystem_internals" title="1.2.2. Концепция файловой системы в Debian">Раздел 1.2.2, «Концепция файловой системы в Debian»</a>. 
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Хотя вы и <span class="strong"><strong>можете</strong></span> использовать почти любые
буквы или символы в имени файла, на практике это плохая идея. Лучше избегать
использовать символы, которые часто имеют специальное значение в командой
строке, включая пробелы, символы табуляции, перевода строки и другие
спецсимволы: <code class="literal">{ } ( ) [ ] ' ` " \ / &gt; &lt; | ; ! # &amp; ^ * % @
$</code> . Если вы хотите отделить слова в имени, лучше используйте
точку, дефис или подчеркивание. Вы можете также начинать каждое слово с
большой буквы: "<code class="literal">ВотТак</code>". </p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Слово "root" может обозначать как пользователя (root user) так и корневой
каталог (root directory). А каталог "/root" -- традиционно домашняя папка
пользователя root. </p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Существует также еще одно использование слова <span class="strong"><strong>путь</strong></span>: <span class="strong"><strong>Путь поиска
команды</strong></span>. В общем, значение слова обычно становится понятным из
контекста, в котором оно используется. </p>
</div>
<p>Хорошие примеры иерархии файлов есть в документе "Стандарт на иерархию
файловой системы"
(<code class="literal">/usr/share/doc/debian-policy/fhs/fhs.txt.gz</code>). Для начала
же нужно просто запомнить следующие факты: </p>
<div class="table">
<a name="listofusageofkeydirectories"></a><p class="title"><b>Таблица 1.3. Назначения основных каталогов</b></p>
<div class="table-contents"><table summary="Назначения основных каталогов" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    каталог
    </th>
<th align="left">
    использование
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/</code>
                </td>
<td align="left">
    корневой каталог
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/</code>
                </td>
<td align="left">
    системные конфигурационные файлы
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/log</code>
                </td>
<td align="left">
    журнальные файлы (логи)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/home/</code>
                </td>
<td align="left">
    домашние каталоги всех не-привилегированных пользователей
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_filesystem_internals"></a>1.2.2. Концепция файловой системы в Debian</h3></div></div></div>
<p>По <span class="strong"><strong>традициям Unix</strong></span> система Debian имеет
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A4%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">файловую систему</a>, ниже которой находятся
физические данные жестких дисков и других устройств хранения информации, а
также в унифицированном виде реализованы механизмы взаимодействия с
оборудованием, таким как консольные экраны, удаленные последовательные
консоли. </p>
<p>Каждый файл, каталог, именованный канал или физическое устройство в системе
Debian имеет структуру данных, называющуюся <span class="strong"><strong>индексным дескриптором</strong></span> (<a class="ulink" href="http://ru.wikipedia.org/wiki/Inode" target="_top">inode</a>), который описывает связанные атрибуты, такие
как владелец файла, группа, которая владеет файлом, время последнего доступа
к файлу и пр. Если вас это действительно заинтересовало, можете посмотреть
точное описание структуры "<code class="literal">struct inode</code>" в системе Debian
GNU/Linux в документе "<code class="literal">/usr/include/linux/fs.h</code>". Идея
представления вообще всего в виде файла была нововведением Unix, а в
современных ядрах Linux эта идея расширена: даже информация о работающих в
системе процессах может быть найдена в файловой системе.</p>
<p>Это унифицированное представление физических устройств является очень мощной
особенностью, так как это позволяет нам использовать одну и ту же команду
для выполнения однотипных действий на множестве достаточно разнотипных
устройств. Все Ваши файлы могут размещаться на одном диске, или на 20
дисках: причем некоторые из них подключены к другим компьютерам где-то в
сети. И хотя вы не можете просто так взглянуть на дерево каталогов, почти
все команды работают точно также вне зависимости от того, на каком
физическом устройстве реально размещаются файлы.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Чтобы узнать, какое устройство в какую точку смонтировано, используйте
команду <code class="literal">mount</code>(8) без аргументов. </p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_filesystem_permissions"></a>1.2.3. Права доступа к файлам и каталогам</h3></div></div></div>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/File_system_permissions" target="_top">Права доступа к файлу и
каталогу</a> в <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">Unix-подобных</a> системах
определяются индивидуально для каждой из трех следующих категорий
пользователей:</p>
<div class="itemizedlist"><ul type="disc">
<li>
для <span class="strong"><strong>пользователя</strong></span>, который владеет этим
файлом (<span class="strong"><strong>u</strong></span>)
</li>
<li>
для пользователей из <span class="strong"><strong>группы</strong></span>, владеющей
данным файлом (<span class="strong"><strong>g</strong></span>)
</li>
<li>
для всех <span class="strong"><strong>остальных</strong></span>
пользователей(<span class="strong"><strong>o</strong></span>)
</li>
</ul></div>
<p>Для файла соответствующие права доступа позволяют соответственно:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<span class="strong"><strong>право чтения</strong></span> (<span class="strong"><strong>r</strong></span>): изучить содержимое файла
</li>
<li>
<span class="strong"><strong>право записи</strong></span> (<span class="strong"><strong>w</strong></span>): изменять файл
</li>
<li>
<span class="strong"><strong>право выполнения</strong></span> (<span class="strong"><strong>x</strong></span>): выполнять файл как команду
</li>
</ul></div>
<p>Для каталога права доступа позволяют соответственно:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<span class="strong"><strong>право чтения</strong></span> (<span class="strong"><strong>r</strong></span>): получать список содержимого каталога
</li>
<li>
<span class="strong"><strong>право записи</strong></span> (<span class="strong"><strong>w</strong></span>): добавлять или удалять файлы в каталог
</li>
<li>
<span class="strong"><strong>право выполнения</strong></span> (<span class="strong"><strong>x</strong></span>): получать доступ к файлам
</li>
</ul></div>
<p>Здесь право <span class="strong"><strong>выполнения</strong></span> для каталога
означает не только возможность чтения файлов в каталоге, но и возможность
просмотра их атрибутов, таких как размер и время модификации.</p>
<p>Чтобы отобразить информацию о правах доступа (и многую другую) на файлы и
каталоги используется программа <code class="literal">ls</code>. Смотрите
<code class="literal">ls</code>(1). Когда программа <code class="literal">ls</code> запускается
с опцией <code class="literal">-l</code>, она показывает следующую информацию в
указанном порядке: </p>
<div class="itemizedlist"><ul type="disc">
<li>
<span class="strong"><strong>Тип файла</strong></span> (первый символ)
</li>
<li>
<span class="strong"><strong>Права доступа</strong></span> к файлу (следующие девять
символов, объединенных в три группы прав для владельца, группы и прочих
пользователей по три символа в каждой группе в порядке право-на-чтение
право-на-запись право-на-выполнение) 
</li>
<li>количество <span class="strong"><strong>ссылок</strong></span> на файл
</li>
<li>
имя <span class="strong"><strong>пользователя</strong></span>, владеющего файлом
</li>
<li>
имя <span class="strong"><strong>группы</strong></span>, владеющей файлом
</li>
<li>
<span class="strong"><strong>размер</strong></span> файла в символах (байтах)
</li>
<li>
<span class="strong"><strong>дата и время</strong></span> файла (mtime)
</li>
<li>
<span class="strong"><strong>имя</strong></span> файла.
</li>
</ul></div>
<div class="table">
<a name="listofthefirstchacteroflsloutput"></a><p class="title"><b>Таблица 1.4. Значения первого символа в выводе "<code class="literal">ls -l</code>" (типы файлов)</b></p>
<div class="table-contents"><table summary='Значения первого символа в выводе "ls -l" (типы файлов)' border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    символ
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">-</code>
                </td>
<td align="left">
    обычный файл (normal file)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">d</code>
                </td>
<td align="left">
    каталог
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">l</code>
                </td>
<td align="left">
    символическая ссылка (симлинк, symlink)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">c</code>
                </td>
<td align="left">
    файл символьного устройства (character device node)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">b</code>
                </td>
<td align="left">
    файл блочного устройства (block device node)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">p</code>
                </td>
<td align="left">
    именованный канал (named pipe)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">s</code>
                </td>
<td align="left">
    сокет (socket)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p><code class="literal">chown</code>(1) запускается от имени суперпользователя, чтобы
изменить владельца файла. <code class="literal">chgrp</code>(1) запускается от имени
владельца файла или суперпользователя, чтобы установить группу, владеющую
файлом. Для изменения прав доступа к файлу или каталогу
<code class="literal">chmod</code>(1) запускается от имени владельца файла/каталога
или от имени суперпользователя. Вот примерный синтаксис этих команд для
управления файлом <code class="literal">foo</code>:</p>
<pre class="screen"># chown &lt;имя_нового_пользователя_файла&gt; foo
# chgrp &lt;имя_группы_которая_будет_владеть_файлов&gt; foo
# chmod  [ugoa][+-=][rwxXst][,...] foo"</pre>
<p>Например, вы можете сделать дерево каталогов принадлежащим пользователю
<code class="literal">foo</code> и группе <code class="literal">bar</code> такими командами:</p>
<pre class="screen"># cd /какой-то/каталог/
# chown -R foo:bar .
# chmod -R ug+rwX,o=rX .</pre>
<p>Существует три бита специальных прав:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<span class="strong"><strong>set user ID</strong></span> (в выводе
<code class="literal">ls</code>(1) выводится как <span class="strong"><strong>s</strong></span>
или <span class="strong"><strong>S</strong></span> в позиции права выполнения для
владельца вместо <span class="strong"><strong>x</strong></span>)
</li>
<li>
<span class="strong"><strong>set group ID</strong></span> (в выводе
<code class="literal">ls</code> выводится как <span class="strong"><strong>s</strong></span> или
<span class="strong"><strong>S</strong></span> в позиции права выполнения для группы)
</li>
<li>
<span class="strong"><strong>sticky bit</strong></span> (в выводе
<code class="literal">ls</code> выводится как <span class="strong"><strong>t</strong></span> или
<span class="strong"><strong>T</strong></span> в позиции права выполнения для прочих)
</li>
</ul></div>
<p>В выводе команде "<code class="literal">ls -l</code>" бит специального права выводится
заглавной буквой (<span class="strong"><strong>S</strong></span> или <span class="strong"><strong>T</strong></span>), если бит выполнения, который он скрыл собой, не
установлен, и наоборот.</p>
<p>Установка бита <span class="strong"><strong>set user ID</strong></span> на выполняемый
файл позволяет пользователю выполнить этот файл от имени владельца файла
(например, <span class="strong"><strong>root</strong></span>) Подобным образом,
установка бита <span class="strong"><strong>set group ID</strong></span> на
выполняемый файл позволяет выполнить данный файл от имени группы, владеющей
этим файлом, например, от имени группы <span class="strong"><strong>root</strong></span>). Так как эти установки могут создать
серьёзную дыру в безопасности системы, устанавливайте эти биты очень
внимательно.</p>
<p>Установка бита <span class="strong"><strong>set group ID</strong></span> на каталог
включает схему создания файлов как с системах <a class="ulink" href="http://ru.wikipedia.org/wiki/BSD" target="_top">BSD</a>, где все файлы, созданные в данном каталоге,
будут принадлежать группе <span class="strong"><strong>group</strong></span>,
владеющей этим каталогом. </p>
<p>Установка бита <span class="strong"><strong>sticky bit</strong></span> на каталог
предотвращает удаление файлов в каталоге пользователями, ими не
владеющими. Для защиты содержимого файла в каталоге, в который разрешена
запись всем, например, <code class="literal">/tmp</code>, или в каталоге, в который
разрешена запись некоторой группе, нужно не только снять право <span class="strong"><strong>записи</strong></span> в файл, но и установить бит <span class="strong"><strong>sticky bit</strong></span> на каталог. В противном случае любой
пользователь, имеющий право записи в этот каталог, может удалить этот файл и
создать новый с тем же именем (и с любым содержимым -- прим. переводчика).</p>
<p>Вот несколько интересных примеров прав на файлы: </p>
<pre class="screen">$ ls -l /etc/passwd /etc/shadow /dev/ppp /usr/sbin/exim4
crw------- 1 root root   108, 0 2007-04-29 07:00 /dev/ppp
-rw-r--r-- 1 root root     1427 2007-04-16 00:19 /etc/passwd
-rw-r----- 1 root shadow    943 2007-04-16 00:19 /etc/shadow
-rwsr-xr-x 1 root root   700056 2007-04-22 05:29 /usr/sbin/exim4
$ ls -ld /tmp /var/tmp /usr/local /var/mail /usr/src
drwxrwxrwt 10 root root  4096 2007-04-29 07:59 /tmp
drwxrwsr-x 10 root staff 4096 2007-03-24 18:48 /usr/local
drwxrwsr-x  4 root src   4096 2007-04-27 00:31 /usr/src
drwxrwsr-x  2 root mail  4096 2007-03-28 23:33 /var/mail
drwxrwxrwt  2 root root  4096 2007-04-29 07:11 /var/tmp</pre>
<p>В командах <code class="literal">chmod</code>(1) существует альтернативный числовой
способ описания прав на файлы. Этот числовой способ использует трёхзначные
или четырёхзначные восьмеричные (основание системы счисления = 8)
числа. Каждая цифра соответствует:</p>
<div class="table">
<a name="thenumericmodefoinchmodbcommands"></a><p class="title"><b>Таблица 1.5. Цифровое представление прав доступа для команды <code class="literal">chmod</code>(1)</b></p>
<div class="table-contents"><table summary="Цифровое представление прав доступа для команды chmod(1)" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    позиция
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    первая цифра
    </td>
<td align="left">
    сумма атрибута <span class="strong"><strong>set user ID</strong></span> (вес = 4),
атрибута <span class="strong"><strong>set group ID</strong></span> (вес = 2) и
<span class="strong"><strong>sticky bit</strong></span> (вес = 1) 
    </td>
</tr>
<tr>
<td align="left">
    вторая цифра
    </td>
<td align="left">
    сумма атрибута <span class="strong"><strong>чтение</strong></span> (вес = 4), атрибута
<span class="strong"><strong>запись</strong></span> (вес = 2) и атрибута <span class="strong"><strong>выполнения</strong></span> (вес = 1), относящиеся к списку прав
<span class="strong"><strong>пользователя</strong></span> 
    </td>
</tr>
<tr>
<td align="left">
    третья цифра
    </td>
<td align="left">
    то же самое для <span class="strong"><strong>группы</strong></span>
    </td>
</tr>
<tr>
<td align="left">
    четвёртая цифра
    </td>
<td align="left">
    то же самое для <span class="strong"><strong>прочих пользователей</strong></span>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Это выглядит сложновато, но на самом деле все очень просто. Если вы
посмотрите на первые несколько столбцов (2-10) вывода команды <code class="literal">ls
-l</code> и проинтерпретируете их как двоичное (с основанием = 2)
представление прав на файл ("-" означает "0", а "r", "w", "x" означает "1"),
то полученное число, переведенное в восьмеричную систему счисления будет
являться восьмеричным представлением прав на файл.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ touch foo bar
$ chmod u=rw,go=r foo
$ chmod 644 bar
$ ls -l foo bar
-rw-r--r-- 1 penguin penguin 17 2007-04-29 08:22 bar
-rw-r--r-- 1 penguin penguin 12 2007-04-29 08:22 foo</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Для выполнения проверок, связанных со свойствами файла, в сценариях можно
использовать команды <code class="literal">test</code>(1), <code class="literal">stat</code>(1)
и <code class="literal">readlink</code>(1). Также часто используется встроенная
команда оболочки -- "<code class="literal">[</code>" или "<code class="literal">test</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_control_of_permissions_for_newly_created_files_umask"></a>1.2.4. Управление разрешениями создаваемых файлов: umask</h3></div></div></div>
<p><code class="literal">umask</code> -- это встроенная команда shell, которая
устанавливает разрешения по умолчанию для файлов и каталогов, которые
<span class="strong"><strong>будут</strong></span> созданы. Смотрите
<code class="literal">dash</code>(1), <code class="literal">bash</code>(1) и
<code class="literal">builtins</code>(7).</p>
<pre class="screen">(права доступа к файлу) = (запрошенные права доступа) &amp; ~ (значение umask)</pre>
<div class="table">
<a name="theumaskvalueexamples"></a><p class="title"><b>Таблица 1.6. Примеры значений <span class="strong">umask</span></b></p>
<div class="table-contents"><table summary="Примеры значений umask" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    umask
    </th>
<th align="left">
    права на создаваемые файлы
    </th>
<th align="left">
    права на создаваемые каталоги
    </th>
<th align="left">
    цель использования
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">0022</code>
                </td>
<td align="left">
                  <code class="literal">-rw-r--r--</code>
                </td>
<td align="left">
                  <code class="literal">-rwxr-xr-x</code>
                </td>
<td align="left">
    только автор может изменять файл
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">0002</code>
                </td>
<td align="left">
                  <code class="literal">-rw-rw-r--</code>
                </td>
<td align="left">
                  <code class="literal">-rwxrwxr-x</code>
                </td>
<td align="left">
    все в группе автора могут изменять файл
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>В Debian по умолчанию используется схема "каждому пользователю по своей
группе" (user private group -- UPG). То есть при создании нового
пользователя по умолчанию создаётся группа с тем же именем, что и
пользователь, и единственным пользователем этой группы становится
создаваемый пользователь. Это значит, что можно разрешать членам группы
доступ к файлу (устанавливать umask <code class="literal">0002</code>), ведь
единственный пользователь группы -- владелец файла. (В некоторых вариантах
Unix по умолчанию все пользователи включаются в единую группу пользователей
<span class="strong"><strong><code class="literal">users</code></strong></span>, и в этом случае
более безопасно запретить членам группы доступ к своим файлам с помощью
umask <code class="literal">0022</code>).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_permissions_for_groups_of_users_group"></a>1.2.5. Разрешения для групп пользователей (group)</h3></div></div></div>
<p>Изменять состав групп -- задача администратора (root). Это можно сделать
командой <code class="literal">vigr</code>(8), вместе с sudo: "<code class="literal">sudo
vigr</code>".</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Возможен альтернативный способ добавления пользователей в группы: во время
процесса авторизации. Для этого нужно добавить строчку "<code class="literal">auth
optional pam_group.so</code>" к файлу
"<code class="literal">/etc/pam.d/common-auth</code>" и отредактировать файл
"<code class="literal">/etc/security/group.conf</code>" (См. <a class="xref" href="#_authentication" title="Глава 4. Аутентификация">Глава 4, <i>Аутентификация</i></a>).</p>
</div>
<p>Аппаратное обеспечение (hardware devices) с точки зрения системы просто ещё
один тип файлов. Если возникают проблемы доступа из пользовательской учётной
записи к таким устройствам, как CD-ROM или USB диск, нужно просто включить
этого пользователя в соответствующую группу. Как уже говорилось, создаваемый
пользователь имеет мало прав в системе, и эти права можно выдать, включив
его в нужные группы.</p>
<p>В системе Debian есть несколько групп, с помощью которых можно выдавать
пользователям нужные права, не предоставляя им прав суперпользователя
<code class="literal">root</code>.</p>
<div class="table">
<a name="listofnotablesysupsforfileaccess"></a><p class="title"><b>Таблица 1.7. Список важных групп, предоставляемых системой для настройки доступа</b></p>
<div class="table-contents"><table summary="Список важных групп, предоставляемых системой для настройки доступа" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    группа
    </th>
<th align="left">
    предоставляемый доступ к файлам и устройствам
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">dialout</code>
                </td>
<td align="left">
    полный и прямой доступ к последовательным портам
("<code class="literal">/dev/ttyS[0-3]</code>")
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dip</code>
                </td>
<td align="left">
    ограниченный доступ к последовательным портам для установления IP соединений
с доверенными системами (например, для соединений с провайдером по модему)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cdrom</code>
                </td>
<td align="left">
    CD-ROM, DVD+/-RW диски
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">audio</code>
                </td>
<td align="left">
    устройства вывода звука
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">video</code>
                </td>
<td align="left">
    видеокарта
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">scanner</code>
                </td>
<td align="left">
    сканер(ы)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">adm</code>
                </td>
<td align="left">
    просмотр системных журналов (логов)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">staff</code>
                </td>
<td align="left">
    администрирование каталогов "<code class="literal">/usr/local</code>",
"<code class="literal">/home</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Нужно входить в группу <code class="literal">dialout</code>, чтобы конфигурировать
модем, делать куда-либо звонок, и т.п. Но если <code class="literal">root</code>
создаёт конфигурацию для доверенных соединений в
"<code class="literal">/etc/ppp/peers/</code>", то для права установки соединения (с
помощью команд <code class="literal">pppd</code>(8), <code class="literal">pon</code>(1) и
<code class="literal">poff</code>(1)) достаточно входить в группу
<code class="literal">dip</code>. </p>
</div>
<p>Система также предоставляет группы для делегации прав выполнения некоторых
команд без необходимости выдавать права <code class="literal">root</code>.</p>
<div class="table">
<a name="listofnotablesysommandexecutions"></a><p class="title"><b>Таблица 1.8. Список основных системных групп для разрешения выполнения отдельных команд</b></p>
<div class="table-contents"><table summary="Список основных системных групп для разрешения выполнения отдельных команд" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    группа
    </th>
<th align="left">
    команды, доступные для членов группы
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">sudo</code>
                </td>
<td align="left">
    разрешается выполнять команды с помощью <code class="literal">sudo</code> без пароля
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">lpadmin</code>
                </td>
<td align="left">
    команды для добавления, изменения и удаления принтеров в системе
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">plugdev</code>
                </td>
<td align="left">
    команда <code class="literal">pmount</code>(1) для отключаемых устройств, например,
USC-флэшек
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Полный список системных пользователей и групп можно посмотреть в документе
"Users and Groups" который входит в состав пакета
base-passwd.
("<code class="literal">/usr/share/doc/base-passwd/users-and-groups.html</code>") </p>
<p>Следующие man-страницы описывают систему и средства управления группами и
пользователями в Debian: <code class="literal">passwd</code>(5),
<code class="literal">group</code>(5), <code class="literal">shadow</code>(5),
<code class="literal">newgrp</code>(1), <code class="literal">vipw</code>(8),
<code class="literal">vigr</code>(8) и <code class="literal">pam_group</code>(8). </p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_timestamps"></a>1.2.6. Временные метки файлов</h3></div></div></div>
<p>В GNU/Linux файл имеет три типа временных меток.</p>
<div class="table">
<a name="listoftypesoftimestamps"></a><p class="title"><b>Таблица 1.9. Список типов временных меток</b></p>
<div class="table-contents"><table summary="Список типов временных меток" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    тип
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <span class="strong"><strong>mtime</strong></span>
                </td>
<td align="left">
    время изменения файла (<code class="literal">ls -l</code>)
    </td>
</tr>
<tr>
<td align="left">
                  <span class="strong"><strong>ctime</strong></span>
                </td>
<td align="left">
    время изменения статуса файла(<code class="literal">ls -lc</code>)
    </td>
</tr>
<tr>
<td align="left">
                  <span class="strong"><strong>atime</strong></span>
                </td>
<td align="left">
    время последнего доступа (<code class="literal">ls -lu</code>)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><span class="strong"><strong>ctime</strong></span> это не время создания фала.</p>
</div>
<div class="itemizedlist"><ul type="disc">
<li>
Перезапись файла меняет все отметки времени файла.
</li>
<li>
Изменение владельца или прав доступа файла меняет <span class="strong"><strong>ctime</strong></span> и <span class="strong"><strong>atime</strong></span>
файла.
</li>
<li>
Чтение файла меняет <span class="strong"><strong>atime</strong></span> файла.
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Даже просто чтение файла в Debian обычно приводит к операции записи на диск,
чтобы обновить атрибут <span class="strong"><strong>atime</strong></span>. Монтирование файловой системы с параметром
"<code class="literal">noatime</code>" или "<code class="literal">relatime</code>" отменяет эту
операцию и приводит к более быстрому доступу на чтение. Это часто
рекомендуется для ноутбуков (laptops), поскольку снижает активность жесткого
диска и уменьшает потребляемую энергию. См. <code class="literal">mount</code>(8).</p>
</div>
<p>Чтобы изменить временные метки существующих файлов, используйте команду
<code class="literal">touch</code>(1).</p>
<p>Формат вывода временной метки зависит от установок локализации.</p>
<pre class="screen">$ LANG=en_US.UTF-8  ls -l foo
-rw-r--r-- 1 penguin penguin 3 2008-03-05 00:47 foo
$ LANG=C  ls -l foo
-rw-r--r-- 1 penguin penguin 3 Mar  5 00:47 foo</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>См. <a class="xref" href="#_customized_display_of_time_and_date" title="9.2.5. Настройка отображения времени и даты">Раздел 9.2.5, «Настройка отображения времени и даты»</a> для изменения
формата вывода "<code class="literal">ls -l</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_links"></a>1.2.7. Ссылки в файловой системе</h3></div></div></div>
<p>Существует два способа связать файл "<code class="literal">foo</code>" с другим именем
файла "<code class="literal">bar</code>".</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
              <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%96%D1%91%D1%81%D1%82%D0%BA%D0%B0%D1%8F_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B0" target="_top">Жёсткая ссылка</a> (Hard link)
            </p>
<div class="itemizedlist"><ul type="circle">
<li>
Имя-дубликат для существующего файла
</li>
<li>
"<code class="literal">ln foo bar</code>\"
</li>
</ul></div>
</li>
<li>
<p>
              <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B0" target="_top">Символьная ссылка (symlink)</a>
            </p>
<div class="itemizedlist"><ul type="circle">
<li>
это специальный файл, который указывает на другой файл по его имени.
</li>
<li>
"<code class="literal">ln -s foo bar</code>"
</li>
</ul></div>
</li>
</ul></div>
<p>Взгляните на следующий пример на предмет изменения счетчика ссылок и тонкую
разницу в результате команды <code class="literal">rm</code></p>
<pre class="screen">$ echo "Начальное содержимое файла foo" &gt; foo
$ ls -li foo
2398521 -rw-r--r-- 1 penguin penguin 17 2007-04-29 08:15 foo
$ ln foo bar     # hard link
$ ln -s foo baz  # symlink
$ ls -li foo bar baz
2398521 -rw-r--r-- 2 penguin penguin 17 2007-04-29 08:15 bar
2398538 lrwxrwxrwx 1 penguin penguin  3 2007-04-29 08:16 baz -&gt; foo
2398521 -rw-r--r-- 2 penguin penguin 17 2007-04-29 08:15 foo
$ rm foo
$ echo "Новое содержимое файла foo" &gt; foo
$ ls -li foo bar baz
2398521 -rw-r--r-- 1 penguin penguin 17 2007-04-29 08:15 bar
2398538 lrwxrwxrwx 1 penguin penguin  3 2007-04-29 08:16 baz -&gt; foo
2398540 -rw-r--r-- 1 penguin penguin 12 2007-04-29 08:17 foo
$ cat bar
Начальное содержимое файла foo
$ cat baz
Новое содержимое файла foo</pre>
<p>Жёсткая ссылка создаётся <span class="strong"><strong>рядом</strong></span> с файлом,
в том же индексном дескрипторе (<a class="ulink" href="http://ru.wikipedia.org/wiki/Inode" target="_top">inode</a>), то есть
её возможно создать только на той файловой системе, где находится файл, на
который она ссылается. Номера <code class="literal">inode</code> выводятся командой
<code class="literal">ls</code>(1) с ключом "<code class="literal">-i</code>".</p>
<p>Символьная ссылка всегда имеет номинальные права доступа файла
"<code class="literal">rwxrwxrwx</code>", как это было показано в предыдущем примере,
и эффективные права доступа соответствующие правам доступа к файлу, на
который ссылка указывает.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Обычно лучше вообще не создавать запутанных ссылок, если только на это нет
очень важной причины. Иногда это может привести к кошмарно запутанным
логическим комбинациям и кончиться петлями в файловой системе.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Предпочтительней использовать символьную ссылке вместо жёсткой, если только
на это нет достаточной причины.</p>
</div>
<p>Каталог "<code class="literal">.</code>" является ссылкой на сам каталог, в котором он
находится, то есть счетчик ссылок любого нового каталога начинается с
2. Каталог "<code class="literal">..</code>" ссылается на родительский каталог,
поэтому счетчик ссылок каталога увеличивается с добавлением новых
подкаталогов.</p>
<p>Если вы просто переходите с Windows на Linux, скоро становится очевидным,
как хорошо продумана система ссылок Unix по сравнению с "ярлыками" Windows:
поскольку ссылки реализованы на уровне файловой системы, с точки зрения
приложений нет разницы между ссылкой и оригиналом. В случае жёстких ссылок
(hardlinks) разницы нет вообще. </p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_named_pipes_fifos"></a>1.2.8. Именованные каналы (FIFOs)</h3></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%98%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BA%D0%B0%D0%BD%D0%B0%D0%BB" target="_top">Именованный канал</a> -- это файл, которые
действует как труба. Вы помещаете что-то в данный файл, и оно выходит с
другого конца. Это называется FIFO или First-In-First-Out: то, что первым
помещено в канал, первым из него и выходит с другой стороны.</p>
<p>Если вы пишете в именованный канал, то пишущий процесс не завершается до тех
пор, пока записанная информация не будет прочтена из канала. Если вы читаете
из именованного канала, то процесс, который это делает, будет работать до
тех пор, пока в канале есть информация для чтения. Размер файла канала
всегда нулевой -- он не хранит данные, он просто связывает два процесса, как
это делает операция "<code class="literal">|</code>" командного
интерпретатора. Однако, так как этот канал имеет имя, то нет необходимости
запускать эти процессы (читающий и пишущий -- прим. переводчика) в одной и
тоже командной строке (в отличие от "<code class="literal">|</code>" --
прим. переводчика) и от имени одного и того же пользователя.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ cd; mkfifo mypipe
$ echo \"hello\" &gt;mypipe &amp; # запустить в фоновом режиме
[1] 8022
$ ls -l mypipe
prw-r--r-- 1 penguin penguin 0 2007-04-29 08:25 mypipe
$ cat mypipe
hello
[1]+  Done                    echo \"hello\" &gt;mypipe
$ ls mypipe
mypipe
$ rm mypipe</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_sockets"></a>1.2.9. Сокеты (sockets)</h3></div></div></div>
<p>Сокеты очень похожи на именованные каналы (FIFO), они также позволяют
процессам обмениваться информацией. Однако в случае с сокетом эти процессы
не обязаны выполняться на одной и тоже машине или быть потомками одного и
тоже родительского процесса. Это конечная точка в <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BD%D0%BE%D0%B5_%D0%B2%D0%B7%D0%B0%D0%B8%D0%BC%D0%BE%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B5" target="_top">межпроцессном взаимодействии
(IPC)</a>. Обмен информацией может происходить через сеть между
различными компьютерами. Сокеты широко используются во всех способах связи в
Интернете, базах данных и внутри операционной системы. Наиболее часто
используемые типы сокетов -- <a class="ulink" href="http://en.wikipedia.org/wiki/Internet_socket" target="_top">Интернет
сокет</a> (Internet socket) и <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix_domain_socket" target="_top">сокет
Unix</a> (Unix domain socket).</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>"<code class="literal">netstat -an</code>" предоставляет очень полезную информацию об
открытых сокетах в системе. См. <code class="literal">netstat</code>(8).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_device_files"></a>1.2.10. Файлы устройств</h3></div></div></div>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/Device_file" target="_top">Файлы устройств</a> ссылаются на физические
или виртуальные устройства в Вашей системе, такие как жесткий диск,
видеокарта, экран или клавиатура. Пример виртуального устройства -- консоль,
представленная файлом устройства "<code class="literal">/dev/console</code>".</p>
<p>Существует два типа файлов устройств:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
              <span class="strong"><strong>Символьные устройства</strong></span>
            </p>
<div class="itemizedlist"><ul type="circle">
<li>
Доступ к ним по одному символу за раз, то есть самый маленький элемент
данных, который может быть записан в устройство или прочитан с устройства -
символ (байт).
</li>
<li>
1 символ = 1 байту
</li>
<li>
Например, клавиатура, последовательный порт, и т.д.
</li>
</ul></div>
</li>
<li>
<p>
              <span class="strong"><strong>Блочные устройства</strong></span>
            </p>
<div class="itemizedlist"><ul type="circle">
<li>
Доступ к ним осуществляется посредством больших элементов, называемых
блоками, которые могут содержать множество символов. Ваш жесткий диск
является блочным устройством.
</li>
<li>
1 блок больше 1 байта
</li>
<li>
Например, жёсткий диск.
</li>
</ul></div>
</li>
</ul></div>
<p>Вы можете читать или записывать в файл устройства, хотя сам файл содержит
двоичные данные, не очень понятные человеку. Запись данных непосредственно в
такие файлы иногда полезны для решения проблем подключений
оборудования. Например, вы можете вывести текстовый файл в принтерный файл
устройства "<code class="literal">/dev/lp0</code>" или послать команды модему в
соответствующий файл устройства последовательного порта
"<code class="literal">/dev/ttyS0</code>". Но делайте это аккуратно, так как это может
привести к серьёзным последствиям. Будьте осторожны.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Однако правильный способ доступа к принтеру -- с помощью команды
<code class="literal">lp</code>(1).</p>
</div>
<p>Номер блока устройства отображается командой <code class="literal">ls</code>(1),
например:</p>
<pre class="screen">$ ls -l /dev/hda /dev/ttyS0 /dev/zero
brw-rw---- 1 root cdrom   3,  0 2007-04-29 07:00 /dev/hda
crw-rw---- 1 root dialout 4, 64 2007-04-29 07:00 /dev/ttyS0
crw-rw-rw- 1 root root    1,  5 2007-04-29 07:00 /dev/zero</pre>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">/dev/hda</code>" имеет старший номер устройства 3 и младший
0. Диск доступен на чтение и запись для пользователей входящих в группу
<code class="literal">cdrom</code>.
</li>
<li>
"<code class="literal">/dev/ttyS0</code>" имеет старший номер устройства 4 и младший
64. Порт доступен на чтение и запись членам группы
<code class="literal">dialout</code>.
</li>
<li>
"<code class="literal">/dev/zero</code>" имеет старший номер 1 и младший 5. Он
доступен на чтение и запись для всех желающих. 
</li>
</ul></div>
<p>В системах с ядром Linux версии 2.6 файловая система
"<code class="literal">/dev/</code>" автоматически заполняется с помощью механизма
<code class="literal">udev</code>(7).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_special_device_files"></a>1.2.11. Файлы специальных устройств</h3></div></div></div>
<p>В системе есть некоторое количество виртуальных устройств, которые могут
быть использованы особым способом.</p>
<div class="table">
<a name="listofspecialdevicefiles"></a><p class="title"><b>Таблица 1.10. Некоторые специальные устройства и их описание</b></p>
<div class="table-contents"><table summary="Некоторые специальные устройства и их описание" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл устройства
    </th>
<th align="left">
    действие с файлом
    </th>
<th align="left">
    описание результата (возвращаемое значение)
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/dev/null</code>
                </td>
<td align="left">
    чтение
    </td>
<td align="left">
    возвращает символ конца файла ("end-of-file (EOF) character")
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/dev/null</code>
                </td>
<td align="left">
    запись
    </td>
<td align="left">
    ничего не возвращается (бездонная дыра для любых данных)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/dev/zero</code>
                </td>
<td align="left">
    чтение
    </td>
<td align="left">
    возвращает \0 ("the \0 (NUL) character" -- это не тоже самое, что символ 0
ASCII)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/dev/random</code>
                </td>
<td align="left">
    чтение
    </td>
<td align="left">
    возвращает случайные символы из ГСЧ; источник энтропии -- шумы драйверов
устройств (работает медленно)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/dev/urandom</code>
                </td>
<td align="left">
    чтение
    </td>
<td align="left">
    возвращает случайные символы из генератора псеводослучайных чисел; безопасно
для использования в целях шифрования данных
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/dev/full</code>
                </td>
<td align="left">
    запись
    </td>
<td align="left">
    возвращает ошибку переполнения диска (the disk-full (ENOSPC) error)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Эти устройства часто используются в сочетании с перенаправлением
ввода/вывода. (См. <a class="xref" href="#_typical_command_sequences_and_shell_redirection" title="1.5.8. Типичные последовательности команд и перенаправлений ввода-вывода">Раздел 1.5.8, «Типичные последовательности команд и перенаправлений ввода-вывода»</a>).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_procfs_and_sysfs"></a>1.2.12. procfs и sysfs</h3></div></div></div>
<p>ФС, монтируемые в "<code class="literal">/proc</code>" и "<code class="literal">/sys</code>" --
это несуществующие файловые системы, создаваемые и подключаемые, чтобы
внутренние данные ядра были доступны через них для обычных программ. Другими
словами, это виртуальные файловые системы, служащие удобным механизмом для
управления поведением ядра и получением его внутренней информации. </p>
<p>Каталог "<code class="literal">/proc</code>" содержит (среди всего остального) по
одному каталогу для каждого работающего в системе процесса, именованному по
номеру (PID) процесса. Именно отсюда получают информацию системные утилиты,
отображающие информацию о запущенных процессах, например
<code class="literal">ps</code>(1). </p>
<p>Каталог "<code class="literal">/proc/sys</code>" является интерфейсом для изменения
некоторых параметров работы ядра в запущенной системе. (Вы можете сделать
это посредством специальной команды <code class="literal">sysctl</code>(8) или её
конфигурационного файла "<code class="literal">/etc/sysctl.conf</code>".)</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Если ядро Linux пожалуется на слишком большое количество открытых файлов
("Too many open files"), это можно исправить, например, увеличив их
максимальное число, которое управляется переменной
"<code class="literal">file-max</code>": "<code class="literal">echo "65536" &gt;
/proc/sys/fs/file-max</code>" (Правда, это больше актуально для старых
ядер).</p>
</div>
<p>Люди часто пугаются, когда обращают внимание на обычно очень большой размер
файла "<code class="literal">/proc/kcore</code>", однако это всего лишь копия
состояния оперативной памяти. Этот файл используется для отладки ядра, он
виртуальный и всего лишь указывает на память компьютера, так что здесь нет
поводов для беспокойства. </p>
<p>Каталог "<code class="literal">/sys</code>" содержит экспортируемые ядром структуры
данных, их атрибуты и ссылки между ними. Здесь также есть интерфейс для
изменения некоторых параметров работающего ядра. </p>
<p>Подробности об этих файловых системах можно найти в соответствующей
документации для ядра: см. "<code class="literal">proc.txt(.gz)</code>",
"<code class="literal">sysfs.txt(.gz)</code>" и пр. в
"<code class="literal">/usr/share/doc/linux-doc-2.6.*/Documentation/filesystems/*</code>"
из пакета <code class="literal">linux-doc-2.6.*</code>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_midnight_commander_mc"></a>1.3. Midnight Commander (MC)</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/Midnight_Commander" target="_top">Midnight Commander (MC)</a> --
"швейцарский ножик" для Linux-консоли; он особенно удобен для новичков,
потому что предоставляет простую среду, управляемую с помощью
меню. Научиться обращаться с ней гораздо проще, чем со стандартными
командами Unix. Можно с уверенностью сказать, что для большинства начинающих
mc становится первой "дружественной" средой в консоли Linux.</p>
<p>Вам может потребоваться установить пакет с Midnight Commander'ом, который
называется <code class="literal">mc</code>:</p>
<pre class="screen">$ sudo apt-get install mc</pre>
<p>Используйте <code class="literal">mc</code>(1), чтобы исследовать, где что находится в
системе. Это лучший способ изучения, для перемещения по каталогам достаточно
кнопок-стрелочек и клавиши Enter. Вот места, в которые стоит заглянуть: </p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">/etc/</code>" и его подкаталоги
</li>
<li>
"<code class="literal">/var/log</code>" и подкаталоги
</li>
<li>
"<code class="literal">/usr/share/doc</code>" и подкаталоги
</li>
<li>
"<code class="literal">/sbin</code>" и "<code class="literal">/bin</code>"
</li>
</ul></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_customization_of_mc"></a>1.3.1. Настройка MC</h3></div></div></div>
<p>Чтобы при выходе из MC вы оказывались в последнем открытом в нём каталоге,
можно добавить в файл "<code class="literal">~/.bashrc</code>" такую строчку:</p>
<pre class="screen">. /usr/share/mc/bin/mc.sh</pre>
<p>Чтобы понять, как это работает, смотрите описание ключа
"<code class="literal">-P</code>" в <code class="literal">mc</code>(1). (Если сейчас вам неясно,
о чём речь, вы можете сделать это потом.)</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_starting_mc"></a>1.3.2. Запуск MC</h3></div></div></div>
<p>Для запуска MC просто введите команду. </p>
<pre class="screen">$ mc</pre>
<p>MC заботится о всех операциях с файлами, выполняемых из его меню, и требует
минимальных усилий от пользователя. Чтобы получить справку, просто нажмите
F1. Поиграйтесь с MC, используя клавиши F1-F9 и клавиши-стрелки. </p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В некоторых эмуляторах терминала, например в
<code class="literal">gnome-terminal</code>(1), функциональные клавиши могут
использоваться, это часто мешает работе разных консольных программ, которые
используют эти клавиши. В случае с gnome-terminal можно переназначить или
выключить горячие клавиши в меню "Правка" -&gt; "Комбинации клавиш". Подсказка:
используйте Backspace, чтобы отключить горячую клавишу.</p>
</div>
<p>Если на экран выводится куча мусора (например, из-за проблем с кодировкой),
попробуйте запускать mc с ключом "<code class="literal">-a</code>".</p>
<p>Если это не поможет, смотрите главу <a class="xref" href="#_the_terminal_configuration" title="9.6.6. Настройки терминала">Раздел 9.6.6, «Настройки терминала»</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_file_manager_in_mc"></a>1.3.3. Файловый менеджер в MC</h3></div></div></div>
<p>По умолчанию MC выводит на экран две панели (правую и левую), в которых
отображается содержимое каталогов. Другой полезный режим -- когда правая
панель является "информационной" и даёт подробные сведения о текущем
файле. Ниже описаны основные клавиши управления. С запущенным демоном
<code class="literal">gpm</code>(8) можно использовать мышь в консоли Linux.</p>
<div class="table">
<a name="thekeybindingsofmc"></a><p class="title"><b>Таблица 1.11. Клавиши управления в MC</b></p>
<div class="table-contents"><table summary="Клавиши управления в MC" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    клавиша
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">F1</code>
                </td>
<td align="left">
    окно помощи
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">F3</code>
                </td>
<td align="left">
    просмотр файлов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">F4</code>
                </td>
<td align="left">
    редактор файлов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">F9</code>
                </td>
<td align="left">
    открыть меню
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">F10</code>
                </td>
<td align="left">
    выйти из MC
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Tab</code>
                </td>
<td align="left">
    перейти в другую панель
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">Insert</code> или <code class="literal">Ctrl-T</code>
    </td>
<td align="left">
    выделить файл для операций с несколькими файлами (например, копирования)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Del</code>
                </td>
<td align="left">
    удалить файл (будьте осторожны, настройте MC на режим безопасного удаления)
    </td>
</tr>
<tr>
<td align="left">
    Клавиши-стрелочки
    </td>
<td align="left">
    их обычное поведение
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_command_line_tricks_in_mc"></a>1.3.4. Приёмы работы с командной строкой в MC</h3></div></div></div>
<div class="itemizedlist"><ul type="disc">
<li>"<code class="literal">cd</code>" -- перейти в другой каталог
</li>
<li>
<code class="literal">Ctrl-Enter</code> или <code class="literal">Alt-Enter</code> --
скопировать имя текущего файла в командную строку. Попробуйте использовать
их вместе с командами <code class="literal">cp</code>(1) и <code class="literal">mv</code>(1).
</li>
<li>
<code class="literal">Alt-Tab</code> показывает список доступных команд с учётом уже
введённого начала команды. (В GUI эта комбинация обычно используется для
переключения между окнами; вместо неё можно использовать
<code class="literal">Esc-Tab</code>).
</li>
<li>
При запуске MC можно указать каталоги, которые нужно открыть в панелях:
"<code class="literal">mc /etc /root</code>".
</li>
<li>
<code class="literal">Esc</code> + <code class="literal">n-key</code> -&gt; <code class="literal">Fn</code>
(то есть, например, <code class="literal">Esc</code> + <code class="literal">1</code> -&gt;
<code class="literal">F1</code>, <code class="literal">Esc</code> + <code class="literal">0</code> -&gt;
<code class="literal">F10</code>)
</li>
<li>
Нажатие <code class="literal">Esc</code> заменяет нажатие <code class="literal">Alt</code> в
начале команды. Например, <code class="literal">Esc</code> + <code class="literal">c</code>
эквивалентно <code class="literal">Alt</code> +
<code class="literal">C</code>. <code class="literal">Esc</code> называется ещё мета-ключом
(meta-key) и иногда обозначается (как и <code class="literal">Alt</code>)
"<code class="literal">M-</code>".
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_internal_editor_in_mc"></a>1.3.5. Встроенный редактор MC</h3></div></div></div>
<p>Встроенный редактор вызывается по клавише <code class="literal">F4</code> и имеет
любопытную схему копирования-вставки текста. Первое нажатие
<code class="literal">F3</code> начинает выделение блока текста, а второе заканчивает,
при этом выделенный текст подсвечивается. После выделения текста можно
перемещать курсор и использовать клавиши <code class="literal">F5</code> и
<code class="literal">F6</code> для копирования или перемещения. <code class="literal">F2</code>
сохраняет файл, <code class="literal">F10</code> закрывает редактор.</p>
<p>Редактор MC можно запустить и такими способами:</p>
<pre class="screen">$ mc -e имя_редактируемого_файла</pre>
<pre class="screen">$ mcedit имя_редактируемого_файла</pre>
<p><code class="literal">mcedit</code> не предназначен для редактирования нескольких
файлов одновременно, поэтому единственный способ копировать текст из одного
файла в другой -- сохранить выделенный текст в файл (меню "Файл --
Копировать в файл"), и вставить текст из файла (меню "Файл -- Вставить из
файла").</p>
<p>Этот редактор может быть заменён на любой другой.</p>
<p>Многие программы используют переменную окружения
"<code class="literal">$EDITOR</code>" или "<code class="literal">$VISUAL</code>", чтобы
выбрать, какой редактор использовать. Если вам (пока) неудобен vim(1) или
nano(1), вы можете использовать более простой mcedit, для этого добавьте
такие строчки в свой "<code class="literal">~/.bashrc</code>".</p>
<pre class="screen">export EDITOR=mcedit
export VISUAL=mcedit</pre>
<p>Я бы посоветовал всё же, если возможно, приравнивать эти переменные к
"<code class="literal">vim</code>".</p>
<p>Если никак не получается освоиться в <code class="literal">vim</code>(1), то можно
продолжать использовать <code class="literal">mcedit</code>(1) для большинства задач
настройки системы.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_internal_viewer_in_mc"></a>1.3.6. Встроенная программа просмотра в MC -- mcview</h3></div></div></div>
<p><code class="literal">mcview</code> -- очень проворная программка. Это замечательное
средство для поиска слов в документах. Я всегда использую mcview для файлов
в каталоге "<code class="literal">/usr/share/doc</code>". Это самый быстрый способ
обзора массы информации по Linux. Можно запустить mcview и такими командами:</p>
<pre class="screen">$ mc -v путь/к/файлу_для_просмотра</pre>
<pre class="screen">$ mcview путь/к/файлу_для_просмотра</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_auto_start_features_of_mc"></a>1.3.7. Возможности автозапуска в MC</h3></div></div></div>
<p>Выберите файл и нажмите на нём Enter -- запустится программа, которая
предназначена для работы с этим типом содержимого файла. (см. <a class="xref" href="#_customizing_program_to_be_started" title="9.5.11. Настройка запускаемых программ">Раздел 9.5.11, «Настройка запускаемых программ»</a>). Это очень полезное свойство
MC.</p>
<div class="table">
<a name="thereactiontotheenterkeyinmc"></a><p class="title"><b>Таблица 1.12. Реакция MC на нажатие клавиши Enter</b></p>
<div class="table-contents"><table summary="Реакция MC на нажатие клавиши Enter" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    тип файла
    </th>
<th align="left">
    реакция на нажатие Enter
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    исполняемый файл
    </td>
<td align="left">
    выполнить файл как команду
    </td>
</tr>
<tr>
<td align="left">
    man-файл
    </td>
<td align="left">
    перенаправить содержимое в программу просмотра
    </td>
</tr>
<tr>
<td align="left">
    html-файл
    </td>
<td align="left">
    перенаправить содержимое в web-браузер
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">*.tar.gz</code>" и "<code class="literal">*.deb</code>"
    </td>
<td align="left">
    просмотреть содержимое архива как каталог
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Чтобы функции просмотра содержимого работали, файл не должен быть
исполняемым. Для изменения этого атрибута файла используйте команду
<code class="literal">chmod</code>(1) или меню "Файл" MC. </p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_ftp_virtual_filesystem_of_mc"></a>1.3.8. Просмотр содержимого FTP из MC</h3></div></div></div>
<p>Ещё одно полезное свойство MC: можно пользоваться FTP-сервером в Интернете
так, как будто его содержимое -- часть файловой системы на
компьютере. Нажмите F9, чтобы зайти в меню, выберите "FTP-соединение...",
введите адрес в формате
"<code class="literal">имя_пользователя:пароль@адрес_сервера</code>" и нажмите Enter.</p>
<p>Попробуйте "[http.us.debian.org/debian]" в качестве адреса и просмотрите
содержимое архивов Debian.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_basic_unix_like_work_environment"></a>1.4. Основы пользовательского окружения Unix</h2></div></div></div>
<p>Хотя с помощью MC вы можете делать почти всё, очень важно научиться
использовать средства командной строки и ознакомиться с Unix-подобным
рабочим окружением.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_login_shell"></a>1.4.1. Оболочка (shell)</h3></div></div></div>
<p>Вы можете изменить оболочку с помощью команды <code class="literal">chsh</code>(1).</p>
<div class="table">
<a name="list-of-shell-programs"></a><p class="title"><b>Таблица 1.13. Список интерпретаторов команд</b></p>
<div class="table-contents"><table summary="Список интерпретаторов команд" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    POSIX-оболочка
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bash" target="_top"> <code class="literal">bash</code>
</a> <a class="ulink" href="http://bugs.debian.org/bash" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bash" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bash.html" target="_top">3536</a></td>
<td align="left">
    Да
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Bash" target="_top">Bash</a>: GNU Bourne Again SHell (стандарт де факто)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tcsh" target="_top"> <code class="literal">tcsh</code>
</a> <a class="ulink" href="http://bugs.debian.org/tcsh" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tcsh" target="_top">V:5, I:29</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tcsh.html" target="_top">768</a></td>
<td align="left">
    Нет
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Tcsh" target="_top">TENEX C Shell</a>: расширенная версия <a class="ulink" href="http://ru.wikipedia.org/wiki/Csh" target="_top">Berkley csh</a>
</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dash" target="_top"> <code class="literal">dash</code>
</a> <a class="ulink" href="http://bugs.debian.org/dash" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dash" target="_top">V:23, I:30</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dash.html" target="_top">248</a></td>
<td align="left">
    Да
    </td>
<td align="left">
    Debian <a class="ulink" href="http://ru.wikipedia.org/wiki/Ash_(UNIX)" target="_top">Almquist Shell</a>, хорош для
сценариев
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/zsh" target="_top"> <code class="literal">zsh</code>
</a> <a class="ulink" href="http://bugs.debian.org/zsh" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=zsh" target="_top">V:2, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/z/zsh.html" target="_top">12980</a></td>
<td align="left">
    Да
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Zsh" target="_top">Z shell</a>: стандартная оболочка со многими
расширениями
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pdksh" target="_top"> <code class="literal">pdksh</code>
</a> <a class="ulink" href="http://bugs.debian.org/pdksh" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pdksh" target="_top">V:0.2, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pdksh.html" target="_top">468</a></td>
<td align="left">
    Да
    </td>
<td align="left">
    public domain версия командного интерпретатора Korn
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/csh" target="_top"> <code class="literal">csh</code>
</a> <a class="ulink" href="http://bugs.debian.org/csh" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=csh" target="_top">V:0.6, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/csh.html" target="_top">404</a></td>
<td align="left">
    Нет
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/OpenBSD" target="_top">OpenBSD</a> C Shell, версия <a class="ulink" href="http://ru.wikipedia.org/wiki/Csh" target="_top">Berkeley csh</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sash" target="_top"> <code class="literal">sash</code>
</a> <a class="ulink" href="http://bugs.debian.org/sash" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sash" target="_top">V:0.2, I:1.0</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sash.html" target="_top">856</a></td>
<td align="left">
    Да
    </td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Stand-alone_shell" target="_top">Stand-alone shell</a> для восстановления
системы и однопользовательского режима со встроенными командами (не
предназначен для замены стандартного "<code class="literal">/bin/sh</code>").
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ksh" target="_top"> <code class="literal">ksh</code>
</a> <a class="ulink" href="http://bugs.debian.org/ksh" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ksh" target="_top">V:0.4, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/ksh.html" target="_top">2800</a></td>
<td align="left">
    Да
    </td>
<td align="left">
    настоящая AT&amp;T-версия командного интерпретатора <a class="ulink" href="http://ru.wikipedia.org/wiki/Korn_shell" target="_top">Korn</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/rc" target="_top"> <code class="literal">rc</code>
</a> <a class="ulink" href="http://bugs.debian.org/rc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=rc" target="_top">V:0.17, I:1.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/rc.html" target="_top">204</a></td>
<td align="left">
    Нет
    </td>
<td align="left">
    реализация оболочки <a class="ulink" href="http://ru.wikipedia.org/wiki/Plan_9" target="_top">AT&amp;T Plan 9</a> <a class="ulink" href="http://en.wikipedia.org/wiki/Rc" target="_top">rc shell</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/posh" target="_top"> <code class="literal">posh</code>
</a> <a class="ulink" href="http://bugs.debian.org/posh" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=posh" target="_top">V:0.01, I:0.11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/posh.html" target="_top">228</a></td>
<td align="left">
    Да
    </td>
<td align="left">
    Policy-compliant Ordinary SHell (<code class="literal">pdksh</code> derivative)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>В этом справочнике под интерактивной оболочкой подразумевается
<code class="literal">bash</code>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_customizing_bash"></a>1.4.2. Настройка bash</h3></div></div></div>
<p>Можно настроить поведение <code class="literal">bash</code> в файле
"<code class="literal">~/.bashrc</code>".</p>
<p>Например, попробуйте следующее.</p>
<pre class="screen"># при выходе из MC оставаться в последнем открытом каталоге
. /usr/share/mc/bin/mc.sh

# CDPATH: открывать каталоги в этих местах без ввода полного пути
CDPATH=.:/usr/share/doc:~:~/Desktop:~
export CDPATH

PATH=\"${PATH}\":/usr/sbin:/sbin
# PATH: искать исполняемые файлы в частном каталоге ~/bin пользователя (и в других местах из $PATH)
if [ -d ~/bin ] ; then
  PATH=~/bin:\"${PATH}\"
fi
export PATH

EDITOR=vim
export EDITOR</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Другие полезные настройки <code class="literal">bash</code> вы можете посмотреть в
главе <a class="xref" href="#_system_tips" title="Глава 9. Советы по использованию системы">Глава 9, <i>Советы по использованию системы</i></a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_special_key_strokes"></a>1.4.3. Специальные комбинации клавиш (горячие клавиши)</h3></div></div></div>
<p>В <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">Unix-подобном</a> окружении есть несколько
традиционных горячих клавиш (key strokes). Заметьте, что в обычной
Linux-консоли только левые <code class="literal">Ctrl</code> и <code class="literal">Alt</code>
работают так, как здесь описано. Полезно запомнить несколько приёмов.</p>
<div class="table">
<a name="listofkeybindingsforbash"></a><p class="title"><b>Таблица 1.14. Горячие клавиши bash</b></p>
<div class="table-contents"><table summary="Горячие клавиши bash" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    клавиша
    </th>
<th align="left">
    описание действия
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">Ctrl-U</code>
                </td>
<td align="left">
    очистить строчку перед курсором
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-H</code>
                </td>
<td align="left">
    очистить строчку после курсора
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-D</code>
                </td>
<td align="left">
    закончить ввод (если вы в командной оболочке, выйти из неё)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-C</code>
                </td>
<td align="left">
    завершить выполняющуюся программу
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-Z</code>
                </td>
<td align="left">
    временно остановить программу, переведя её в фоновый режим
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-S</code>
                </td>
<td align="left">
    приостановить вывод на экран
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-Q</code>
                </td>
<td align="left">
    возобновить вывод на экран
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-Alt-Del</code>
                </td>
<td align="left">
    перезагрузить систему  см. <code class="literal">inittab</code>(5)
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">Left-Alt</code> (возможно, <code class="literal">Windows-key</code>)
    </td>
<td align="left">
    meta-клавиша Emacs и похожих на него пользовательских интерфейсов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Up-arrow</code>
                </td>
<td align="left">
    предыдущая выполненная команда
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-R</code>
                </td>
<td align="left">
    поиск команды в истории ранее выполненных команд
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Tab</code>
                </td>
<td align="left">
    дополнить имя файла или команды с учётом уже введённых символов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Ctrl-V</code>
                </td>
<td align="left">
    ввести знак табуляции без обращения к средствам автодополнения
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Описанное поведение Ctrl-S можно выключить с помощью
<code class="literal">stty</code>(1).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_unix_style_mouse_operations"></a>1.4.4. Работа с мышью в стиле Unix</h3></div></div></div>
<p>Приёмы предполагают использование 3-кнопочной мыши.</p>
<div class="table">
<a name="listofunixstylemouseoperations"></a><p class="title"><b>Таблица 1.15. Список команд для работы с мышью</b></p>
<div class="table-contents"><table summary="Список команд для работы с мышью" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    действие с файлом
    </th>
<th align="left">
    результат
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    Левый клик и выделение мышью
    </td>
<td align="left">
    выделить и копировать в буфер обмена
    </td>
</tr>
<tr>
<td align="left">
    Лeвый клик
    </td>
<td align="left">
    выбрать и начать выделение
    </td>
</tr>
<tr>
<td align="left">
    Правый клик
    </td>
<td align="left">
    обозначить конец выделения и копировать в буфер обмена
    </td>
</tr>
<tr>
<td align="left">
    Средний клик
    </td>
<td align="left">
    вставить из буфера обмена
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Колесо прокрутки на современных мышах может использоваться как третья,
средняя кнопка. Если мышь 2-кнопочная, то нажатие левой и правой кнопки
одновременно заменяет нажатие средней кнопки. Чтобы использовать мышь в
текстовом терминале, должен быть запущен сервис <code class="literal">gpm</code>(8).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_pager"></a>1.4.5. Пейджер (pager) -- программа просмотра файлов</h3></div></div></div>
<p><code class="literal">less</code>(1) -- это больше, чем <code class="literal">more</code>(1),
простейший инструмент просмотра содержимого файлов. Для получения справки в
less нажмите "<code class="literal">h</code>". Перед тем, как показать содержимое
файла, <code class="literal">less</code>(1) может подготовить его для правильного и
красивого вывода: чтобы использовать эту возможность, добавьте
"<code class="literal">eval $(lesspipe)</code>" или "<code class="literal">eval
$(lessfile)</code>" к стартовым сценариям. (Подробней читайте в
"<code class="literal">/usr/share/doc/less/LESSOPEN</code>").</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_text_editor"></a>1.4.6. Текстовый редактор</h3></div></div></div>
<p>Вам стоит научиться обращаться с одним из вариантов <a class="ulink" href="http://ru.wikipedia.org/wiki/Vim" target="_top">Vim</a>'а или <a class="ulink" href="http://ru.wikipedia.org/wiki/Emacs" target="_top">Emacs</a>'а, они
часто используются в Unix-системах.</p>
<p>Я думаю, лучше начать с команд Vim, поскольку редактор Vi присутствует в
любой Linux/Unix системе. (Действительно, оригинальный <code class="literal">vi</code>
или новый <code class="literal">nvi</code> -- это программы, которые можно встретить
везде. Я выбираю здесь Vim, потому что он предлагает справку, вызываемую
клавишей <code class="literal">F1</code>, что удобно для новичков, тем более что vim
достаточно похож на vi и nvi и имеет больше возможностей.)</p>
<p>Если же ваш выбор будет в пользу <a class="ulink" href="http://ru.wikipedia.org/wiki/Emacs" target="_top">Emacs</a> или
<a class="ulink" href="http://ru.wikipedia.org/wiki/XEmacs" target="_top">XEmacs</a>, это тоже хорошее решение, в частности,
для программирования. Emacs изобилует надстройками, включая функциональность
для чтения новостей, почтового клиента, редактора каталогов и т.д. При
использовании для программирования или редактирования сценариев, он
распознаёт форматы файлов и пытается оказывать помощь. Некоторые находят
Emacs единственной нужной программой в системе Linux. Десять минут изучения
Emacs сейчас может впоследствии сэкономить часы. Очень рекомендуется иметь
Руководство по GNU Emacs в качестве справочника при изучении.</p>
<p>Все эти программы обычно идут вместе с обучающей программой. Запустите Vim
командой "<code class="literal">vim</code>" и нажмите
<code class="literal">F1</code>. Прочитайте внимательно хотя бы первые 35 строчек. А
теперь попробуйте пройти краткий курс обучения, переместив курсор на
"<code class="literal">|tutor|</code>" и нажав <code class="literal">Ctrl-]</code>.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Хорошие редакторы, как Vim или Emacs, корректно работают с UTF-8 в случае
правильной настройки локализации и установки соответствующих шрифтов. Вы
можете обратиться к их документации на тему Unicode.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_setting_a_default_text_editor"></a>1.4.7. Установка редактора по умолчанию</h3></div></div></div>
<p>В Debian входит куча различных редакторов. Как уже говорилось, мы
рекомендуем Vim из пакета <code class="literal">vim</code>.</p>
<p>В Debian редактор, используемый по умолчанию, доступен по команде
"<code class="literal">/usr/bin/editor</code>", так что другие программы (например,
<code class="literal">reportbug</code>(1)) могут его использовать. Вы можете изменить
это, например, так:</p>
<pre class="screen">$ sudo update-alternatives --config editor</pre>
<p>Я рекомендую начинающим "<code class="literal">/usr/bin/vim.basic</code>" вместо
"<code class="literal">/usr/bin/vim.tiny</code>", поскольку они поддерживает подсветку
синтаксиса.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Как уже говорилось, многие программы используют переменные окружения
"<code class="literal">$EDITOR</code>" и "<code class="literal">$VISUAL</code>" чтобы выбрать
запускаемый редактор (См. <a class="xref" href="#_the_internal_editor_in_mc" title="1.3.5. Встроенный редактор MC">Раздел 1.3.5, «Встроенный редактор MC»</a> и
<a class="xref" href="#_customizing_program_to_be_started" title="9.5.11. Настройка запускаемых программ">Раздел 9.5.11, «Настройка запускаемых программ»</a>). Для согласованности в
системе, установите им значения
"<code class="literal">/usr/bin/editor</code>". (Исторически,
"<code class="literal">$EDITOR</code>" был "<code class="literal">ed</code>", а
"<code class="literal">$VISUAL</code>" был "<code class="literal">vi</code>".)</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_customizing_vim"></a>1.4.8. Настройка vim</h3></div></div></div>
<p>Настройки <code class="literal">vim</code>(1) хранятся в
"<code class="literal">~/.vimrc</code>". Попробуйте такую конфигурацию.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">" -------------------------------
" Локальная конфигурация
"
set nocompatible
set nopaste
set pastetoggle=&lt;f2&gt;
syn on
if $USER == "root"
 set nomodeline
 set noswapfile
else
 set modeline
 set swapfile
endif
" первая строка открываемого файла не должна считываться как строка
" настроек редактора (modeline), если пользователь -- root
"</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_recording_the_shell_activities"></a>1.4.9. Запись вывода оболочки</h3></div></div></div>
<p>Информация, выводимая командами оболочки может пробегать на экране и
безвозвратно теряться. Хорошая практика -- записывать выводимую на экран
информацию в файл, чтобы можно было пересмотреть всё потом. Этот тип записей
ценен при выполнении задач администрирования.</p>
<p>Основной метод для записи вывода предоставляется командой
<code class="literal">script</code>(1).</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ script
Script started, file is typescript</pre>
<p>Теперь выполните какие-нибудь команды.</p>
<p>Нажмите <code class="literal">Ctrl-D</code> для выхода из <code class="literal">script</code>.</p>
<pre class="screen">$ vim typescript</pre>
<p>См. <a class="xref" href="#_recording_the_shell_activities_cleanly" title="9.2.3. Записываем действия оболочки чисто">Раздел 9.2.3, «Записываем действия оболочки чисто»</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basic_unix_commands"></a>1.4.10. Основные команды Unix</h3></div></div></div>
<p>Давайте изучим простейшие команды Unix. Здесь я имею в виду Unix в общем
смысле. Любая система, основанная на Unix, обычно предоставляет такие же
команды, и Debian не является исключением. Не печальтесь, если некоторые
команды не заработают в ваших руках сразу.</p>
<p>Попробуйте все приведённые ниже команды от имени непривилегированного
пользователя.</p>
<div class="table">
<a name="listofbasicunixcommands"></a><p class="title"><b>Таблица 1.16. Примеры часто используемых команд</b></p>
<div class="table-contents"><table summary="Примеры часто используемых команд" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">pwd</code>
                </td>
<td align="left">
    отображает имя текущего (рабочего) каталога
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">whoami</code>
                </td>
<td align="left">
    отображает имя текущего пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">id</code>
                </td>
<td align="left">
    отображает информацию о пользователе (имя, uid, gid, и группы, куда он
входит)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">file &lt;foo&gt;</code>
                </td>
<td align="left">
    показывает тип файла "<code class="literal">&lt;foo&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">type -p &lt;имя_команды&gt;</code>
                </td>
<td align="left">
    показывает местонахождение команды "<code class="literal">&lt;имя_команды&gt;</code>"
в системе
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">which &lt;имя_команды&gt;</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">type &lt;имя_команды&gt;</code>
                </td>
<td align="left">
    показать информацию о команде "<code class="literal">&lt;имя_команды&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">apropos &lt;ключевое_слово&gt;</code>
                </td>
<td align="left">
    поиск в именах справочных страниц (manual pages) и кратких описаниях
"<code class="literal">&lt;ключевое_слово&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">man -k &lt;ключевое_слово&gt;</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">whatis &lt;commandname&gt;</code>
                </td>
<td align="left">
    отображает описания всех страниц, подходящих под название
"<code class="literal">&lt;commandname&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">man -a &lt;commandname&gt;</code>
                </td>
<td align="left">
    показать подряд все доступные справочные страницы по
"<code class="literal">&lt;commandname&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">info &lt;commandname&gt;</code>
                </td>
<td align="left">
    показать описание команды в системе GNU Info
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ls</code>
                </td>
<td align="left">
    вывести содержимое каталога (без файлов, имена которых начинается с точки)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ls -a</code>
                </td>
<td align="left">
    вывести содержимое каталога (включая файлы, имя которых начинается с точки)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ls -A</code>
                </td>
<td align="left">
    вывести содержимое каталога (без "<code class="literal">.</code>" и
"<code class="literal">..</code>")
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ls -la</code>
                </td>
<td align="left">
    вывести содержимое каталога вместе с подробной информацией о файлах
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ls -lai</code>
                </td>
<td align="left">
    вывести содержимое каталога вместе с серийными номерами (inode number) и
информацией о файлах
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ls -d</code>
                </td>
<td align="left">
    вывести имена каталогов без их содержимого
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tree</code>
                </td>
<td align="left">
    выводит структуру каталогов в виде дерева
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">lsof &lt;foo&gt;</code>
                </td>
<td align="left">
    показать информацию по открытому файлу "<code class="literal">&lt;foo&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">lsof -p &lt;pid&gt;</code>
                </td>
<td align="left">
    показать файлы, открытые процессом "<code class="literal">&lt;pid&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">mkdir &lt;foo&gt;</code>
                </td>
<td align="left">
    создать подкаталог "<code class="literal">&lt;foo&gt;</code>" в текущем каталоге
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">rmdir &lt;foo&gt;</code>
                </td>
<td align="left">
    удалить каталог "<code class="literal">&lt;foo&gt;</code>" из текущего каталога
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cd &lt;foo&gt;</code>
                </td>
<td align="left">
    перейти в каталог "<code class="literal">&lt;foo&gt;</code>", при этом
"<code class="literal">&lt;foo&gt;</code>" будет искаться в текущем каталоге и во
всех, перечисленных в переменной "<code class="literal">$CDPATH</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cd /</code>
                </td>
<td align="left">
    перейти в корневой каталог
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cd</code>
                </td>
<td align="left">
    перейти в домашний каталог пользователя (home directory)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cd /&lt;foo&gt;</code>
                </td>
<td align="left">
    перейти по абсолютному пути "<code class="literal">&lt;foo&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cd ..</code>
                </td>
<td align="left">
    перейти в родительский каталог
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cd ~&lt;foo&gt;</code>
                </td>
<td align="left">
    перейти в каталог "<code class="literal">&lt;foo&gt;</code>", находящийся в домашнем
каталоге пользователя 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cd -</code>
                </td>
<td align="left">
    перейти в предыдущий каталог 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">&lt;/etc/motd pager</code>
                </td>
<td align="left">
    вывести содержимое файла "<code class="literal">/etc/motd</code>" в программе pager 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">touch &lt;junkfile&gt;</code>
                </td>
<td align="left">
    способ создать пустой файл с именем "<code class="literal">&lt;junkfile&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cp &lt;foo&gt; &lt;bar&gt;</code>
                </td>
<td align="left">
    скопировать файл "<code class="literal">&lt;foo&gt;</code>" и назвать копию
"<code class="literal">&lt;bar&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">rm &lt;junkfile&gt;</code>
                </td>
<td align="left">
    удалить файл "<code class="literal">&lt;junkfile&gt;</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">mv &lt;foo&gt; &lt;bar&gt;</code>
                </td>
<td align="left">
    переименовать файл "<code class="literal">&lt;foo&gt;</code>" в
"<code class="literal">&lt;bar&gt;</code>" (если файл "<code class="literal">&lt;bar&gt;</code>"
существует, он будет стёрт!)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">mv &lt;foo&gt; &lt;bar&gt;</code>
                </td>
<td align="left">
    переместить файл "<code class="literal">&lt;foo&gt;</code>" в каталог
"<code class="literal">&lt;bar&gt;</code>" (каталог "<code class="literal">&lt;bar&gt;</code>"
должен существовать) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">mv &lt;foo&gt; &lt;bar&gt;/&lt;baz&gt;</code>
                </td>
<td align="left">
    переместить файл "<code class="literal">&lt;foo&gt;</code>" в каталог
"<code class="literal">&lt;bar&gt;</code>" и сменить название файла с
"<code class="literal">&lt;foo&gt;</code>" на "<code class="literal">&lt;baz&gt;</code>" (при
этом каталог "<code class="literal">&lt;bar&gt;</code>" должен существовать, а файл
"<code class="literal">&lt;baz&gt;</code>" -- нет, иначе он будет заменён)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">chmod 600 &lt;foo&gt;</code>
                </td>
<td align="left">
    запретить всем, кроме владельца, смотреть и изменять файл
"<code class="literal">&lt;foo&gt;</code>" и запретить всем, включая владельца,
исполнять файл как программу 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">chmod 644 &lt;foo&gt;</code>
                </td>
<td align="left">
    запретить всем, кроме владельца, изменять содержимое файла, но разрешить им
читать его содержимое (и запретить исполнять файл всем) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">chmod 755 &lt;foo&gt;</code>
                </td>
<td align="left">
    сделать файл "<code class="literal">&lt;foo&gt;</code>" исполняемым для всех, но
запретить изменять его содержимое всем, кроме владельца 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">find .  -name &lt;pattern&gt;</code>
                </td>
<td align="left">
    найти в текущем каталоге и всех подкаталогах файл с именем по шаблону
"<code class="literal">&lt;pattern&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">locate -d .  &lt;pattern&gt;</code>
                </td>
<td align="left">
    найти в списке всех файлов системы все файлы, абсолютное имя которых
содержит шаблон "<code class="literal">&lt;pattern&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">grep -e "&lt;pattern&gt;" *.html</code>
                </td>
<td align="left">
    искать шаблон "&lt;pattern&gt;" во всех файлах с именем, оканчивающимся
"<code class="literal">.html</code>", находящихся в текущем каталоге 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">top</code>
                </td>
<td align="left">
    показать динамическую информацию о процессах в системе (для выхода нажмите
"<code class="literal">q</code>") 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ps aux | pager</code>
                </td>
<td align="left">
    вывести информацию о всех процессах в системе в стиле BSD 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ps -ef | pager</code>
                </td>
<td align="left">
    вывести информацию о всех процессах в системе в стиле system-V 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ps aux | grep -e "[e]xim4*"</code>
                </td>
<td align="left">
    выбрать из информации о всех процессах в системе только строчки о процессах
"<code class="literal">exim4</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ps axf | pager</code>
                </td>
<td align="left">
    выделить информацию о родительских и дочерних процессах в системе 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">kill &lt;1234&gt;</code>
                </td>
<td align="left">
    послать процессу с PID "&lt;1234&gt;" сигнал завершения ("попросить" процесс
завершиться) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gzip &lt;foo&gt;</code>
                </td>
<td align="left">
    сжать файл "<code class="literal">&lt;foo&gt;</code>" в файл
"<code class="literal">&lt;foo&gt;.gz</code>" (используя алгоритм Lempel-Ziv (LZ77)) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gunzip &lt;foo&gt;.gz</code>
                </td>
<td align="left">
    восстановить "<code class="literal">&lt;foo&gt;.gz</code>" в
"<code class="literal">&lt;foo&gt;</code>" (распаковать) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">bzip2 &lt;foo&gt;</code>
                </td>
<td align="left">
    сжать файл "<code class="literal">&lt;foo&gt;</code>" в
"<code class="literal">&lt;foo&gt;.bz2</code>" (используя метод преобразования
Барроуза-Уиллера и кодирование Хаффмана (большее сжатие, чем с
использованием программы <code class="literal">gzip</code>) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">bunzip2 &lt;foo&gt;.bz2</code>
                </td>
<td align="left">
    распаковать "<code class="literal">&lt;foo&gt;.bz2</code>" и создать
"<code class="literal">&lt;foo&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">xz &lt;foo&gt;</code>
                </td>
<td align="left">
    сжать файл "<code class="literal">&lt;foo&gt;</code>" в
"<code class="literal">&lt;foo&gt;.bz2</code>", используя цепной алгоритм Лемпеля --
Зива -- Маркова (большее сжатие, чем с использованием программы
<code class="literal">bzip2</code>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">unxz &lt;foo&gt;.xz</code>
                </td>
<td align="left">
    восстановить "<code class="literal">&lt;foo&gt;.xz</code>" в
"<code class="literal">&lt;foo&gt;</code>" (распаковать) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tar -xvf &lt;foo&gt;.tar</code>
                </td>
<td align="left">
    извлечь файлы из архива "<code class="literal">&lt;foo&gt;.tar</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tar -xvzf &lt;foo&gt;.tar.gz</code>
                </td>
<td align="left">
    извлечь файлы из сжатого архива "<code class="literal">&lt;foo&gt;.tar.gz</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tar -xvjf &lt;foo&gt;.tar.bz2</code>
                </td>
<td align="left">
    извлечь файлы из сжатого архива "<code class="literal">&lt;foo&gt;.tar.bz2</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tar -xvJf &lt;foo&gt;.tar.xz</code>
                </td>
<td align="left">
    извлечь файлы из сжатого архива "<code class="literal">&lt;foo&gt;.tar.xz</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tar -cvf &lt;foo&gt;.tar &lt;bar&gt;/</code>
                </td>
<td align="left">
    архивировать каталог "<code class="literal">&lt;bar&gt;/</code>" в архив
"<code class="literal">&lt;foo&gt;.tar</code>" (без сжатия архива) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tar -cvzf &lt;foo&gt;.tar.gz &lt;bar&gt;/</code>
                </td>
<td align="left">
    архивировать каталог "<code class="literal">&lt;bar&gt;/</code>" и сжать полученный
архив программой <code class="literal">gzip</code>, в файл
"<code class="literal">&lt;foo&gt;.tar.gz</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tar -cvjf &lt;foo&gt;.tar.bz2 &lt;bar&gt;/</code>
                </td>
<td align="left">
    архивировать каталог "<code class="literal">&lt;bar&gt;/</code>" и сжать полученный
архив программой <code class="literal">bzip</code> в файл
"<code class="literal">&lt;foo&gt;.tar.bz2</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tar -cvJf &lt;foo&gt;.tar.xz &lt;bar&gt;/</code>
                </td>
<td align="left">
    архивировать каталог "<code class="literal">&lt;bar&gt;/</code>" и сжать полученный
архив программой <code class="literal">xz</code> в файл
"<code class="literal">&lt;foo&gt;.tar.xz</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">zcat README.gz | pager</code>
                </td>
<td align="left">
    вывести содержимое сжатого файла "<code class="literal">README.gz</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">zcat README.gz &gt; foo</code>
                </td>
<td align="left">
    создать файл "<code class="literal">foo</code>" из распакованного содержимого сжатого
файла "<code class="literal">README.gz</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">zcat README.gz &gt;&gt; foo</code>
                </td>
<td align="left">
    распаковать файл "<code class="literal">README.gz</code>" и добавить его содержимое к
файлу "<code class="literal">foo</code>" (если такого нет, создать) 
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В Unix файлы, имя которых начинается с точки ("<code class="literal">.</code>"),
считаются "скрытыми". Традиционно именно в этих файлах находится
пользовательские настройки.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Про команду "<code class="literal">cd</code>" можно прочитать в
<code class="literal">builtins</code>(7).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Программа просмотра файлов в минимальной установке Debian --
<code class="literal">more</code>(1), которая не прокручивает текст назад. При
установке пакета <code class="literal">less</code> ("<code class="literal">apt-get install
less</code>"), <code class="literal">less</code>(1) становится программой просмотра
по умолчанию. <code class="literal">less</code>(1) имеет много преимуществ по
сравнению с <code class="literal">more</code>(1).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В команде "<code class="literal">ps aux | grep -e "[e]xim4*"</code>" есть полезная
хитрость. Если в имени искомого процесса не ставить квадратные скобки, то
команда покажет саму себя в списке процессов, а это не всегда
желательно. Можно чуть короче: "<code class="literal">ps aux|grep '[e]xim'</code>"</p>
</div>
<p>Пожалуйста, походите по каталогам и изучите систему, используя ранее
описанные команды, для тренировки. Если у Вас есть вопросы по любой из
консольных команд, будьте добры прочесть соответствующие
man-страницы. Например, для начала вот эти:</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ man man
$ man bash
$ man builtins
$ man grep
$ man ls</pre>
<p>Стиль man-страниц может быть тяжёлым для чтения, но если освоитесь с этой
системой, то оцените её удобство.</p>
<p>Пожалуйста заметьте, что многие команды Unix, включая команды GNU и BSD,
будут показывать краткую справочную информацию, если вы вызовете их одним из
следующих способов (или, в некоторых случаях, без аргументов вовсе):</p>
<pre class="screen">$ &lt;имя_команды&gt; --help
$ &lt;имя_команды&gt; -h</pre>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_simple_shell_command"></a>1.5. О том, как работают команды shell</h2></div></div></div>
<p>Теперь у вас есть представление о том, как использовать систему
Debian. Давайте заглянем глубже, в механизмы выполнения команд. Здесь я
упрощаю описание в расчёте на начинающих пользователей. Для получения точной
и полной информации читайте <code class="literal">bash</code>(1).</p>
<p>Простая команда -- это последовательность, состоящая из:</p>
<div class="orderedlist"><ol type="1">
<li>
Установки значений переменных (необязательно)
</li>
<li>
имени команды
</li>
<li>
аргументов команды (необязательно)
</li>
<li>
перенаправлений (необязательно: <code class="literal">&gt;</code> ,
<code class="literal">&gt;&gt;</code> , <code class="literal">&lt;</code> ,
<code class="literal">&lt;&lt;</code> и пр.) 
</li>
<li>
управляющий оператор (необязательно: <code class="literal">&amp;&amp;</code> ,
<code class="literal">||</code> ; &lt;newline&gt; , <code class="literal">;</code> ,
<code class="literal">&amp;</code> , <code class="literal">(</code> , <code class="literal">)</code> )
</li>
</ol></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_command_execution_and_environment_variable"></a>1.5.1. Выполнение команд и переменные окружения</h3></div></div></div>
<p>Значения некоторых <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D1%81%D1%80%D0%B5%D0%B4%D1%8B" target="_top">переменных
окружения</a> влияют на поведение многих команд.</p>
<p>Установкой переменных окружения в их значения по умолчанию занимается один
из модулей системы PAM. Программы могут изменять часть этих переменных.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Дисплейный менеджер <code class="literal">gdm</code> переустанавливает переменные
окружения.
</li>
<li>
Оболочка при запуске переустанавливает переменные окружения, указанные в
"<code class="literal">~/bash_profile</code>" и "<code class="literal">~/.bashrc</code>".
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_literal_lang_literal_variable"></a>1.5.2. Переменная "<code class="literal">$LANG</code>"</h3></div></div></div>
<p>Полное значение этой переменной состоит из 3 частей:
"<code class="literal">xx_YY.ZZZZ</code>".</p>
<div class="table">
<a name="dpartsoflocalevalue"></a><p class="title"><b>Таблица 1.17. 3 части переменной "<code class="literal">$LANG</code>"</b></p>
<div class="table-contents"><table summary='3 части переменной "$LANG"' border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    часть переменной $LANG
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">xx</code>
                </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_639" target="_top">ISO 639</a> код языка
(нижний регистр) например "ru"
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">YY</code>
                </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_3166-3" target="_top">ISO 3166</a> код страны
(верхний регистр) напр. "RU"
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ZZZZ</code>
                </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9D%D0%B0%D0%B1%D0%BE%D1%80_%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D0%BE%D0%B2" target="_top">кодировка</a>, устанавливайте
всегда в "UTF-8"
                </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Коды стран и языков перечислены в "<code class="literal">info gettext</code>".</p>
<p>На современных системах Debian лучше всегда использовать кодировку <span class="strong"><strong><code class="literal">UTF-8</code></strong></span>, если только у вас нет
достаточных причин использовать одну из устаревших.</p>
<p>Детали настройки локализации смотрите в разделе <a class="xref" href="#_the_locale" title="8.3. Локаль">Раздел 8.3, «Локаль»</a>.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>"<code class="literal">LANG=en_US</code>" это не то же самое, что
"<code class="literal">LANG=C</code>", и не "<code class="literal">LANG=en_US.UTF-8</code>", а
"<code class="literal">LANG=en_US.ISO-8859-1</code>" (См. <a class="xref" href="#_basics_of_encoding" title="8.3.1. Основные сведения о кодировке">Раздел 8.3.1, «Основные сведения о кодировке»</a>).</p>
</div>
<div class="table">
<a name="listoflocalerecommendations"></a><p class="title"><b>Таблица 1.18. Список рекомендованных значений $LANG</b></p>
<div class="table-contents"><table summary="Список рекомендованных значений $LANG" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    рекомендованная локаль
    </th>
<th align="left">
    Язык (страна)
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">en_US.UTF-8</code>
                </td>
<td align="left">
    английский (США)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">en_GB.UTF-8</code>
                </td>
<td align="left">
    английский (Великобритания)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">fr_FR.UTF-8</code>
                </td>
<td align="left">
    французский (Франция)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">de_DE.UTF-8</code>
                </td>
<td align="left">
    немецкий (Германия)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">it_IT.UTF-8</code>
                </td>
<td align="left">
    итальянский (Италия)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">es_ES.UTF-8</code>
                </td>
<td align="left">
    испанский (Испания)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ca_ES.UTF-8</code>
                </td>
<td align="left">
    каталанский (Испания)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">sv_SE.UTF-8</code>
                </td>
<td align="left">
    шведский (Швеция)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">pt_BR.UTF-8</code>
                </td>
<td align="left">
    португальский (Бразилия)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ru_RU.UTF-8</code>
                </td>
<td align="left">
    русский (Россия)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">zh_CN.UTF-8</code>
                </td>
<td align="left">
    китайский (КНР)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">zh_TW.UTF-8</code>
                </td>
<td align="left">
    китайский (Тайвань)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ja_JP.UTF-8</code>
                </td>
<td align="left">
    японский (Япония)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ko_KR.UTF-8</code>
                </td>
<td align="left">
    корейский (Республика Корея)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">vi_VN.UTF-8</code>
                </td>
<td align="left">
    вьетнамский (Вьетнам)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Можно выполнить какую-то отдельную команду со специально заданным только для
неё значением переменной "<code class="literal">$LANG</code>.</p>
<pre class="screen">$ date
Sun Jun  3 10:27:39 JST 2007
$ LANG=fr_FR.UTF-8 date
dimanche 3 juin 2007, 10:27:33 (UTC+0900)</pre>
<p>Здесь команда <code class="literal">date</code>(1) выполняется с различными значениями
"<code class="literal">$LANG</code>".</p>
<div class="itemizedlist"><ul type="disc">
<li>
В первом случае "<code class="literal">$LANG</code>" установлена в своё значение по
умолчанию для данной системы ("<code class="literal">LANG=en_US.UTF-8</code>").
</li>
<li>
Вторая команда выполняется с "<code class="literal">LANG=fr_FR.UTF-8</code>".
</li>
</ul></div>
<p>Обычно команды запускаются без установки для них особых переменных
среды. Можно установить какие-то переменные одной командой, и они будут
использоваться последующими, например</p>
<pre class="screen">$ LANG=fr_FR.UTF-8
$ date
dimanche 3 juin 2007, 10:27:33 (UTC+0900)</pre>
<p>Как видите, вывод команды сильно зависит от переменной среды, в данном
случае язык вывода меняется на французский. Если нужно, чтобы переменная
окружения была "видна" для запускаемых процессов (например, для сценариев),
её нужно <span class="strong"><strong>экспортировать</strong></span>:</p>
<pre class="screen">$ export LANG</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Сообщение об ошибке (bug report) рекомендуется оформлять с установленной
"LANG=en_US.UTF-8".</p>
</div>
<p>Подробней про "<code class="literal">$LANG</code>" см. в <code class="literal">locale</code>(5)
и <code class="literal">locale</code>(7).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Я рекомендую устанавливать только "<code class="literal">$LANG</code>" и не трогать
переменные "<code class="literal">$LC_*</code>" без нужды. (С помощью последних можно
тонко настраивать параметры локализации в среде.)</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_literal_path_literal_variable"></a>1.5.3. Переменная "<code class="literal">$PATH</code>"</h3></div></div></div>
<p>Когда вы отдаёте команду в оболочке, сначала ищется, где может находиться
программа с именем этой команды. В системе разные программы находятся в
разных каталогах, и переменная "<code class="literal">$PATH</code>" определяет, в
каких каталогах будет искаться программа (поэтому переменную
"<code class="literal">$PATH</code>" называют также путём поиска, search path).</p>
<p>По умолчанию в свежеустановленной системе Debian, "путь" обычных
пользователей не включает каталогов "<code class="literal">/sbin</code>" и
"<code class="literal">/usr/sbin</code>" (где находятся программы для
администрирования системы). Например, команда <code class="literal">ifconfig</code>(8)
должна вводиться с полным путём "<code class="literal">/sbin/ifconfig</code>". (В то
же время похожая команда <code class="literal">ip</code>(8) лежит в
"<code class="literal">/bin</code>").</p>
<p>Пользователь может изменить значение переменной "<code class="literal">$PATH</code>" в
своих "<code class="literal">~/.bash_profile</code>" или
"<code class="literal">~/.bashrc</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_literal_home_literal_variable"></a>1.5.4. Переменная "<code class="literal">$HOME</code>"</h3></div></div></div>
<p>Многие команды сохраняют (и ищут) свои настройки в домашнем каталоге
пользователя, определяемым переменной "<code class="literal">$HOME</code>".</p>
<div class="table">
<a name="listofhomevalues"></a><p class="title"><b>Таблица 1.19. Список значений переменной "$HOME"</b></p>
<div class="table-contents"><table summary='Список значений переменной "$HOME"' border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    значение "<code class="literal">$HOME</code>"
    </th>
<th align="left">
    выполняемая в этом окружении команда
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/</code>
                </td>
<td align="left">
    программа, запущенная процессом init, демон
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/root</code>
                </td>
<td align="left">
    программа, выполняемая суперпользователем
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/home/&lt;пользователь&gt;</code>
                </td>
<td align="left">
    программа, выполняемая <code class="literal">&lt;пользователем&gt;</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/home/&lt;пользователь&gt;</code>
                </td>
<td align="left">
    программа, выполняемая в GUI пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/home/&lt;пользователь&gt;</code>
                </td>
<td align="left">
    программа, выполняемая пользователем от имени другого пользователя с помощью
"<code class="literal">sudo</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/root</code>
                </td>
<td align="left">
    программа, выполняемая пользователем от имени суперпользователя с помощью
"<code class="literal">sudo -H &lt;программа&gt;</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Командный интерпретатор понимает символ "<code class="literal">~</code>" как значение
переменной "<code class="literal">$HOME</code>" текущего пользователя, это очень
сокращает длину команд и время их набора. Например, "<code class="literal">cd
~</code>" означает то же, что и "<code class="literal">cd $HOME</code>" или
"<code class="literal">cd /home/&lt;текущий_пользователь&gt;</code>", а
"<code class="literal">~foo/</code>" означает домашний каталог пользователя foo в
каталоге "<code class="literal">/home</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_command_line_options"></a>1.5.5. Параметры командной строки</h3></div></div></div>
<p>Поведение команды, как правило, настраивается при её запуске с помощью
параметров командной строки. После имени команды все последовательности
символов, начинающиеся с "<code class="literal">-</code>" или "<code class="literal">--</code>"
называются аргументами (option, опция, параметр) и изменяют поведение
команды.</p>
<pre class="screen">$ date
Mon Oct 27 23:02:09 CET 2003
$ date -R
Mon, 27 Oct 2003 23:02:40 +0100</pre>
<p>В данном случае команда <code class="literal">date</code>(1) выводит дату в формате,
определённом <a class="ulink" href="http://tools.ietf.org/html/rfc2822" target="_top">RFC2822</a>, поскольку запущена с
аргументом "<code class="literal">-R</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_shell_glob"></a>1.5.6. Шаблоны для имён файлов: shell glob</h3></div></div></div>
<p>Часто хочется, чтобы команда работала с группой файлов без того, чтобы
вводить имена всех файлов. Это возможно с помощью шаблонов. В шаблонах
используются возможности регулярных выражений, которые задают правила
которым должен соответствовать искомый текст.</p>
<div class="table">
<a name="shellglobpatterns"></a><p class="title"><b>Таблица 1.20. Шаблоны для имён файлов</b></p>
<div class="table-contents"><table summary="Шаблоны для имён файлов" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    шаблон shell
    </th>
<th align="left">
    описание шаблона
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">*</code>
                </td>
<td align="left">
    имя или часть имени файла, не начинающееся с "<code class="literal">.</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">.*</code>
                </td>
<td align="left">
    имя или часть имени файла, начинающееся с "<code class="literal">.</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">?</code>
                </td>
<td align="left">
    один любой символ
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">[…]</code>
                </td>
<td align="left">
    один любой символ из перечисленных в квадратных скобках
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">[a-z]</code>
                </td>
<td align="left">
    один из символов английского алфавита в младшем регистре (любой символ от
"<code class="literal">a</code>" до "<code class="literal">z</code>")
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">[^…]</code>
                </td>
<td align="left">
    любой один символ, кроме перечисленных в квадратных скобках после символа
"<code class="literal">^</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Попробуйте для примера: </p>
<pre class="screen">$ mkdir junk; cd junk; touch 1.txt 2.txt 3.c 4.h .5.txt ..6.txt
$ echo *.txt
1.txt 2.txt
$ echo *
1.txt 2.txt 3.c 4.h
$ echo *.[hc]
3.c 4.h
$ echo .*
. .. .5.txt ..6.txt
$ echo .*[^.]*
.5.txt ..6.txt
$ echo [^1-3]*
4.h
$ cd ..; rm -rf junk</pre>
<p>См. <code class="literal">glob</code>(7).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В отличие от обычных шаблонов имён файлов оболочки, команда
<code class="literal">find</code>(1) с ключами типа "<code class="literal">-name</code>"
отбирает по шаблону "<code class="literal">*</code>" в том числе те файлы, имена
которых начинаются с "<code class="literal">.</code>". (Новое требование <a class="ulink" href="http://ru.wikipedia.org/wiki/POSIX" target="_top">POSIX</a>.)</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Есть команды, заставляющие bash менять реакцию на разные
шаблоны. См. bash(1) на тему "<code class="literal">dotglob</code>",
"<code class="literal">noglob</code>", "<code class="literal">nocaseglob</code>",
"<code class="literal">nullglob</code>", "<code class="literal">extglob</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_return_value_of_the_command"></a>1.5.7. Возвращаемое командой значение</h3></div></div></div>
<p>После завершения команда оставляет информацию о результате своих действий,
их успешности или возникших ошибках. Это делается с помощью широко
распространённого механизма "возвращаемого значения". В среде, из которой
запускается команда, можно отследить это значение и узнать подробности о
выполненных действиях. Команда может возвращать число или логическое
значение (истина-ложь, true-false). Возвращаемое значение помещается в
переменную "<code class="literal">$?</code>".</p>
<div class="table">
<a name="commandexitcodes"></a><p class="title"><b>Таблица 1.21. Возвращаемые значения команд</b></p>
<div class="table-contents"><table summary="Возвращаемые значения команд" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    результат выполнения
    </th>
<th align="left">
    числовое значение
    </th>
<th align="left">
    логическое значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    успешное выполнение
    </td>
<td align="left">
    ноль, 0
    </td>
<td align="left">
                  <span class="strong"><strong>TRUE</strong></span>
                </td>
</tr>
<tr>
<td align="left">
    ошибка
    </td>
<td align="left">
    не ноль, -1
    </td>
<td align="left">
                  <span class="strong"><strong>FALSE</strong></span>
                </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Например, попробуйте следующее.</p>
<pre class="screen">$ [ 1 = 1 ] ; echo $?
0
$ [ 1 = 2 ] ; echo $?
1</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Учтите, что в логическом контексте bash, <span class="strong"><strong>успех</strong></span> трактуется как логическое <span class="strong"><strong>TRUE</strong></span>, а это логическое TRUE имеет числовое
представление 0. (Более внятным может показаться 0 == FALSE, 1 == TRUE, но в
случае с bash это не так.)</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_typical_command_sequences_and_shell_redirection"></a>1.5.8. Типичные последовательности команд и перенаправлений ввода-вывода</h3></div></div></div>
<p>Попробуем составить краткий словарик идиом, которые можно вводить одной
строчкой как часть команды.</p>
<div class="table">
<a name="shellcommandidioms"></a><p class="title"><b>Таблица 1.22. Идиомы shell</b></p>
<div class="table-contents"><table summary="Идиомы shell" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    идиома shell
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">команда &amp;</code>
                </td>
<td align="left">выполнить <code class="literal">команду</code> в <span class="strong"><strong>фоновом</strong></span> режиме в отдельном shell
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда1</code> | <code class="literal">команда2</code>
                </td>
<td align="left">
<span class="strong"><strong>перенаправить</strong></span> (pipe) стандартный вывод
<code class="literal">команды1</code> на стандартный вход <code class="literal">команды2</code>
(<span class="strong"><strong>совместное</strong></span> выполнение)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда1 2&gt;&amp;1 | команда2</code>
                </td>
<td align="left">
<span class="strong"><strong>перенаправить</strong></span> и стандартный вывод, и
ошибки выполнения <code class="literal">команды1</code> на стандартный вход
<code class="literal">команды2</code> (<code class="literal">совместное</code> выполнение)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда1 ; команда2</code> 
                </td>
<td align="left">
    <span class="strong"><strong>последовательно</strong></span> выполнить
<code class="literal">команду1</code> и <code class="literal">команду2</code> 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда1 &amp;&amp; команда2</code>
                </td>
<td align="left">
    выполнить <code class="literal">команду1</code>; если нет ошибки, <span class="strong"><strong>последовательно</strong></span> выполнить
<code class="literal">команду2</code> (конструкция возвращает TRUE, если
<code class="literal">команда1</code> <span class="strong"><strong>И</strong></span>
<code class="literal">команда2</code> выполнены успешно) (<span class="strong"><strong>логическое "И"</strong></span>) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда1 || команда2</code>
                </td>
<td align="left">
    выполнить <code class="literal">команду1</code>; если есть ошибка, выполнить
<code class="literal">команду2</code> (возвращает TRUE, если
<code class="literal">команда1</code> <span class="strong"><strong>ИЛИ</strong></span>
<code class="literal">команда2</code> выполнена успешно) (<span class="strong"><strong>логическое исключающее или XOR</strong></span>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда &gt; имя_файла</code> 
                </td>
<td align="left">
    записать стандартный вывод <code class="literal">команды</code> в файл
<code class="literal">имя_файла</code>; (файл перезаписывается) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда 2&gt; имя_файла</code> 
                </td>
<td align="left">
    записать вывод ошибок <code class="literal">команды</code> в файл
<code class="literal">имя_файла</code>; (файл перезаписывается) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда &gt;&gt; имя_файла</code> 
                </td>
<td align="left">
    направить стандартный вывод <code class="literal">команды</code> в файл, добавив вывод
к концу файла 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда 2&gt;&gt; файл</code> 
                </td>
<td align="left">
    направить сообщения об ошибках <code class="literal">команды</code> в файл (добавить к
концу файла) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда &gt; файл 2&gt;&amp;1</code>
                </td>
<td align="left">
    направить стандартный вывод и сообщения об ошибках команды в файл 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда &lt; файл</code>
                </td>
<td align="left">
    подключить стандартный ввод команды к файлу 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда &lt;&lt; ограничитель</code>
                </td>
<td align="left">
    подключить стандартный ввод команды к следующим ниже строчкам, пока не
встретится ограничитель 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">команда &lt;&lt;- ограничитель</code>
                </td>
<td align="left">
    подключить стандартный ввод <code class="literal">команды</code> к следующим ниже
строчкам, пока не встретится "<code class="literal">ограничитель</code>", символ
табуляции в начале строк вырезается, см. "Here Documents" в
<code class="literal">bash</code>(1)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Debian -- многозадачная система. Выполнение в фоновом режиме позволяет
запускать много программ в одной командной оболочке. Выполнение фоновых
задач управляется встроенными командами bash: <code class="literal">jobs</code>,
<code class="literal">fg</code>, <code class="literal">bg</code> и <code class="literal">kill</code>. Они
описаны в <code class="literal">bash</code>(1) в разделах "SIGNALS", "JOB CONTROL", и
в <code class="literal">builtins</code>(1). Также есть отдельные программы для этих
целей.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ &lt;/etc/motd pager</pre>
<pre class="screen">$ pager &lt;/etc/motd</pre>
<pre class="screen">$ pager /etc/motd</pre>
<pre class="screen">$ cat /etc/motd | pager</pre>
<p>Хотя эти четыре примера выводят на экран одинаковый текст, это делается
разными методами; в последнем примере используется программа
<code class="literal">cat</code> и бессмысленно потребляет ресурсы.</p>
<p>bash позволяет назначать дескрипторы файлов для ввода и вывода (вместо
стандартного ввода и вывода -- stdin и stdout с номерами 0 и 1),
перенаправлять в/из них, оперируя не с именами файлов, а с номерами
дескрипторов. Это делается с помощью встроенной команды
<code class="literal">exec</code>.</p>
<pre class="screen">$ echo Hello &gt;foo
$ exec 3&lt;foo 4&gt;bar  # открыть файлы
$ cat &lt;&amp;3 &gt;&amp;4       # направить стандартный ввод (stdin) в 3, стандартный вывод (stdout) в 4
$ exec 3&lt;&amp;- 4&gt;&amp;-    # закрыть файлы
$ cat bar
Hello</pre>
<p>Здесь "<code class="literal"><span class="emphasis"><em>n</em></span>&lt;&amp;-</code>" и
"<code class="literal"><span class="emphasis"><em>n</em></span>&gt;&amp;-</code>" закрывают файлы с
дескриптором "<code class="literal"><span class="emphasis"><em>n</em></span></code>".</p>
<p>Дескрипторы с номерами 0-2 предопределены и используются по умолчанию со
стандартными целями.</p>
<div class="table">
<a name="predefinedfiledescriptors"></a><p class="title"><b>Таблица 1.23. Предопределённые дескрипторы</b></p>
<div class="table-contents"><table summary="Предопределённые дескрипторы" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    устройство
    </th>
<th align="left">
    описание
    </th>
<th align="left">
    дескриптор 
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">stdin</code> 
                </td>
<td align="left">
    стандартный ввод
    </td>
<td align="left">
    0 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">stdout</code>
                </td>
<td align="left">
    стандартный вывод
    </td>
<td align="left">
    1 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">stderr</code>
                </td>
<td align="left">
    сообщения об ошибках
    </td>
<td align="left">
    2 
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_command_alias"></a>1.5.9. "Прозвища" для команд (alias)</h3></div></div></div>
<p>Команды, которые часто используются, можно привязать к какому-нибудь
короткому "прозвищу", чтобы не вводить каждый раз всю команду с нужными
параметрами. Это делается с помощью <code class="literal">alias</code>.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ alias la='ls -la'</pre>
<p>Теперь вы можете дать команду "<code class="literal">la</code>" и будет выполнено
"<code class="literal">ls -la</code>".</p>
<p>Команда <code class="literal">alias</code> без аргументов выводит список "прозвищ",
которые уже назначены и готовы к использованию. Команда alias описана в
<code class="literal">bash</code>(1) в разделе "SHELL BUILTIN COMMANDS".</p>
<pre class="screen">$ alias
...
alias la='ls -la'</pre>
<p>О том, что представляет из себя команда, можно точно узнать с помощью
<code class="literal">type</code> (См. <code class="literal">bash</code>(1), "SHELL BUILTIN
COMMANDS")..</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ type ls
ls is hashed (/bin/ls)
$ type la
la is aliased to ls -la
$ type echo
echo is a shell builtin
$ type file
file is /usr/bin/file</pre>
<p>В данном случае команда "<code class="literal">ls</code>" использовалась недавно, а
команда "<code class="literal">file</code>" не использовалась, поэтому про
"<code class="literal">ls</code>" сказано "hashed". Чтобы не искать нужную программу
каждый раз, bash сохраняет информацию о недавно использованных командах.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>См. <a class="xref" href="#_colorized_commands" title="9.2.7. Подсветка вывода команд">Раздел 9.2.7, «Подсветка вывода команд»</a></p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_unix_like_text_processing"></a>1.6. Работа с текстом в стиле Unix</h2></div></div></div>
<p>В Unix-подобном окружении работа с текстом делается с помощью его
"проведения" через цепочку обрабатывающих команд. Когда-то это стало
прорывом, достижением Unix-систем.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_unix_text_tools"></a>1.6.1. Обзор средств редактирования</h3></div></div></div>
<p>Есть несколько стандартных программ для обработки текста, которые очень
часто встречаются в Unix-подобных системах.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
Без использования регулярных выражений:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
<code class="literal">cat</code>(1) соединяет файлы и выводит итог
</li>
<li>
<code class="literal">tac</code>(1) соединяет файлы и выводит итог в обратном порядке
</li>
<li>
<code class="literal">cut</code>(1) "вырезает" части строк
</li>
<li>
<code class="literal">head</code>(1) выводит заданное количество строк с начала файла
</li>
<li>
<code class="literal">tail</code>(1) выводит заданное количество строк в конце файла.
</li>
<li>
<code class="literal">sort</code>(1) построчная сортировка по разным параметрам
</li>
<li>
<code class="literal">uniq</code>(1) удаляет одинаковые строчки из файла
</li>
<li>
<code class="literal">tr</code>(1) изменяет или удаляет заданные символы
</li>
<li>
<code class="literal">diff</code>(1) показывает различия между файлами построчно
</li>
</ul></div>
</li>
<li>
<p>
С использованием базовых регулярных выражений (BRE):
</p>
<div class="itemizedlist"><ul type="circle">
<li>
<code class="literal">grep</code>(1) ищет заданный шаблон
</li>
<li>
<code class="literal">ed</code>(1) -- простейший построчный редактор
</li>
<li>
<code class="literal">sed</code>(1) -- потоковый редактор
</li>
<li>
<code class="literal">vim</code>(1) -- экранный редактор
</li>
<li>
<code class="literal">emacs</code>(1) -- экранный редактор
</li>
</ul></div>
</li>
<li>
<p>
С расширенными регулярными выражениями (ERE):
</p>
<div class="itemizedlist"><ul type="circle">
<li>
<code class="literal">egrep</code>(1) ищет заданный шаблон.
</li>
<li>
<code class="literal">awk</code>(1) -- простой текстовый процессор.
</li>
<li>
<code class="literal">tcl</code>(3tcl) может выполнять любую мыслимую обработку текста
<code class="literal">re_syntax</code>(3). Часто используется вместе с
<code class="literal">tk</code>(3tk).
</li>
<li>
<code class="literal">perl</code>(1) может выполнять любую обработку
текста. <code class="literal">perlre</code>(1).
</li>
<li>
<code class="literal">pcregrep</code>(1) из пакета pcregrep использует Совместимые
Регулярные Выражения Perl (Perl Compatible Regular Expressions -- PCRE) для
целей поиска текста.
</li>
<li>
<code class="literal">python</code>(1) с модулем "<code class="literal">re</code>" может
выполнять любую обработку текста
см. "<code class="literal">/usr/share/doc/python/html/index.html</code>"
</li>
</ul></div>
</li>
</ul></div>
<p>Если осталось неясным, что же делают эти команды, используйте пожалуйста
систему <code class="literal">man</code>, чтобы разобраться с этим самостоятельно.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Порядок сортировки и диапазоны выражений зависят от локализации. Если
требуется соответствие традиционному поведению команды, используйте локаль
"<span class="strong"><strong>C</strong></span>" вместо "<span class="strong"><strong>UTF-8</strong></span>", установив перед командой
"<code class="literal">LANG=C</code>" (См. <a class="xref" href="#_literal_lang_literal_variable" title='1.5.2. Переменная "$LANG"'>Раздел 1.5.2, «Переменная "<code class="literal">$LANG</code>"»</a> и <a class="xref" href="#_the_locale" title="8.3. Локаль">Раздел 8.3, «Локаль»</a>).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Регулярные выражения <a class="ulink" href="http://ru.wikipedia.org/wiki/Perl" target="_top">Perl</a>
(<code class="literal">perlre</code>(1)) -- <a class="ulink" href="http://ru.wikipedia.org/wiki/PCRE" target="_top">PCRE</a>, и <a class="ulink" href="http://ru.wikipedia.org/wiki/Python" target="_top">Python</a> работают на модуле "<code class="literal">re</code>", в
котором расширены возможности <span class="strong"><strong>ERE</strong></span>
(Extended Regular Expressions).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_regular_expressions"></a>1.6.2. Регулярные выражения</h3></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F" target="_top">Регулярные выражения</a> используются
во многих средствах обработки текста. Они похожи на шаблоны в shell, только
сложней и дают больше возможностей автоматизации обработки текстов.</p>
<p>Регулярное выражение можно представить как шаблон (matching pattern), в
котором описано, как должен выглядеть текст, который должен соответствовать
этому шаблону. Шаблон состоит из текстовых символов и <span class="strong"><strong>мета-символов</strong></span>.</p>
<p><span class="strong"><strong>Мета-символ</strong></span> -- это просто символ со
специальным значением. Есть два основных стиля, <span class="strong"><strong>BRE</strong></span> и <span class="strong"><strong>ERE</strong></span>,
которые используются разными вышеупомянутыми программами.</p>
<div class="table">
<a name="metacharactersforbreandere"></a><p class="title"><b>Таблица 1.24. Мета-символы в BRE и ERE</b></p>
<div class="table-contents"><table summary="Мета-символы в BRE и ERE" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    BRE
    </th>
<th align="left">
    ERE
    </th>
<th align="left">
    описание регулярного выражения
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal"> \ . [ ] ^ $ * </code>
                </td>
<td align="left">
                  <code class="literal"> \ . [ ] ^ $ * </code>
                </td>
<td align="left">
    общие <span class="strong"><strong>мета-символы</strong></span> 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> \+ \? \( \) \{ \} \| </code>
                </td>
<td align="left">
     
    </td>
<td align="left">
    <span class="strong"><strong>мета-символы</strong></span>, специальное значение
которых выключается символом "<code class="literal">\</code>" (только для BRE)
    </td>
</tr>
<tr>
<td align="left">
     
    </td>
<td align="left">
                  <code class="literal">+ ? ( ) { } |</code>
                </td>
<td align="left">
    <span class="strong"><strong>мета-символы</strong></span>, специальное значение
которых НЕ выключается символом "<code class="literal">\</code>" (только для ERE)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">c</code>
                </td>
<td align="left">
                  <code class="literal">c</code>
                </td>
<td align="left">
    соответствует <span class="strong"><strong>не-мета-символу</strong></span>
"<code class="literal">c</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">\c</code>
                </td>
<td align="left">
                  <code class="literal">\c</code>
                </td>
<td align="left">
    соответствует текстовому символу "<code class="literal">c</code>", даже если
"<code class="literal">c</code>" является <span class="strong"><strong>мета-символом</strong></span> (способ использовать мета-символ как
обычный символ)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">.</code>
                </td>
<td align="left">
                  <code class="literal">.</code>
                </td>
<td align="left">
    соответствует любому символу, включая перевод строки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^</code>
                </td>
<td align="left">
                  <code class="literal">^</code>
                </td>
<td align="left">
    соответствует началу строки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">$</code>
                </td>
<td align="left">
                  <code class="literal">$</code>
                </td>
<td align="left">
    соответствует концу строки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">\&lt;</code>
                </td>
<td align="left">
                  <code class="literal">\&lt;</code>
                </td>
<td align="left">
    позиция в начале слова
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">\&gt;</code>
                </td>
<td align="left">
                  <code class="literal">\&gt;</code>
                </td>
<td align="left">
    позиция в конце слова
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">\[abc…\]</code>
                </td>
<td align="left">
                  <code class="literal">[abc…]</code>
                </td>
<td align="left">
    любой из символов в квадратных скобках
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">\[^abc…\]</code>
                </td>
<td align="left">
                  <code class="literal">[^abc…]</code>
                </td>
<td align="left">
    любой символ, кроме тех, что в скобках после символа "<code class="literal">^</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">r*</code>
                </td>
<td align="left">
                  <code class="literal">r*</code>
                </td>
<td align="left">
    ноль или больше символов "<code class="literal">r</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">r\+</code>
                </td>
<td align="left">
                  <code class="literal">r+</code>
                </td>
<td align="left">
    один или больше символов "<code class="literal">r</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">r\?</code>
                </td>
<td align="left">
                  <code class="literal">r?</code>
                </td>
<td align="left">
    ноль или один символ "<code class="literal">r</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">r1\|r2</code>
                </td>
<td align="left">
                  <code class="literal">r1|r2</code>
                </td>
<td align="left">
    одно из двух: либо выражение "<code class="literal">r1</code>", либо выражение
"<code class="literal">r2</code>" 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">\(r1\|r2\)</code>
                </td>
<td align="left">
                  <code class="literal">(r1|r2)</code>
                </td>
<td align="left">
    также одно из двух, но оно может быть использовано в другой части выражения
(<span class="strong"><strong>bracketed</strong></span> regular expression)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>В <span class="strong"><strong><code class="literal">Emacs</code></strong></span> поддерживаются
Базовые Регулярные Выражения (<span class="strong"><strong>BRE</strong></span>), но
они были немного расширены, так что "<code class="literal">+</code>" и
"<code class="literal">?</code>" в роли <span class="strong"><strong>мета-символов</strong></span> работают так, как в Расширенных
Регулярных Выражениях (<span class="strong"><strong>ERE</strong></span>). Соответственно, в Emacs нет необходимости
ставить перед ними "<code class="literal">\</code>".</p>
<p><code class="literal">grep</code>(1) может использоваться для поиска текста по
регулярным выражениям.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ egrep 'GNU.*LICENSE|Yoyodyne' /usr/share/common-licenses/GPL
GNU GENERAL PUBLIC LICENSE
GNU GENERAL PUBLIC LICENSE
Yoyodyne, Inc., hereby disclaims all copyright interest in the program</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>См. <a class="xref" href="#_colorized_commands" title="9.2.7. Подсветка вывода команд">Раздел 9.2.7, «Подсветка вывода команд»</a></p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_replacement_expressions"></a>1.6.3. Выражения замены</h3></div></div></div>
<p>Команда для замены текста состоит из двух основных частей: одна часть
(REGEXP) будет искаться в тексте, а другая (REPLACEMENT) описывать правила,
по которым найденное нужно изменить. Эти последние правила могут содержать в
себе ссылки на найденный, но ещё не заменённый текст. Эти ссылки будут
вставлять найденный кусочек текста в заменяющую его строчку, так что этот
найденный (в результате работы первой части команды) кусочек сохранится в
результате, но текст вокруг него изменится.</p>
<div class="table">
<a name="thereplacementexpression"></a><p class="title"><b>Таблица 1.25. Специальные символы в заменяющих выражениях</b></p>
<div class="table-contents"><table summary="Специальные символы в заменяющих выражениях" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    заменяющее выражение
    </th>
<th align="left">
    текст, который нужно взять из найденного и вставить в результат
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">&amp;</code>
                </td>
<td align="left">
    вставить вместо этого символа весь найденный кусочек строки (в
<code class="literal">emacs</code>: <code class="literal">\&amp;</code>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">\n</code>
                </td>
<td align="left">
    вставить один из кусочков, который описан выражением, взятым в <span class="strong"><strong>квадратные</strong></span> скобки, при этом "n" -- это номер
выражения; первые скобки -- нулевой номер и так далее
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>В регулярных выражениях Perl используется "<code class="literal">$n</code>" вместо
"<code class="literal">\n</code>" и "<code class="literal">&amp;</code>" не имеет специального
значения.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ echo zzz1abc2efg3hij4 | \\
sed -e 's/\\(1[a-z]*\\)[0-9]*\\(.*\\)$/=&amp;=/'
zzz=1abc2efg3hij4=
$ echo zzz1abc2efg3hij4 | \\
sed -e 's/\\(1[a-z]*\\)[0-9]*\\(.*\\)$/\\2===\\1/'
zzzefg3hij4===1abc
$ echo zzz1abc2efg3hij4 | \\
perl -pe 's/(1[a-z]*)[0-9]*(.*)$/$2===$1/'
zzzefg3hij4===1abc
$ echo zzz1abc2efg3hij4 | \\
perl -pe 's/(1[a-z]*)[0-9]*(.*)$/=&amp;=/'
zzz=&amp;=</pre>
<p>Здесь обратите особое внимание на стиль выражений, взятых в квадратные
скобки и использование найденных подстрок в выражениях замены.</p>
<p>Такие регулярные выражения могут быть использованы в командах перемещения
курсора и действиях замены в некоторых текстовых редакторах.</p>
<p>Символ "<code class="literal">\</code>" в конце строки команды shell превращает символ
перевода строки в пробел после того, как команда будет отдана на
выполнение. Это повышает читабельность длинных команд, размещая их части на
разных строчках.</p>
<p>Для понимания приведённых примеров прочтите соответствующие man-страницы.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_global_substitution_with_regular_expressions"></a>1.6.4. Глобальные подстановки в регулярных выражениях</h3></div></div></div>
<p>Команда <code class="literal">ed</code>(1) может заменить все подстроки
"<code class="literal">FROM_REGEX</code>" на "<code class="literal">TO_TEXT</code>" в файле:</p>
<pre class="screen">$ ed file &lt;&lt;EOF
,s/FROM_REGEX/TO_TEXT/g
w
q
EOF</pre>
<p>С командой <code class="literal">sed</code>(1) можно сделать то же самое так:</p>
<pre class="screen">$ sed file 's/FROM_REGEX/TO_TEXT/g' | sponge file</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Команда <code class="literal">sponge</code>(8) не является стандартным средством Unix
и входит в пакет <code class="literal">moreutils</code>. Она очень полезна, когда
нужно перезаписать оригинальный файл.</p>
</div>
<p>Команда <code class="literal">vim</code>(1) тоже может заменить подстрочки
"<code class="literal">FROM_REGEX</code>" на "<code class="literal">TO_TEXT</code>" в файле с
использованием команд <code class="literal">ex</code>(1).</p>
<pre class="screen">$ vim '+%s/FROM_REGEX/TO_TEXT/gc' '+w' '+q' file</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Флаг "<code class="literal">c</code>" в последнем примере позволяет подтвердить или
отвергнуть каждую замену вручную налету.</p>
</div>
<p>Несколько файлов могут быть обработаны с регулярными выражениями так же
командой <code class="literal">vim</code>(1) или <code class="literal">perl</code>(1).</p>
<pre class="screen">$ vim '+argdo %s/FROM_REGEX/TO_TEXT/ge|update' '+q' file1 file2 file3</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Флаг "<code class="literal">e</code>" в последнем примере отменяет срочное завершение
в случае отсутствия выражения "<code class="literal">FROM_REGEX</code>" в каком-то
файле.</p>
</div>
<pre class="screen">$ perl -i -p -e 's/FROM_REGEX/TO_TEXT/g;' file1 file2 file3</pre>
<p>В примере с <code class="literal">perl</code>(1) аргумент "<code class="literal">-i</code>"
нужен для редактирования внутри файла (а не его распечатки), а
"<code class="literal">-p</code>" для безусловной обработки всех файлов.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Используйте аргумент "<code class="literal">-i.bak</code>" вместо
"<code class="literal">-i</code>" -- это сохранит оригинальный файл неприкосновенным,
тогда как изменённая версия будет сохранена с окончанием
"<code class="literal">.bak</code>". Это предохранит от порчи данных в случае ошибок в
команде.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><code class="literal">ed</code>(1) и <code class="literal">vim</code>(1) -- <span class="strong"><strong>BRE</strong></span>; <code class="literal">perl</code>(1) -- <span class="strong"><strong>ERE</strong></span>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_extracting_data_from_text_file_table"></a>1.6.5. Извлечение данных из текстовых таблиц</h3></div></div></div>
<p>Давайте возьмём текстовый файл с именем "<code class="literal">DPL</code>", в котором
перечислены некоторые руководители проекта Debian и даты их вступления в эту
должность. Пусть файл будет иметь такой формат:</p>
<pre class="screen">Ian     Murdock   August  1993
Bruce   Perens    April   1996
Ian     Jackson   January 1998
Wichert Akkerman  January 1999
Ben     Collins   April   2001
Bdale   Garbee    April   2002
Martin  Michlmayr March   2003</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>В "<a class="ulink" href="http://www.debian.org/doc/manuals/project-history/" target="_top">истории проекта Debian</a>
перечислены <a class="ulink" href="http://www.debian.org/doc/manuals/project-history/ch-leaders" target="_top">лидеры проекта</a> до
сегодняшнего дня.</p>
</div>
<p><code class="literal">awk</code>(1) часто используется для извлечения данных из файлов
такого типа.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ awk '{ print $3 }' &lt;DPL                   # первые месяцы
August
April
January
January
April
April
March
$ awk '($1=="Ian") { print }' &lt;DPL          # DPL по имени Ian
Ian     Murdock   August  1993
Ian     Jackson   January 1998
$ awk '($2=="Perens") { print $3,$4 }' &lt;DPL # Первый месяц Perens'а
April 1996</pre>
<p><code class="literal">bash</code>(1) тоже может использоваться для разбора такого типа
файлов.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ while read first last month year; do
    echo $month
  done &lt;DPL
... тот же вывод, что и в предыдущем примере на Awk</pre>
<p>Здесь <code class="literal">read</code> -- встроенная команда bash, использует символы
из переменной "<code class="literal">$IFS</code>" (Internal Field Separator --
разделитель полей), чтобы разбить строки на слова.</p>
<p>Если вы поменяете значение "<code class="literal">$IFS</code>" на
"<code class="literal">:</code>", то сможете легко разбирать поля файла
"<code class="literal">/etc/passwd</code>" с помощью bash.</p>
<pre class="screen">$ oldIFS="$IFS"   # сохраняем начальное значение
$ IFS=':'
$ while read user password uid gid rest_of_line; do
    if [ "$user" = "bozo" ]; then
      echo "$user's ID is $uid"
    fi
  done &lt; /etc/passwd
bozo's ID is 1000
$ IFS="$oldIFS"   # восстанавливаем начальное значение</pre>
<p>(Если для этой задачи использовать Awk, то разделитель полей устанавливается
добавлением "<code class="literal">FS=':'</code>").</p>
<p>IFS также используется командным интерпретатором чтобы разделять результаты
расширения параметров (parameter expansion), замены команд (command
substitution), и для арифметических операций. These do not occur within
double or single quoted words. По умолчанию IFS состоит из &lt;space&gt;
&lt;tab&gt; и &lt;newline&gt; (знаки пробела, табуляции и перевода строки).</p>
<p>Будьте осторожны в трюках с IFS, ибо могут случаться всякие странные вещи,
когда командный интерпретатор начинает воспринимать части скрипта как свой
<span class="strong"><strong>ввод</strong></span>.</p>
<pre class="screen">$ IFS=":,"                        # IFS будет ":" и ","
$ echo IFS=$IFS,   IFS="$IFS"     # echo это встроенная команда Bash
IFS=  , IFS=:,
$ date -R                         # обычный вывод команды
Sat, 23 Aug 2003 08:30:15 +0200
$ echo $(date -R)                 # вывод команды -- это ввод оболочки
Sat  23 Aug 2003 08 30 36 +0200
$ unset IFS                       # установить IFS в значение по умолчанию
$ echo $(date -R)
Sat, 23 Aug 2003 08:30:50 +0200</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_script_snippets_for_piping_commands"></a>1.6.6. Обрывки сценариев для цепочек команд</h3></div></div></div>
<p>Такие команды бывают очень удобны как часть цепочки команд.</p>
<div class="table">
<a name="listofscriptsniporpipingcommands"></a><p class="title"><b>Таблица 1.26. Приёмы перенаправления команд</b></p>
<div class="table-contents"><table summary="Приёмы перенаправления команд" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    отрывок сценария (пишите в одну строку)
    </th>
<th align="left">
    действие команды
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">find /usr -print</code>
                </td>
<td align="left">
    найти все файлы в каталоге "<code class="literal">/usr</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">seq 1 100</code>
                </td>
<td align="left">
    напечатать числа от 1 до 100
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| xargs -n 1 &lt;команда&gt;</code>
                </td>
<td align="left">
    последовательно запустить команду с каждым аргументом в виде строки
полученной из вывода предыдущей команды
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| xargs -n 1 echo</code>
                </td>
<td align="left">
    разбить разделённые пробелами аргументы на строчки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| xargs echo</code>
                </td>
<td align="left">
    слить все строчки в одну
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| grep -e &lt;regex_pattern&gt;</code>
                </td>
<td align="left">
    выбрать из вывода предыдущей команды &lt;regex_pattern&gt;
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| grep -v -e &lt;regex_pattern&gt;</code>
                </td>
<td align="left">
    выбрать из вывода предыдущей команды строчки без &lt;regex_pattern&gt;
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| cut -d: -f3 -</code>
                </td>
<td align="left">
    извлечь третье поле из вывода, где поля разделяются "<code class="literal">:</code>"
(например файл passwd) 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| awk '{ print $3 }'</code>
                </td>
<td align="left">
    извлечь третье поле из вывода, где поля разделены пробелами 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| awk -F'\t' '{ print $3 }'</code>
                </td>
<td align="left">
    извлечь третье поле из выводе, где поля разделены символом &lt;tab&gt;
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| col -bx</code>
                </td>
<td align="left">
    удалить обратные пробелы и превратить знаки табуляции в пробелы
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| expand -</code>
                </td>
<td align="left">
    преобразовать символы табуляции в пробелы
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| sort| uniq</code>
                </td>
<td align="left">
    сортировать и удалить дубликаты
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| tr 'A-Z' 'a-z'</code>
                </td>
<td align="left">
    изменить регистр букв на младший
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| tr -d '\n'</code>
                </td>
<td align="left">
    соединить строчки в одну
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| tr -d '\r'</code>
                </td>
<td align="left">
    удалить символы CR
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| sed 's/^/# /'</code>
                </td>
<td align="left">
    добавить "<code class="literal">#</code>" к началу каждой строки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| sed 's/\.ext//g'</code>
                </td>
<td align="left">
    удалить "<code class="literal">.ext</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| sed -n -e 2p</code>
                </td>
<td align="left">
    вывести вторую строчку
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| head -n 2 -</code>
                </td>
<td align="left">
    вывести первые 2 строчки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">| tail -n 2 -</code>
                </td>
<td align="left">
    вывести последние 2 строчки
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Скрипт из одной строчки может "пройтись" по множеству файлов, используя
команды <code class="literal">find</code>(1) и <code class="literal">xargs</code>(1), и
выполнить весьма сложные задачи. См. <a class="xref" href="#_idioms_for_the_selection_of_files" title="10.1.5. Идиомы для отбора файлов">Раздел 10.1.5, «Идиомы для отбора файлов»</a> и <a class="xref" href="#_repeating_a_command_looping_over_files" title="9.5.9. Выполнение одной команды для многих файлов">Раздел 9.5.9, «Выполнение одной команды для многих файлов»</a>.</p>
<p>Когда становится сложно дать команду в одну строчку, можно создать
сценарий. См. <a class="xref" href="#_the_shell_script" title="12.1. Сценарий оболочки">Раздел 12.1, «Сценарий оболочки»</a>.</p>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_debian_package_management"></a>Глава 2. Управление пакетами в Debian</h2></div></div></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Приводимая здесь информация относится в первую очередь к последнему
стабильному релизу Debian: <code class="literal">squeeze</code>.</p>
</div>
<p>Debian как организация состоит из волонтёров, которые создают
последовательные выпуски скомпилированных пакетов свободного ПО и
распространяют их из своего архива.</p>
<p><a class="ulink" href="http://ftp.us.debian.org/debian/" target="_top">Архивы Debian</a> доступны через <a class="ulink" href="http://www.debian.org/mirror/" target="_top">многие зеркалирующие сайты</a> с доступом
по HTTP и FTP. Они также доступны на <a class="ulink" href="http://www.debian.org/CD/" target="_top">CD-ROM/DVD</a>.</p>
<p>Система пакетов Debian при <span class="strong"><strong>правильном
использовании</strong></span> позволяет устанавливать в систему наборы <span class="strong"><strong>совместимых между собой двоичных пакетов</strong></span> из
архивов. На данный момент для платформы amd64 доступны 30134
пакетов.</p>
<p>Система управления пакетами Debian имеет богатую историю;есть большой выбор
пользовательских программ и интерфейсов, с различными методами доступа к
архивам. Сейчас мы рекомендуем следующее:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">apt-get</code>(8) для всех операций в командой строке, включая
установку, удаление пакетов и обновление системы.
</li>
<li>
<code class="literal">aptitude</code>(8) для интерактивного управления установленными
пакетами и для поиска доступных пакетов в через текстовый интерфейс
</li>
<li>
<code class="literal">update-manager</code>(8) для обновления системы, если вы
пользуетесь окружением GNOME.
</li>
</ul></div>
<div class="table">
<a name="listofdebianpackemanagementtools"></a><p class="title"><b>Таблица 2.1. Список программ для управления пакетами Debian</b></p>
<div class="table-contents"><table summary="Список программ для управления пакетами Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt" target="_top"> <code class="literal">apt</code>
</a> <a class="ulink" href="http://bugs.debian.org/apt" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt" target="_top">V:90, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt.html" target="_top">5508</a></td>
<td align="left">
    интерфейс к <code class="literal">dpkg</code>; поддерживает методы доступа к архивам:
"<code class="literal">http</code>", "<code class="literal">ftp</code>",
<code class="literal">file</code>"; команды: <code class="literal">apt-get</code>,
<code class="literal">apt-cache</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/aptitude" target="_top">
<code class="literal">aptitude</code> </a> <a class="ulink" href="http://bugs.debian.org/aptitude" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=aptitude" target="_top">V:26, I:98</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/aptitude.html" target="_top">11916</a></td>
<td align="left">
    интерактивная терминальная программа <code class="literal">aptitude</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/update-manager-gnome" target="_top">
<code class="literal">update-manager-gnome</code> </a> <a class="ulink" href="http://bugs.debian.org/update-manager-gnome" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=update-manager-gnome" target="_top">V:5, I:8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/update-manager-gnome.html" target="_top">1221</a></td>
<td align="left">
    приложение GNOME для управления обновлениями:
<code class="literal">update-manager</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tasksel" target="_top">
<code class="literal">tasksel</code> </a> <a class="ulink" href="http://bugs.debian.org/tasksel" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tasksel" target="_top">V:6, I:93</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tasksel.html" target="_top">904</a></td>
<td align="left">
    средство формирования набора пакетов на основе ожидаемых задач (интерфейс к
APT)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/unattended-upgrades" target="_top">
<code class="literal">unattended-upgrades</code> </a> <a class="ulink" href="http://bugs.debian.org/unattended-upgrades" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=unattended-upgrades" target="_top">V:4, I:30</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/unattended-upgrades.html" target="_top">280</a></td>
<td align="left">
    автоматическая установка обновлений, связанных с безопасностью
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dselect" target="_top">
<code class="literal">dselect</code> </a> <a class="ulink" href="http://bugs.debian.org/dselect" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dselect" target="_top">V:2, I:32</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dselect.html" target="_top">2388</a></td>
<td align="left">
    утилита управления пакетами Debian (до aptitude была стандартным интерфейсом
к APT и другим старым методам доступа)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dpkg" target="_top"> <code class="literal">dpkg</code>
</a> <a class="ulink" href="http://bugs.debian.org/dpkg" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dpkg" target="_top">V:92, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dpkg.html" target="_top">6544</a></td>
<td align="left">
    система управления пакетами Debian
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/synaptic" target="_top">
<code class="literal">synaptic</code> </a> <a class="ulink" href="http://bugs.debian.org/synaptic" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=synaptic" target="_top">V:14, I:41</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/synaptic.html" target="_top">5716</a></td>
<td align="left">
    графический менеджер пакетов (интерфейс к APT для GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt-utils" target="_top">
<code class="literal">apt-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/apt-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt-utils" target="_top">V:51, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt-utils.html" target="_top">512</a></td>
<td align="left">
    утилиты APT: <code class="literal">apt-extracttemplates</code>(1),
<code class="literal">apt-ftparchive</code>(1) и <code class="literal">apt-sortpkgs</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt-listchanges" target="_top">
<code class="literal">apt-listchanges</code> </a> <a class="ulink" href="http://bugs.debian.org/apt-listchanges" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt-listchanges" target="_top">V:10, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt-listchanges.html" target="_top">280</a></td>
<td align="left">
    средство просмотра изменений в пакете
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt-listbugs" target="_top">
<code class="literal">apt-listbugs</code> </a> <a class="ulink" href="http://bugs.debian.org/apt-listbugs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt-listbugs" target="_top">V:1.4, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt-listbugs.html" target="_top">508</a></td>
<td align="left">
    средство получения списка критических ошибок в пакете перед установкой с
помощью APT
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt-file" target="_top">
<code class="literal">apt-file</code> </a> <a class="ulink" href="http://bugs.debian.org/apt-file" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt-file" target="_top">V:2, I:9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt-file.html" target="_top">188</a></td>
<td align="left">
    средство поиска файлов по пакетам Debian
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt-rdepends" target="_top">
<code class="literal">apt-rdepends</code> </a> <a class="ulink" href="http://bugs.debian.org/apt-rdepends" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt-rdepends" target="_top">V:0.14, I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt-rdepends.html" target="_top">92</a></td>
<td align="left">
    рекурсивный вывод списка зависимостей пакета
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_debian_package_management_prerequisites"></a>2.1. О системе пакетов Debian</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_package_configuration"></a>2.1.1. Конфигурация пакета</h3></div></div></div>
<p>Вот несколько основных свойств системы пакетов.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Настройки, сделанные администратором системы, приоритетны: система
конфигурации пакета не создаёт навязчивых настроек по соображениям удобства.
</li>
<li>
Каждый пакет содержит собственный сценарий конфигурации со
стандартизированным пользовательским интерфейсом
<code class="literal">debconf</code>(7), помогающий в первоначальной настройке пакета.
</li>
<li>
Разработчики Debian делают всё возможное для безупречного обновления.
</li>
<li>
Для системного администратора доступна полная функциональность ПО, входящего
в пакеты, хотя некоторые потенциально небезопасные возможности могут быть
выключены по умолчанию.
</li>
<li>
Если вы вручную включаете небезопасную службу, вы ответственны за свою
политику безопасности.
</li>
<li>
Необычные конфигурации могут быть созданы вручную системным
администратором. Это может создавать помехи популярным программам для помощи
в администрировании системы.
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basic_precautions"></a>2.1.2. Основные предостережения</h3></div></div></div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не устанавливайте пакетов из разнообразных случайных источников. Это
нарушает согласованность пакетов, настройка которой требует глубоких знаний
по управлению системой, связанных с <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B2%D0%BE%D0%B8%D1%87%D0%BD%D1%8B%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9" target="_top">ABI</a>
компилятора, версиями <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%91%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)" target="_top">библиотек</a>,
особенностями интерпретатора, и т.д.</p>
</div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9D%D0%BE%D0%B2%D0%B8%D1%87%D0%BE%D0%BA" target="_top">Начинающий</a> администратор Debian должен
ограничиться <span class="strong"><strong>стабильным</strong></span> выпуском Debian
для обновлений безопасности. Имеется в виду, что от некоторых действий лучше
отказаться, пока вы не изучите систему Debian достаточно хорошо.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Не включайте "<code class="literal">testing</code>" или "<code class="literal">unstable</code>"
в "<code class="literal">/etc/apt/sources.list</code>".
</li>
<li>
Не смешивайте источники пакетов Debian с источниками пакетов для других
дистрибутивов, например Ubuntu, в
"<code class="literal">/etc/apt/sources.list</code>".
</li>
<li>
Не создавайте "<code class="literal">/etc/apt/preferences</code>".
</li>
<li>
Не меняйте поведение по умолчанию для программ управления пакетами, если не
знаете, к чему это может привести.
</li>
<li>
Не устанавливайте случайные пакеты командой "<code class="literal">dpkg -i
&lt;пакет&gt;</code>"
</li>
<li>
Никогда не устанавливайте случайные пакеты командой "<code class="literal">dpkg
--force-all -i &lt;пакет&gt;</code>"
</li>
<li>
Не удаляйте и не меняйте системные файлы в
"<code class="literal">/var/lib/dpkg/</code>".
</li>
<li>
<p>
Не перезаписывайте системных файлов при установке ПО, скомпилированного вами
из исходных кодов.
</p>
<div class="itemizedlist"><ul type="circle"><li>
Устанавливайте его в "<code class="literal">/usr/local</code>" или в
"<code class="literal">/opt</code>".
</li></ul></div>
</li>
</ul></div>
<p>Перечисленные действия могут создать несовместимости между пакетами и
привести систему в нерабочее состояние.</p>
<p>Администратор критичных серверов с Debian должен применять особые меры
предосторожности.</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>
Не устанавливать никакие пакеты, (в том числе обновления безопасности) не
проверив их на похожей конфигурации, из осторожности.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
Вы как системный администратор ответственны за свою систему.
</li>
<li>
Долгая история стабильности Debian не гарантия сама по себе.
</li>
</ul></div>
</li></ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_life_with_eternal_upgrades"></a>2.1.3. Жизнь в вечных обновлениях</h3></div></div></div>
<p>Несмотря на эти предупреждения, я знаю, что многие читатели этого документа
используют тестируемые (<code class="literal">testing</code>) или нестабильные
(<code class="literal">unstable</code>) версии Debian в качестве своей <span class="strong"><strong>личной настольной системы</strong></span> (desktop). Они либо
хорошо знают систему, либо часто обновляют её и пробуют новые возможности.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Для вашего <span class="strong"><strong>производственного сервера</strong></span>
рекомендуется использовать стабильный (<code class="literal">stable</code>) выпуск
системы с обновлениями безопасности. То же самое можно сказать про
настольные ПК, к которому вы можете прилагать минимальные усилия по
управлению, например, компьютер вашей матушки.</p>
</div>
<p>Достаточно изменить строчку "<code class="literal">deb</code>" в
"<code class="literal">/etc/apt/sources.list</code>", чтобы она указывала на архив со
статусом "<code class="literal">testing</code>" или "<code class="literal">unstable</code>"
(либо с кодовым именем "<code class="literal">wheezy</code>" или
"<code class="literal">sid</code>"), и вот вы уже живёте <span class="strong"><strong>жизнью постоянных обновлений</strong></span>.</p>
<p>Использование <code class="literal">testing</code> или <code class="literal">unstable</code>
<span class="strong"><strong>интересно</strong></span>, но рискованно. Даже несмотря
на то, что система <code class="literal">unstable</code> выглядит обычно очень
стабильно, бывают проблемы с некоторыми пакетами, и некоторые из них совсем
не просто решить. Это может причинить вам <span class="strong"><strong>большие
неудобства</strong></span>. Пакет, которым вы пользуетесь, может оказаться в
нерабочем состоянии. Требуемая функциональность может отсутствовать
неделями.</p>
<p>Есть несколько соображений, как можно попробовать обезопасить себя от ошибок
в пакетах Debian.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Настроить систему с <span class="strong"><strong>двойной загрузкой</strong></span>
(dual booting) и использовать <code class="literal">стабильный</code> выпуск Debian,
установленный на отдельном разделе диска.
</li>
<li>
Иметь под руками установочный диск на случай <span class="strong"><strong>аварийного</strong></span> запуска.
</li>
<li>
Подумать об установке <code class="literal">apt-listbugs</code> для проверки
информации из <a class="ulink" href="http://www.debian.org/Bugs/" target="_top">Debian BTS</a>
перед обновлением.
</li>
<li>
Достаточно хорошо изучить структуру системы пакетов, чтобы решить проблему.
</li>
<li>
Создать окружение chroot или что-то в этом роде и сначала пробовать новинки
там (см. <a class="xref" href="#_virtualized_system" title="9.8. Виртуализация">Раздел 9.8, «Виртуализация»</a>).
</li>
</ul></div>
<p>(Если вы не в состоянии сделать ничего из перечисленного, значит, скорее
всего, вы не готовы использовать выпуски "<code class="literal">testing</code>" или
"<code class="literal">unstable</code>").</p>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D0%B1%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5(%D0%B1%D1%83%D0%B4%D0%B4%D0%B8%D0%B7%D0%BC)" target="_top">Просвещённость</a> в описанных здесь
вопросах может защитить человека от вечной <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%80%D0%BC%D0%B0" target="_top">кармической</a> борьбы в <a class="ulink" href="http://en.wikipedia.org/wiki/Naraka" target="_top">аде</a>
обновлений и помочь ему достичь <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9D%D0%B8%D1%80%D0%B2%D0%B0%D0%BD%D0%B0" target="_top">нирваны</a> в
Debian.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_debian_archive_basics"></a>2.1.4. Основы архивов Debian</h3></div></div></div>
<p>Давайте взглянем на <a class="ulink" href="http://ftp.us.debian.org/debian/" target="_top">архивы Debian</a> с
точки зрения возможностей пользователя.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Официальная политика архивов Debian определена во второй части <a class="ulink" href="http://www.debian.org/doc/debian-policy/ch-archive" target="_top">Debian Policy Manual -- "The Debian
Archive"</a>.</p>
</div>
<p>Архив, к которому нужно подключаться по простому HTTP, определяется в
"<code class="literal">/etc/apt/sources.list</code>". Для текущего
<code class="literal">стабильного</code> выпуска
(<code class="literal">squeeze</code>) строчки могут быть такие:</p>
<pre class="screen">deb http://ftp.XX.debian.org/debian/ squeeze main contrib non-free
deb-src http://ftp.XX.debian.org/debian/ squeeze main contrib non-free

deb http://security.debian.org/ squeeze/updates main contrib
deb-src http://security.debian.org/ squeeze/updates main contrib</pre>
<p>Пожалуйста, заметьте, что "<code class="literal">ftp.XX.debian.org</code>" должно быть
заменено на URL зеркала Debian в вашей стране, для США
"<code class="literal">ftp.us.debian.org</code>" (для России, соответственно,
"<code class="literal">ftp.ru.debian.org</code>"). Адреса зеркал можно найти в мировом
списке зеркал. Состояние этих серверов можно проверить на сайте <a class="ulink" href="http://www.de.debian.org/dmc/" target="_top">Debian Mirror Checker</a>.</p>
<p>Здесь я буду использовать кодовое имя выпуска
"<code class="literal">squeeze</code>" вместо статуса
"<code class="literal">stable</code>", чтобы избежать неоднозначностей, когда выйдет
следующий стабильный выпуск.</p>
<p>Описание формата файла "<code class="literal">/etc/apt/sources.list</code>" есть в
<code class="literal">sources.list</code>(5), суть его в следующем.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Строчки, начинающиеся с "<code class="literal">deb</code>" определяют источники
двоичных пакетов.
</li>
<li>
Строчки с "<code class="literal">deb-src</code>" определяют источники пакетов с
исходным кодом.
</li>
<li>
Первый аргумент включает URL корня архива.
</li>
<li>
Второй аргумент -- это имя выпуска: статус (как "<code class="literal">stable</code>")
или кодовое имя (как "<code class="literal">lenny</code>").
</li>
<li>
Третий и остальные аргументы -- названия областей архива Debian, которые
будут использоваться.
</li>
</ul></div>
<p>Строчки "<code class="literal">deb-src</code>" могут быть пропущены или
закомментированы, если не требуется получать исходные коды программ. URL
может быть "<code class="literal">http://</code>", "<code class="literal">ftp://</code>",
"<code class="literal">file://</code>", ...</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если вместо "squeeze" используется "<code class="literal">sid</code>",
строчка для обновлений безопасности "<code class="literal">deb <a class="ulink" href="http://security.debian.org/" target="_top">http://security.debian.org/</a>
…</code>" не нужна. Не существует архива с обновлениями безопасности для
"<code class="literal">sid</code>" (<code class="literal">unstable</code>).</p>
</div>
<p>Приведу список URL архивов Debian для разных выпусков системы, которые можно
использовать в своей конфигурации.</p>
<div class="table">
<a name="listofdebianarchivesites"></a><p class="title"><b>Таблица 2.2. Адреса архивов Debian</b></p>
<div class="table-contents"><table summary="Адреса архивов Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    URL архива
    </th>
<th align="left">
    статус (кодовое имя)
    </th>
<th align="left">
    цель использования
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <a class="ulink" href="http://ftp.us.debian.org/debian/" target="_top">http://ftp.XX.debian.org/debian/</a>
                </td>
<td align="left">
<code class="literal">stable</code> (<code class="literal">squeeze</code>)
    </td>
<td align="left">
    stable (squeeze) стабильный выпуск
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ftp.us.debian.org/debian/" target="_top">http://ftp.XX.debian.org/debian/</a>
                </td>
<td align="left">
<code class="literal">testing</code> (<code class="literal">wheezy</code>)
    </td>
<td align="left">
    testing (wheezy) тестируемый выпуск
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ftp.us.debian.org/debian/" target="_top">http://ftp.XX.debian.org/debian/</a>
                </td>
<td align="left">unstable (<code class="literal">sid</code>)
    </td>
<td align="left">
    unstable (sid) нестабильный выпуск
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ftp.us.debian.org/debian/" target="_top">http://ftp.XX.debian.org/debian/</a>
                </td>
<td align="left">
                  experimental
                </td>
<td align="left">
    экспериментальный предварительный выпуск (только для разработчиков)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ftp.us.debian.org/debian/" target="_top">http://ftp.XX.debian.org/debian/</a>
                </td>
<td align="left">
                  <code class="literal">stable-proposed-updates</code>
                </td>
<td align="left">
    обновления для следующего стабильного выпуска
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://security.debian.org/" target="_top">http://security.debian.org/</a>
                </td>
<td align="left">
                  <code class="literal">stable/updates</code>
                </td>
<td align="left">
    обновления безопасности для стабильного выпуска (важно)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://security.debian.org/" target="_top">http://security.debian.org/</a>
                </td>
<td align="left">
                  <code class="literal">testing/updates</code>
                </td>
<td align="left">
    обновления безопасности для тестируемого выпуска (важно)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://volatile.debian.org/debian-volatile/" target="_top">http://volatile.debian.org/debian-volatile/</a>
                </td>
<td align="left">
                  <code class="literal">volatile</code>
                </td>
<td align="left">
    совместимые обновления фильтров спама, IM-клиентов и т.п.
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://volatile.debian.org/debian-volatile/" target="_top">http://volatile.debian.org/debian-volatile/</a>
                </td>
<td align="left">
                  <code class="literal">volatile-sloppy</code>
                </td>
<td align="left">
    несовместимые обновления фильтров спама, IM-клиентов и т.п.
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://backports.debian.org/debian-backports/" target="_top">http://backports.debian.org/debian-backports/</a>
                </td>
<td align="left">
                  <code class="literal">squeeze-backports</code>
                </td>
<td align="left">
    свежие версии пакетов для squeeze (официальные сборки, используйте
по желанию)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Только чистый <span class="strong"><strong><code class="literal">стабильный</code></strong></span> выпуск с обновлениями
безопасности предоставляет лучшую стабильность системы. Использование
<span class="strong"><strong><code class="literal">стабильной</code></strong></span> системы со
смесью пакетов из <span class="strong"><strong><code class="literal">нестабильного</code></strong></span> и <span class="strong"><strong><code class="literal">тестируемого</code></strong></span> выпусков опасней,
чем использование полностью <span class="strong"><strong><code class="literal">нестабильного</code></strong></span> выпуска. Если вам
действительно нужны последние версии некоторых пакетов в <span class="strong"><strong><code class="literal">стабильном</code></strong></span> выпуске, используйте
архивы проектов <a class="ulink" href="http://www.debian.org/volatile/" target="_top">debian-volatile</a> и <a class="ulink" href="http://backports.debian.org" target="_top">http://backports.debian.org</a>
(см. <a class="xref" href="#">???</a>), но они должны
использоваться с особой осторожностью.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>В строчке "<code class="literal">deb</code>" нужно указать только одно имя выпуска
(<code class="literal">stable</code>, <code class="literal">testing</code> или
<code class="literal">unstable</code>). Если даже их указано несколько, то это только
замедлит работу программ системы APT, в то время как реально будет
использоваться только последний архив. Несколько выпусков в списке имеет
смысл, когда файл "<code class="literal">/etc/apt/preferences</code>" используется с
ясными целями (см. <a class="xref" href="#_tweaking_candidate_version" title='2.7.3. "Подмена" предпочтительной версии пакета'>Раздел 2.7.3, «"Подмена" предпочтительной версии пакета»</a>).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Для "<code class="literal">stable</code>" и "<code class="literal">testing</code>" выпусков
системы хорошей идеей будет включение обновлений безопасности с
"<code class="literal">http://security.debian.org/</code>" в
"<code class="literal">/etc/apt/sources.list</code>", как в приведённом примере.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В <code class="literal">стабильном</code> архиве ошибки, связанные с безопасностью,
исправляются командой безопасности Debian. Их действия тщательны и
надёжны. В <code class="literal">тестируемом</code> архиве такие ошибки могут
исправляться командой безопасности тестируемого выпуска Debian. По <a class="ulink" href="http://lists.debian.org/debian-testing-security-announce/2008/12/msg00019.html" target="_top">некоторым</a> <a class="ulink" href="http://lists.debian.org/debian-testing-security-announce/2010/01/msg00000.html" target="_top">причинам</a>
эти исправления не столь тщательны, как в стабильном выпуске; возможно, вам
придётся ожидать исправленной версии из <code class="literal">нестабильного</code>
выпуска. В <code class="literal">нестабильном</code> же выпуске ошибки исправляются
сопровождающими пакетов. Активно поддерживаемые пакеты из
<code class="literal">нестабильного</code> архива обычно очень хороши благодаря
исправлениям от разработчиков ПО (upstream). Читайте <a class="ulink" href="http://www.debian.org/security/faq" target="_top">Debian security FAQ</a> о том, как в Debian
исправляются ошибки безопасности.</p>
</div>
<div class="table">
<a name="listofdebianarchivearea"></a><p class="title"><b>Таблица 2.3. Список областей архивов Debian (archive area)</b></p>
<div class="table-contents"><table summary="Список областей архивов Debian (archive area)" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    область (area)
    </th>
<th align="left">
    количество пакетов
    </th>
<th align="left">
    критерий присутствия пакета в этой области архива
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">main</code>
                </td>
<td align="left">
    29472
    </td>
<td align="left">
    свободный в соответствии с DFSG и не имеет зависимостей от
"<code class="literal">non-free</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">contrib</code>
                </td>
<td align="left">
    203
    </td>
<td align="left">
    свободный по DFSG, но имеет зависимости от "<code class="literal">non-free</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">non-free</code>
                </td>
<td align="left">
    459
    </td>
<td align="left">
    несвободный по критериям DFSG
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Статистика количества пакетов приводится для архитектуры amd64. Строго
говоря, только область "<code class="literal">main</code>" может рассматриваться как
система Debian.</p>
<p>Структуру архива проще всего изучить, зайдя по его адресу с помощью браузера
и заглянув по ссылкам "<code class="literal">pool</code>" и
"<code class="literal">dists</code>".</p>
<p>Каждый выпуск системы Debian (дистрибутив) имеет <span class="strong"><strong>два</strong></span> названия: <span class="strong"><strong>suite</strong></span> (по уровню стабильности: stable, testing,
unstable) и <span class="strong"><strong>codename</strong></span> (например, etch,
lenny, squeeze ...). В документации часто слово "distribution" (дистрибутив)
используется как синоним слова "suite" (комплект). Отношения между
комплектом и кодовым именем на нынешний момент можно описать так.</p>
<div class="table">
<a name="therelationshipbsuiteandcodename"></a><p class="title"><b>Таблица 2.4. Отношения между статусом (suite) и кодовым именем (codename)</b></p>
<div class="table-contents"><table summary="Отношения между статусом (suite) и кодовым именем (codename)" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    Промежуток времени
    </th>
<th align="left">
    suite = <code class="literal">stable</code>
    </th>
<th align="left">
    suite = <code class="literal">testing</code>
    </th>
<th align="left">
    suite = <code class="literal">unstable</code>
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    после выпуска релиза "<code class="literal">squeeze</code>"
    </td>
<td align="left">
    codename = <code class="literal">squeeze</code>
    </td>
<td align="left">
    codename = <code class="literal">wheezy</code>
    </td>
<td align="left">
    codename = <code class="literal">sid</code>
    </td>
</tr>
<tr>
<td align="left">
    после выпуска релиза "<code class="literal">wheezy</code>"
    </td>
<td align="left">
    codename = <code class="literal">wheezy</code>
    </td>
<td align="left">
    codename = <code class="literal">wheezy+1</code>
    </td>
<td align="left">
    codename = <code class="literal">sid</code>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>История кодовых имён описана в <a class="ulink" href="http://www.debian.org/doc/manuals/debian-faq/ch-ftparchives#s-oldcodenames" target="_top">Debian FAQ: 6.3.1 "Which other
codenames have been used in the past?"</a></p>
<p>Строго говоря, согласно терминологии архивов Debian, слово "раздел" --
"section" используется специально для категоризации пакетов по области
применения. (С другой стороны, "главный раздел" -- "main section" иногда
обозначает область архива "main".)</p>
<p>Каждый раз, когда новый пакет добавляется разработчиком Debian
(мейнтейнером, сопровождающим пакета -- maintainer) в архив
"<code class="literal">unstable</code>" (с помощью <a class="ulink" href="http://incoming.debian.org/" target="_top">incoming</a>), он обязан убедиться, что загруженный
пакет совместим с последним набором других пакетов в этом архиве.</p>
<p>Если мейнтейнер осознанно не сохраняет этой совместимости, например, ради
важного обновления библиотек, появляется внеочередное извещение об этом,
например, в список рассылки <a class="ulink" href="http://lists.debian.org/debian-devel/" target="_top">debian-devel</a>.</p>
<p>До того, как пакеты перемещёны из архива "<code class="literal">unstable</code>" в
"<code class="literal">testing</code>", сценарий обслуживания архива не только
проверяет их "зрелость" по времени (примерно 10 дней) и статус сообщений об
ошибках, но и пытается убедиться в их совместимости с последним набором
других пакетов в архиве. Этот процесс делает архив
"<code class="literal">testing</code>" актуальным и готовым к использованию.</p>
<p>С помощью постепенной "заморозки" пакетов, проводимой командой выпускающих
релиз, архив "<code class="literal">testing</code>" доводится до зрелости и становится
устойчивым и свободным от известных ошибок. Тогда новый стабильный выпуск
(<code class="literal">stable</code>) создаётся присвоением кодового названия старого
тестируемого (<code class="literal">testing</code>) выпуска новому стабильному
(<code class="literal">stable</code>). Начальное содержимое нового архива
"<code class="literal">testing</code>" в этот момент то же самое, что и в только что
вышедшем релизе "<code class="literal">stable</code>".</p>
<p>Архивы "<code class="literal">unstable</code>" и "<code class="literal">testing</code>" могут
иметь временные дефекты по нескольким причинам.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Сломанный (broken) пакет загружен в архив (чаще в
<code class="literal">unstable</code>).
</li>
<li>
Задержка при добавлении новых пакетов в архив (чаще для
<code class="literal">unstable</code>).
</li>
<li>
Причины, связанные с синхронизацией архива (как для
<code class="literal">testing</code>, так и для <code class="literal">unstable</code>:
синхронизация зеркалирующих сайтов в разных странах, например).
</li>
<li>
Внеочередное изменение архива, например, для удаления пакета (главным
образом, <code class="literal">testing</code>).
</li>
</ul></div>
<p>Так что если вы решаете использовать эти архивы, вы должны быть в состоянии
исправить ошибки или работать, несмотря на возможные проблемы.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Примерно в течение нескольких месяцев после выхода нового стабильного
релиза, большая часть пользователей должна использовать именно его вместе с
обновлениями безопасности. В этот переходный период нестабильный и
тестируемый архивы действительно не готовы для большинства
пользователей. Ваша система с трудом будет сохранять рабочее состояние с
архивом "<code class="literal">unstable</code>", поскольку именно в этот период он
подвергается большому потоку важных обновлений основных системных
пакетов. Архив "<code class="literal">testing</code>" в этот период просто бесполезен,
ибо имеет то же содержимое, что и "<code class="literal">stable</code>", но не
предоставляет обновлений безопасности (Debian testing- security-announce
2008-12). В это же время, по причине большого количества пользователей
"<code class="literal">stable</code>", выявляются и исправляются многие ошибки и
выпускаются обновления к пакетам в "<code class="literal">stable</code>". Примерно
через месяц архив "<code class="literal">unstable</code>" может уже использоваться с
осторожностью.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>При использовании архива <code class="literal">testing</code> проблема, вызванная
отсутствием пакета, обычно решается установкой соответствующего пакета из
<code class="literal">unstable</code>, который загружен с целью исправления ошибки.</p>
</div>
<p>Подробнее про определения архивов читайте в <a class="ulink" href="http://www.debian.org/doc/debian-policy/" target="_top">Руководстве по политике Debian</a>.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<a class="ulink" href="http://www.debian.org/doc/debian-policy/ch-archive#s-subsections" target="_top">Sections</a>
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/debian-policy/ch-archive#s-priorities" target="_top">Priorities</a>
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/debian-policy/ch-binary#s3.7" target="_top">Base system</a>
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/debian-policy/ch-binary#s3.8" target="_top">Essential packages</a>
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_package_dependencies"></a>2.1.5. Зависимости пакета</h3></div></div></div>
<p>Debian предоставляет согласованный набор пакетов с помощью механизма
объявления зависимостей с точностью до номера версии. Это объявление
содержится в управляющем файле пакета. Вот их несколько облегчённое
описание.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
"Depends" (Пакет Зависит от)
</p>
<div class="itemizedlist"><ul type="circle"><li>
Это поле объявляет абсолютную зависимость, и все пакеты, перечисленные
здесь, обязаны быть установлены в системе сразу либо позже для обеспечения
работоспособности зависимого пакета.
</li></ul></div>
</li>
<li>
<p>
"Pre-Depends"
</p>
<div class="itemizedlist"><ul type="circle"><li>
То же, что и "Depends", но подразумевает полную установку перечисленных
пакетов в будущем.
</li></ul></div>
</li>
<li>
<p>
"Recommends" (Пакет рекомендует установку других пакетов)
</p>
<div class="itemizedlist"><ul type="circle"><li>
Объявляет острую, но не абсолютную зависимость. Большинство пользователей не
захочет устанавливать пакет без возможностей, предоставляемых рекомендуемыми
пакетам.
</li></ul></div>
</li>
<li>
<p>
"Suggest" (Пакет предлагает)
</p>
<div class="itemizedlist"><ul type="circle"><li>
Так объявляется слабая зависимость. Многие пользователи пакета могут извлечь
пользу от установки перечисленных здесь пакетов, но и без них получат
приемлемую функциональность.
</li></ul></div>
</li>
<li>
<p>
"Enhances"
</p>
<div class="itemizedlist"><ul type="circle"><li>
Объявляется слабая зависимость, как и "Suggest", но это работает в обратном
направлении: пакет повышает функциональность других пакетов.
</li></ul></div>
</li>
<li>
<p>
"Breaks"
</p>
<div class="itemizedlist"><ul type="circle"><li>
This declares a package incompatibility usually with some version
specification.  Generally the resolution is to upgrade all of the packages
listed in this field.
</li></ul></div>
</li>
<li>
<p>
"Conflicts"
</p>
<div class="itemizedlist"><ul type="circle"><li>
Объявляется абсолютная несовместимость. Все перечисленные здесь пакеты
должны быть удалены, чтобы можно было установить этот пакет.
</li></ul></div>
</li>
<li>
<p>
"Replaces"
</p>
<div class="itemizedlist"><ul type="circle"><li>
Это поле используется, когда устанавливаемые пакетом файлы заменяют файлы
другого пакета и его функциональность.
</li></ul></div>
</li>
<li>
<p>
"Provides"
</p>
<div class="itemizedlist"><ul type="circle"><li>
Объявляется, когда пакет предоставляет все файлы и функциональность
перечисленных в этом поле пакетов.
</li></ul></div>
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Заметьте, что объявление полей "Provides", "Conflicts" и "Replaces" вместе,
в одном виртуальном пакете -- нормальное явление. В результате только один
"настоящий" пакет, предоставляющий этот виртуальный пакет, может быть
установлен в системе.</p>
</div>
<p>Официальное описание этого механизма (включающее в себя зависимости для
пакетов с исходным кодом) можно посмотреть в <a class="ulink" href="http://www.debian.org/doc/debian-policy/ch-relationships" target="_top">Policy Manual: Chapter 7 --
Declaring relationships between packages</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_event_flow_of_the_package_management"></a>2.1.6. Последовательность событий при действиях управления пакетами</h3></div></div></div>
<p>Вот краткое описание происходящего при управлении пакетами с помощью системы
APT.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p><span class="strong"><strong>Update</strong></span> -- обновление списка пакетов
("<code class="literal">aptitude update</code>" или "<code class="literal">apt-get
update</code>"):
</p>
<div class="orderedlist"><ol type="1">
<li>
Получить мета-данные с сервера архива.
</li>
<li>
Пересобрать и обновить локальные мета-данные для использования их системой
APT.
</li>
</ol></div>
</li>
<li>
<p><span class="strong"><strong>Upgrade</strong></span> -- установка обновлений
("<code class="literal">aptitude safe-upgrade</code>" и "<code class="literal">apt-get
dist-upgrade</code>"):
</p>
<div class="orderedlist"><ol type="1">
<li>
Выбрать версии, до которых нужно обновиться -- обычно это последние
доступные версии для всех установленных пакетов (см. <a class="xref" href="#_tweaking_candidate_version" title='2.7.3. "Подмена" предпочтительной версии пакета'>Раздел 2.7.3, «"Подмена" предпочтительной версии пакета»</a> -- создание списка исключений).
</li>
<li>
Принять решения об установке зависимостей.
</li>
<li>
Получить выбранные пакеты с удалённого архива, если доступна более свежая
версия пакета.
</li>
<li>
Распаковать полученный пакет.
</li>
<li>
Выполнить сценарий "<span class="strong"><strong>preinst</strong></span>" пакета.
</li>
<li>
Установить файлы в положенные им места.
</li>
<li>
Выполнить сценарий "<span class="strong"><strong>postinst</strong></span>".
</li>
</ol></div>
</li>
<li>
<p><span class="strong"><strong>Install</strong></span> -- установка пакета
("<code class="literal">aptitude install</code>" или "<code class="literal">apt-get
install</code>"):
</p>
<div class="orderedlist"><ol type="1">
<li>
Выбрать перечисленные пакеты.
</li>
<li>
Принять решения об установке зависимостей.
</li>
<li>
Получить выбранные двоичные пакеты из удалённого архива
</li>
<li>
Распаковать полученный пакет.
</li>
<li>
Выполнить сценарий "<span class="strong"><strong>preinst</strong></span>" пакета.
</li>
<li>
Установить файлы в положенные им места.
</li>
<li>
Выполнить сценарий "<span class="strong"><strong>postinst</strong></span>".
</li>
</ol></div>
</li>
<li>
<p><span class="strong"><strong>Remove</strong></span> -- удаление пакета
("<code class="literal">aptitude remove</code>" или "<code class="literal">apt-get
remove</code>"):
</p>
<div class="orderedlist"><ol type="1">
<li>
Выбрать перечисленные пакеты.
</li>
<li>
Принять решения об установке зависимостей.
</li>
<li>
Выполнить сценарий "<span class="strong"><strong>prerm</strong></span>" пакета.
</li>
<li>
Удалить установленные файлы, <span class="strong"><strong>кроме файлов
конфигурации</strong></span>.
</li>
<li>
Выполнить сценарий "<code class="literal">postrm</code>" пакета.
</li>
</ol></div>
</li>
<li>
<p><span class="strong"><strong>Purge</strong></span> -- удалить вместе с конфигурацией
("<code class="literal">aptitude purge</code>", "<code class="literal">apt-get purge</code>"):
</p>
<div class="orderedlist"><ol type="1">
<li>
Выбрать перечисленные пакеты.
</li>
<li>
Принять решения об установке зависимостей.
</li>
<li>
Выполнить сценарий "<span class="strong"><strong>prerm</strong></span>" пакета.
</li>
<li>
Удалить установленные файлы, <span class="strong"><strong>в том числе их файлы
конфигурации</strong></span>.
</li>
<li>
Выполнить сценарий "<code class="literal">postrm</code>" пакета.
</li>
</ol></div>
</li>
</ul></div>
<p>Здесь я намеренно пропустил технические детали в пользу ясности общей
картины.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_first_response_to_package_management_troubles"></a>2.1.7. Первая реакция на проблемы с пакетом</h3></div></div></div>
<p>Вам нужно обратиться к официальной документации: первым делом к особенностям
конкретного пакета в системе Debian, они описаны в файлах
"<code class="literal">/usr/share/doc/&lt;имя_пакета&gt;/README.Debian</code>". Другая
документация в "<code class="literal">/usr/share/doc/&lt;имя_пакета&gt;/</code>" тоже
должна быть просмотрена. Если у вас bash настроен так, как описано в главе
<a class="xref" href="#_customizing_bash" title="1.4.2. Настройка bash">Раздел 1.4.2, «Настройка bash»</a>, попробуйте следующее.</p>
<pre class="screen">$ cd &lt;имя_пакета&gt;
$ pager README.Debian
$ mc</pre>
<p>Вам может потребоваться установить документацию для пакета, если она
вынесена в отдельный пакет, с суффиксом "<code class="literal">-doc</code>" в имени.</p>
<p>Если возникли проблемы с конкретным пакетом, обязательно проверьте наличие в
нём известных ошибок с помощью Системы отслеживания ошибок Debian (<a class="ulink" href="http://bugs.debian.org/" target="_top">Debian bug tracking system --
BTS</a>).</p>
<div class="table">
<a name="listofkeywebsiteaspecificpackage"></a><p class="title"><b>Таблица 2.5. Список основных сайтов для решения проблем с конкретным пакетом</b></p>
<div class="table-contents"><table summary="Список основных сайтов для решения проблем с конкретным пакетом" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    сайт
    </th>
<th align="left">
    команда
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    Домашняя страница <a class="ulink" href="http://bugs.debian.org/" target="_top">Debian Bug
Tracking System (BTS)</a>
    </td>
<td align="left">
                  <code class="literal">sensible-browser "http://bugs.debian.org/"</code>
                </td>
</tr>
<tr>
<td align="left">
    Сообщения об ошибках в конкретном пакете
    </td>
<td align="left">
                  <code class="literal">sensible-browser
"http://bugs.debian.org/&lt;имя_пакета&gt;"</code>
                </td>
</tr>
<tr>
<td align="left">
    Сообщение об ошибке с известным номером
    </td>
<td align="left">
                  <code class="literal">sensible-browser "http://
bugs.debian.org/&lt;номер_ошибки&gt;"</code>
                </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Используйте <a class="ulink" href="http://www.google.com" target="_top">Google</a> с ключевыми словами,
включающими "<code class="literal">site:debian.org</code>",
"<code class="literal">site:wiki.debian.org</code>",
"<code class="literal">site:lists.debian.org</code>", и т.п.</p>
<p>Когда вы оформляете сообщение об ошибке (bug report), пожалуйста,
используйте команду <code class="literal">reportbug</code>(1).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_basic_package_management_operations"></a>2.2. Основные операции с пакетами</h2></div></div></div>
<p>Простейшие операции управления пакетами в системе Debian могут выполняться
любыми средствами управления пакетами, доступными в Debian. Здесь мы
рассматриваем основные средства: <code class="literal">apt-get</code>,
<code class="literal">apt-cache</code> и <code class="literal">aptitude</code>.</p>
<p>Для таких операций управления пакетами, которые изменяют состояние системы
(установка и удаление пактов и обновлений), необходимо обладать привилегиями
суперпользователя.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_literal_apt_get_literal_literal_apt_cache_literal_vs_literal_aptitude_literal"></a>2.2.1. <code class="literal">apt-get</code>/<code class="literal">apt-cache</code> -- или
<code class="literal">aptitude</code>?</h3></div></div></div>
<p>Команды <code class="literal">apt-get</code> и <code class="literal">apt-cache</code> --
наиболее <span class="strong"><strong>простые</strong></span> средства управления
пакетами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">apt-get</code> и <code class="literal">apt-cache</code> имеют только
интерфейс командной строки.
</li>
<li>
<code class="literal">apt-get</code> больше подходит для <span class="strong"><strong>серьёзных обновлений системы</strong></span> между релизами и т.п.
</li>
<li>В <code class="literal">apt-get</code> есть <span class="strong"><strong>зрелый и
стабильный</strong></span> решатель зависимостей пакетов, использующий общие
данные состояния.
</li>
<li>В <code class="literal">apt-get</code> была добавлена поддержка автоустановки и
автоудаления рекомендованных пакетов.
</li>
<li>В <code class="literal">apt-get</code> была добавлена поддержка журналирования
действий с пакетами.
</li>
<li>
<code class="literal">apt-cache</code> предоставляет <span class="strong"><strong>стандартный</strong></span> поиск по именам и описаниями пакетов,
основанный на регулярных выражениях.
</li>
<li>
<code class="literal">apt-get</code> и <code class="literal">apt-cache</code> могут управлять
многими версиями пакетов, используя <code class="literal">/etc/apt/preferences</code>,
хоть это и требует громоздких операций.
</li>
</ul></div>
<p>Команда <code class="literal">aptitude</code> -- более <span class="strong"><strong>разносторонее</strong></span> средство управления пакетами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">aptitude</code> предоставляет полноэкранный интерактивный
текстовый пользовательский интерфейс.
</li>
<li>
<code class="literal">aptitude</code> также предоставляет обычный интерфейс командной
строки.
</li>
<li>
<code class="literal">aptitude</code> больше подходит для <span class="strong"><strong>частых интерактивных действий с пакетами</strong></span> -- для
получения списка установленных пакетов и поиска доступных пакетов.
</li>
<li>
<code class="literal">aptitude</code> offers an <span class="strong"><strong>enhanced</strong></span> package resolver which also uses an extra
package state data used only by <code class="literal">aptitude</code>.
</li>
<li>
<code class="literal">aptitude</code> поддерживает автоустановку и автоудаление
рекоммендованных пакетов.
</li>
<li>
<code class="literal">aptitude</code> поддерживает журналирование действий с пакетами.
</li>
<li>
<code class="literal">aptitude</code> предоставляет <span class="strong"><strong>расширенный</strong></span> поиск по любым мета-данным пакета,
основанный на регулярных выражениях.
</li>
<li>
<code class="literal">aptitude</code> может работать одновременно с несколькими
версиями одного пакета без использования
<code class="literal">/etc/apt/preferences</code>, это просто и удобно.
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Although the <code class="literal">aptitude</code> command comes with rich features
such as its enhanced package resolver, this complexity has caused (or may
still causes) some regressions such as <a class="ulink" href="http://bugs.debian.org/411123" target="_top">Bug
#411123</a>, <a class="ulink" href="http://bugs.debian.org/514930" target="_top">Bug #514930</a>, and <a class="ulink" href="http://bugs.debian.org/570377" target="_top">Bug #570377</a>.  In case of doubt, please use the
<code class="literal">apt-get</code> and <code class="literal">apt-cache</code> commands over
the <code class="literal">aptitude</code> command.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basic_package_management_operations_with_the_commandline"></a>2.2.2. Основные операции с пакетами в командной строке</h3></div></div></div>
<p>Вот основные операции с пакетами, которые можно выполнить из командной
строки с помощью <code class="literal">aptitude</code>(8),
<code class="literal">apt-get</code>(8) и <code class="literal">apt-cache</code>(8).</p>
<div class="table">
<a name="basicpackagemanaaptgetiaptcachei"></a><p class="title"><b>Таблица 2.6. Основные операции <code class="literal">aptitude</code>(8),
<code class="literal">apt-get</code>(8) и <code class="literal">apt-cache</code>(8)</b></p>
<div class="table-contents"><table summary="Основные операции aptitude(8),
apt-get(8) и apt-cache(8)" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">с использованием aptitude
    </th>
<th align="left">с использованием <code class="literal">apt-get</code>/<code class="literal">apt-cache</code>
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">aptitude update</code>
                </td>
<td align="left">
                  <code class="literal">apt-get update</code>
                </td>
<td align="left">
    обновить мета-данные архива пакетов (получить сведения о новых версиях)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude install foo</code>
                </td>
<td align="left">
                  <code class="literal">apt-get install foo</code>
                </td>
<td align="left">
    установить пакет "<code class="literal">foo</code>" вместе с зависимостями
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude safe-upgrade</code>
                </td>
<td align="left">
                  <code class="literal">apt-get upgrade</code>
                </td>
<td align="left">
    установить последние версии всех пакетов, не удаляя ничего и не трогая то,
что обновить нельзя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude full-upgrade</code>
                </td>
<td align="left">
                  <code class="literal">apt-get dist-upgrade &lt;package&gt;</code>
                </td>
<td align="left">
    установить последние версии пакетов удаляя при необходимости другие пакеты 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude remove foo</code>
                </td>
<td align="left">
                  <code class="literal">apt-get remove foo</code>
                </td>
<td align="left">
    удалить пакет "<code class="literal">foo</code>", сохранив его файлы конфигурации
    </td>
</tr>
<tr>
<td align="left">
    N/A
    </td>
<td align="left">
                  <code class="literal">apt-get autoremove</code>
                </td>
<td align="left">
    удалить автоматически установленные пакеты, которые больше не требуются
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude purge foo</code>
                </td>
<td align="left">
                  <code class="literal">apt-get purge foo</code>
                </td>
<td align="left">
    удалить пакет "<code class="literal">foo</code>" вместе с файлами конфигурации
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude clean</code>
                </td>
<td align="left">
                  <code class="literal">apt-get clean</code>
                </td>
<td align="left">
    удалить все копии полученных пакетов из локального хранилища
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude autoclean</code>
                </td>
<td align="left">
                  <code class="literal">apt-get autoclean</code>
                </td>
<td align="left">
    удалить все устаревшие версии из локального хранилища пакетов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude show foo</code>
                </td>
<td align="left">
                  <code class="literal">apt-cache show &lt;package&gt;</code>
                </td>
<td align="left">
    показать подробную информацию о пакете "<code class="literal">foo</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude search &lt;regex&gt;</code>
                </td>
<td align="left">
                  <code class="literal">apt-cache search &lt;regex&gt;</code>
                </td>
<td align="left">
    искать в именах и описаниях пакетов по заданному регулярному выражению
&lt;regex&gt;
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude why &lt;regex&gt;</code>
                </td>
<td align="left">
    N/A
    </td>
<td align="left">
    выяснить зависимости, по которым пакеты, имена которых подходят под
&lt;regex&gt;, должны быть установлены
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">aptitude why-not &lt;regex&gt;</code>
                </td>
<td align="left">
    N/A
    </td>
<td align="left">
    выяснить зависимости, по которым подходящие под &lt;regex&gt; пакеты не
должны быть установлены
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>С тех пор, как <code class="literal">apt-get</code> и <code class="literal">aptitude</code>
используют общие данные об автоматически установленных пакетах (см. <a class="xref" href="#_the_package_state_for_apt" title="2.5.5. Статус пакетов в системе APT">Раздел 2.5.5, «Статус пакетов в системе APT»</a>), вы можете чередовать их
использование без значительных последствий (см. <a class="ulink" href="http://bugs.debian.org/594490" target="_top">Bug
#594490</a>).</p>
</div>
<p>Различие между операциями
"<code class="literal">safe-upgrade</code>"/"<code class="literal">upgrade</code>" и
"<code class="literal">full-upgrade</code>"/"<code class="literal">dist-upgrade</code>"
возникает только тогда, когда новые версии пакетов имеют другие зависимости
по сравнению со старыми версиями. В этом случае "<code class="literal">aptitude
safe-upgrade</code>" не будет ни устанавливать новые версии, ни удалять
старые.</p>
<p>Команда "<code class="literal">aptitude why &lt;regex&gt;</code>" может быть
информативней с ключом "<code class="literal">-v</code>". Похожую информацию можно
получить командой "<code class="literal">apt-cach rdepends &lt;package&gt;</code>".</p>
<p>Когда "<code class="literal">aptitude</code>" запускается в командной строке и
отображает что-либо, например, информацию о конфликтующих пакетах, вы можете
переключиться в интерактивный полноэкранный режим, нажав клавишу
"<code class="literal">e</code>".</p>
<p>Вы можете задавать параметры, с которыми запускается
<code class="literal">aptitude</code>, сразу после имени команды.</p>
<div class="table">
<a name="notablecommandopionsforaptitudei"></a><p class="title"><b>Таблица 2.7. Полезные ключи для aptitude</b></p>
<div class="table-contents"><table summary="Полезные ключи для aptitude" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    ключ
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">-s</code>
                </td>
<td align="left">
    сообщить о производимых действиях, не выполняя их
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">-d</code>
                </td>
<td align="left">
    скачивать пакет, но не устанавливать и не обновлять
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">-D</code>
                </td>
<td align="left">
    показать коротко причины, по которым производятся автоматические установки
или удаления
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Подробности смотрите в <code class="literal">aptitude</code>(8) и
"<code class="literal">руководстве пользователя aptitude</code>" в
"<code class="literal">/usr/share/doc/aptitude/README</code>".</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>В предыдущих выпусках Debian роль aptitude выполнял
<code class="literal">dselect</code>. Пакет dselect всё ещё доступен для установки и
использования.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_interactive_use_of_aptitude"></a>2.2.3. Интерактивное использование aptitude</h3></div></div></div>
<p>Для интерактивного управления пакетами можно запустить
<code class="literal">aptitude</code> таким способом.</p>
<pre class="screen">$ sudo aptitude -u
Password:</pre>
<p>По этой команде информация в локальном архиве будет обновлена, после чего
будет отображён интерфейс пользователя с меню и списком пакетов. Aptitude
сохраняет свои настройки в "<code class="literal">~/.aptitude/config</code>".</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если вы хотите использовать настройки суперпользователя root для команды
aptitude, используйте: "<code class="literal">sudo -H aptitude ...</code>" вместо
"<code class="literal">sudo aptitude ...</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><code class="literal">Aptitude</code> автоматически определяет <span class="strong"><strong>незаконченные действия</strong></span> и потом пытается их
выполнить. Если вы хотите отменить их, используйте меню: "Действия" --
"Отменить все незаконченные действия" ("Action" -- "Cancel pending
actions").</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_key_bindings_of_aptitude"></a>2.2.4. Навигация в aptitude</h3></div></div></div>
<p>Вот список команд, по которым можно просмотреть пакеты и выполнить с ними
запланированные действия с помощью программы aptitude в полноэкранном
интерактивном режиме.</p>
<div class="table">
<a name="listofkeybindingsforaptitude"></a><p class="title"><b>Таблица 2.8. Список команд aptitude</b></p>
<div class="table-contents"><table summary="Список команд aptitude" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    клавиша
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<code class="literal">F10</code> или <code class="literal">Ctrl-t</code>
    </td>
<td align="left">
    меню
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">?</code>
                </td>
<td align="left">
    показать страницу <span class="strong"><strong>помощи</strong></span> с описанием
команды
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">F10</code> → Help → User's Manual
    </td>
<td align="left">
    показать руководство пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">u</code>
                </td>
<td align="left">
    обновить информацию о пакетах в архиве
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">+</code>
                </td>
<td align="left">
    пометить пакет для <span class="strong"><strong>установки</strong></span> или
<span class="strong"><strong>обновления</strong></span>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">-</code>
                </td>
<td align="left">
    пометить пакет для <span class="strong"><strong>удаления</strong></span> (сохраняя
файлы конфигурации)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">_</code>
                </td>
<td align="left">
    пометить пакет для удаления вместе со всей его конфигурацией (<span class="strong"><strong>purge</strong></span>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">=</code>
                </td>
<td align="left">
    "удержать" пакет от обновления (<span class="strong"><strong>hold</strong></span>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">U</code>
                </td>
<td align="left">
    пометить все доступные для обновления пакеты (работает как <span class="strong"><strong>full-upgrade</strong></span>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">g</code>
                </td>
<td align="left">
    перейти к списку помеченных для выполнения действий пакетов; выполнить
действия с помеченными пакетами (<span class="strong"><strong>скачать/установить/удалить ...</strong></span>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">q</code>
                </td>
<td align="left">
    выйти из текущего окна, сохранив изменения
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">x</code>
                </td>
<td align="left">
    выйти из текущего окна, отменив изменения
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Enter</code>
                </td>
<td align="left">
    "Зайти" в пакет для просмотра информации о нём
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">C</code>
                </td>
<td align="left">
    просмотреть изменения в пакете (changelog)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">l</code>
                </td>
<td align="left">
    изменить ограничение на количество отображаемых пакетов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/</code>
                </td>
<td align="left">
    искать до первого совпадения
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">\</code>
                </td>
<td align="left">
    повторить последний поиск
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Ниже описывается, как использовать регулярные выражения aptitude (это
относится как к командной строке, так и к командам "<code class="literal">l</code>" и
"<code class="literal">/</code>" в интерактивном интерфейсе). Регулярные выражения
aptitude позволяют точно задать имя пакета с помощью строки, начинающейся с
"<code class="literal">~n</code>" и продолжающеййся именем пакета.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Чтобы обновить все пакеты до последних версий, вам нужно нажать
"<code class="literal">U</code>". Иначе будут обновлены только выбранные пакеты и
связанные с ними по зависимостям.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_package_views_under_aptitude"></a>2.2.5. Просмотр пакета в aptitude</h3></div></div></div>
<p>В списке всех пакетов информация о каждом отображается в следующем формате.</p>
<pre class="screen">idA   libsmbclient                             -2220kB 3.0.25a-1  3.0.25a-2</pre>
<p>Опишем, что здесь к чему.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Первая буква: флаг "текущее состояние" ("current state").
</li>
<li>
Вторая буква: флаг "планируемое действие" ("planned action").
</li>
<li>
Третья буква: флаг "автоматическое действие" ("automatic").
</li>
<li>
Имя пакета.
</li>
<li>
Изменение заполненности диска в результате "планируемого действия".
</li>
<li>
Текущая версия пакета.
</li>
<li>
Последняя доступная версия (по имеющейся <span class="strong"><strong>локальной</strong></span> информации).
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Полный список флагов есть на странице помощи aptitude, вызываемой клавишей
"<code class="literal">?</code>".</p>
</div>
<p>Последняя доступная версия ("<span class="strong"><strong>candidate
version</strong></span>") определяется из текущей локальной информации об архиве
и из настроек (см. <code class="literal">apt_preferences</code>(5) и <a class="xref" href="#_tweaking_candidate_version" title='2.7.3. "Подмена" предпочтительной версии пакета'>Раздел 2.7.3, «"Подмена" предпочтительной версии пакета»</a>).</p>
<p>Есть несколько способов просмотра пакетов. Одни сложились как более удачные,
другие нет. Все они доступны в меню "<code class="literal">Окна</code>"
("<code class="literal">Views</code>").</p>
<div class="table">
<a name="listofviewsforaptitude"></a><p class="title"><b>Таблица 2.9. Виды списка пакетов в aptitude</b></p>
<div class="table-contents"><table summary="Виды списка пакетов в aptitude" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    вид
    </th>
<th align="left">
    состояние
    </th>
<th align="left">
    описание вида списка
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">Package View</code> (Окно Пакета)
                </td>
<td align="left">
    хорошее
    </td>
<td align="left">
    см. <a class="xref" href="#standard-package-views" title="Таблица 2.10. Категоризация в стандартном окне пакетов">Таблица 2.10, «Категоризация в стандартном окне пакетов»</a> (вид по умолчанию)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Audit Recommendations</code> (Проверка рекомендаций)
                </td>
<td align="left">
    хорошее
    </td>
<td align="left">
    список неустановленных пакетов, которые рекомендуются уже установленными
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Flat Package List</code> (Плоский список пакетов)
                </td>
<td align="left">
    хорошее
    </td>
<td align="left">
    список пакетов без категоризации (для поиска по регулярным выражениям)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Debtags Browser</code> (Debtags браузер)
                </td>
<td align="left">
    готов для использования
    </td>
<td align="left">
    категоризация по тэгам (<a class="ulink" href="http://debtags.alioth.debian.org/" target="_top">debtags</a>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Categorical Browser</code> (Браузер категорий)
                </td>
<td align="left">
    признан ненужным
    </td>
<td align="left">
    просмотр по категориям (используйте вместо него просмотр по тэгам)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Пожалуйста, помогите нам <a class="ulink" href="http://debtags.alioth.debian.org/todo.html" target="_top">улучшить работу тэгов с
debtags</a>!</p>
</div>
<p>Стандартное окно просмотра "<code class="literal">Окно Пакетов</code>"
("<code class="literal">Package View</code>") разделяет пакеты по категориям примерно
так же, как и dselect.</p>
<div class="table">
<a name="standard-package-views"></a><p class="title"><b>Таблица 2.10. Категоризация в стандартном окне пакетов</b></p>
<div class="table-contents"><table summary="Категоризация в стандартном окне пакетов" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    категория
    </th>
<th align="left">
    описание вида списка
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">Обновляемые Пакеты</code>
                </td>
<td align="left">
    список организован так: "<code class="literal">раздел</code>" →
"<code class="literal">область</code>" → "<code class="literal">пакет</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Новые пакеты</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Установленные пакеты</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Неустановленные пакеты</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Устаревшие и пакеты, созданные локально</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Виртуальные пакеты</code>
                </td>
<td align="left">
    список пакетов по выполняемым задачам
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Задачи</code>
                </td>
<td align="left">
    список пакетов с различными функциями, которые могут потребоваться для
задачи
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>"<code class="literal">Задачи</code>" очень удобно использовать для выбора пакетов под
задачу: например, все пакеты, связанные с русскоязычным окружением.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_search_method_options_with_aptitude"></a>2.2.6. Методы поиска в aptitude</h3></div></div></div>
<p>Aptitude предлагает вам несколько возможных способов поиска пакета по
регулярному выражению.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
В командной строке:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
"<code class="literal">aptitude search '&lt;регулярное выражение&gt;'</code>" выведет
статус, имя и короткие описания подходящих пакетов.
</li>
<li>
"<code class="literal">aptitude show '&lt;имя_пакета&gt;'</code>" покажет подробное
описание пакета.
</li>
</ul></div>
</li>
<li>
<p>
Интерактивный полноэкранный режим:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
"<code class="literal">l</code>" ограничить список только подходящими пакетами
</li>
<li>
"<code class="literal">/</code>" искать подходящий пакет впереди по списку
</li>
<li>
"<code class="literal">\</code>" искать  подходящий пакет обратно по списку
</li>
<li>
"<code class="literal">n</code>" повторить последний поиск вперёд
</li>
<li>
"<code class="literal">N</code>" повторить последний поиск назад
</li>
</ul></div>
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Строка &lt;имя_пакета&gt; должна точно соответствовать имени существующего
пакета. Она будет истолкована как регулярное выражение, если начинается с
"<code class="literal">~</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_aptitude_regex_formula"></a>2.2.7. Регулярные выражения в aptitude</h3></div></div></div>
<p>В <code class="literal">aptitude</code>(8) регулярные выражения похожи на своих
сородичей из <code class="literal">mutt</code>. Они расширенные (ERE -- см. <a class="xref" href="#_regular_expressions" title="1.6.2. Регулярные выражения">Раздел 1.6.2, «Регулярные выражения»</a>) и используют отдельную команду для поиска
только в определённых типах пакетов или частях заголовков пакетов.</p>
<div class="table">
<a name="listoftheaptituderegexformula"></a><p class="title"><b>Таблица 2.11. Правила для регулярных выражений в aptitude</b></p>
<div class="table-contents"><table summary="Правила для регулярных выражений в aptitude" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    описание правила
    </th>
<th align="left">
    формула регулярного выражения
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    подходит имя пакета
    </td>
<td align="left">
                  <code class="literal">~n&lt;regex_name&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    подходит описание
    </td>
<td align="left">
                  <code class="literal">~d&lt;regex_description&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    подходит имя задачи
    </td>
<td align="left">
                  <code class="literal">~t&lt;regex_task&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    подходит тэг
    </td>
<td align="left">
                  <code class="literal">~G&lt;regex_debtag&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    подходит мейнтейнер
    </td>
<td align="left">
                  <code class="literal">~m&lt;regex_maintainer&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    подходит раздел пакетов 
    </td>
<td align="left">
                  <code class="literal">~s&lt;regex_section&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    подходит версия пакета 
    </td>
<td align="left">
                  <code class="literal">~V&lt;regex_version&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    подходит архив
    </td>
<td align="left">
<code class="literal">~A{sarge,etch,sid}</code>
    </td>
</tr>
<tr>
<td align="left">
    ориджин
    </td>
<td align="left">
<code class="literal">~O{debian,…}</code>
    </td>
</tr>
<tr>
<td align="left">
    приоритет 
    </td>
<td align="left">
<code class="literal">~p{extra,important,optional,required,standard}</code>
    </td>
</tr>
<tr>
<td align="left">
    пакеты с заголовком "необходимый" (essential)
    </td>
<td align="left">
                  <code class="literal">~E</code>
                </td>
</tr>
<tr>
<td align="left">
    виртуальный пакет 
    </td>
<td align="left">
                  <code class="literal">~v</code>
                </td>
</tr>
<tr>
<td align="left">
    новый пакет 
    </td>
<td align="left">
                  <code class="literal">~N</code>
                </td>
</tr>
<tr>
<td align="left">
    незаконченное действие
    </td>
<td align="left">
<code class="literal">~a{install,upgrade,downgrade,remove,purge,hold,keep}</code>
    </td>
</tr>
<tr>
<td align="left">
    установленный пакет
    </td>
<td align="left">
                  <code class="literal">~i</code>
                </td>
</tr>
<tr>
<td align="left">
    автоматически установленный пакет
    </td>
<td align="left">
                  <code class="literal">~M</code>
                </td>
</tr>
<tr>
<td align="left">
    пакет установленный вручную
    </td>
<td align="left">
                  <code class="literal">~i!~M</code>
                </td>
</tr>
<tr>
<td align="left">
    установленный пакет с доступным обновлением
    </td>
<td align="left">
                  <code class="literal">~U</code>
                </td>
</tr>
<tr>
<td align="left">
    удалённый пакет с сохранённой конфигурацией
    </td>
<td align="left">
                  <code class="literal">~c</code>
                </td>
</tr>
<tr>
<td align="left">
    пакет удалён, стёрт, или мог-быть-удалён
    </td>
<td align="left">
                  <code class="literal">~g</code>
                </td>
</tr>
<tr>
<td align="left">
    сломанная зависимость
    </td>
<td align="left">
                  <code class="literal">~b</code>
                </td>
</tr>
<tr>
<td align="left">
    сломанная зависимость/пре-зависимость или конфликт 
    </td>
<td align="left">
                  <code class="literal">~B&lt;type&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    выбрать пакеты, объявляющие зависимость &lt;type&gt; от пакета с шаблоном
имени &lt;term&gt;
    </td>
<td align="left">
                  <code class="literal">~D[&lt;тип_зависимости&gt;:]&lt;шаблон_имени&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    пакеты со сломанной зависимостью типа &lt;type&gt; от пакета с шаблоном
имени &lt;term&gt;
    </td>
<td align="left">
                  <code class="literal">~DB[&lt;type&gt;:]&lt;term&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    пакеты, к которым пакет &lt;term&gt; объявляет зависимость типа &lt;type&gt;
    </td>
<td align="left">
                  <code class="literal">~R[&lt;type&gt;:]&lt;term&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    пакеты, к которым пакет &lt;term&gt; объявляет сломанную зависимость типа
&lt;type&gt;
    </td>
<td align="left">
                  <code class="literal">~RB[&lt;type&gt;:]&lt;term&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    пакеты, от которых зависят некоторые другие установленные пакеты 
    </td>
<td align="left">
                  <code class="literal">~R~i</code>
                </td>
</tr>
<tr>
<td align="left">
    пакеты, от которых не зависят никакие другие установленные пакеты 
    </td>
<td align="left">
                  <code class="literal">!~R~i</code> 
                </td>
</tr>
<tr>
<td align="left">
    пакеты, которые зависят от или рекомендуют установленный пакет 
    </td>
<td align="left">
                  <code class="literal">~R~i|~Rrecommends:~i</code>
                </td>
</tr>
<tr>
<td align="left">
    пакет &lt;term&gt; с определённой версией
    </td>
<td align="left">
                  <code class="literal">~S filter &lt;term&gt;</code>
                </td>
</tr>
<tr>
<td align="left">
    все пакеты 
    </td>
<td align="left">
                  <code class="literal">~T</code>
                </td>
</tr>
<tr>
<td align="left">
    ни один пакет (false)
    </td>
<td align="left">
                  <code class="literal">~F</code>
                </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="itemizedlist"><ul type="disc">
<li>
Используются Расширенные Регулярные Выражения ERE (Extended Regexp), с тем
же синтаксисом, что и у <code class="literal">egrep</code>(1),
<code class="literal">awk</code>(1), <code class="literal">perl</code>(1). Можно использовать
"<code class="literal">^</code>", "<code class="literal">.*</code>", "<code class="literal">$</code>" и
т.д.
</li>
<li>
&lt;type&gt; -- это отношение между пакетами, которое может быть: depends,
predepends, recommends, suggest, conflicts, replaces, provides.
</li>
<li>
По умолчанию отношение &lt;type&gt; приравнивается к "depends".
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если &lt;regex_pattern&gt; -- пустая строка, поставьте
"<code class="literal">~T</code>" сразу после команды.</p>
</div>
<p>Вот примеры расшифровки возможных сокращений.</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">~P&lt;term&gt;</code>" ==
"<code class="literal">~Dprovides:&lt;term&gt;</code>"
</li>
<li>
"<code class="literal">~C&lt;term&gt;</code>" ==
"<code class="literal">~Dconflicts:&lt;term&gt;</code>"
</li>
<li>
"<code class="literal">…~W term</code>" == "<code class="literal">(…|term)</code>"
</li>
</ul></div>
<p>Пользователи популярной почтовой программы <code class="literal">mutt</code> сразу
схватывают эти методы, ведь они взяты именно оттуда. Чёткое описание всех
приведённых команд есть в "Руководстве пользователя" aptitude в
"<code class="literal">/usr/share/doc/aptitude/README</code>".</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>With the <code class="literal">lenny</code> version of <code class="literal">aptitude</code>(8),
the new <span class="strong"><strong>long form</strong></span> syntax such as
"<code class="literal">?broken</code>" may be used for regex matching in place for its
old <span class="strong"><strong>short form</strong></span> equivalent
"<code class="literal">~b</code>". Now space character "<code class="literal"> </code>" is
considered as one of the regex terminating character in addition to tilde
character "<code class="literal">~</code>".  See "User's Manual" for the new <span class="strong"><strong>long form</strong></span> syntax.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_dependency_resolution_of_aptitude"></a>2.2.8. Решение зависимостей в aptitude</h3></div></div></div>
<p>При установке пакета в <code class="literal">aptitude</code>, устанавливаются не
только те пакеты, от которых он зависит, но и те, которые он
рекомендует. Это настраивается в меню "F10 -- Параметры -- Предпочтения --
Работа с зависимостями" ("F10 -- Options -- Preferences -- Dependency
Handling"). Все эти пакеты называются "Автоматически установленными" (Auto
installed), то есть установленными по каким-то зависимостям и отношениям
между пакетами, когда пользователь напрямую не запрашивал их установку. Если
такие пакеты больше не нужны, то они автоматически удаляются.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>До выхода релиза "<code class="literal">lenny</code>", ни <code class="literal">apt-get</code>,
ни другие стандартные средства системы APT не предоставляли возможности
автоудаления.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_package_activity_logs"></a>2.2.9. Журналы активности пакета</h3></div></div></div>
<p>Вы можете проверить историю активности пакетов в журнальных файлах.</p>
<div class="table">
<a name="thelogfilesforpackageactivities"></a><p class="title"><b>Таблица 2.12. Лог-файлы истории действий с пакетами</b></p>
<div class="table-contents"><table summary="Лог-файлы истории действий с пакетами" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл
    </th>
<th align="left">
    содержимое
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/var/log/dpkg.log</code>
                </td>
<td align="left">
    История активности на уровне <code class="literal">dpkg</code> для всех пакетов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/log/apt/term.log</code>
                </td>
<td align="left">
    Общая активность средств APT
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/log/aptitude</code>
                </td>
<td align="left">
    Журнал <code class="literal">aptitude</code>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>На самом деле, не так просто извлечь из этих журналов значимую информацию в
понятном виде. В <a class="xref" href="#_recording_changes_in_configuration_files" title="9.2.10. Запись изменений в файлах конфигурации">Раздел 9.2.10, «Запись изменений в файлах конфигурации»</a>
описан простейший способ.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_examples_of_aptitude_operations"></a>2.3. Примеры операций с aptitude</h2></div></div></div>
<p>Здесь приводятся примеры работы с <code class="literal">aptitude</code>(8).</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_listing_packages_with_regex_matching_on_package_names"></a>2.3.1. Поиск среди имён пакетов</h3></div></div></div>
<p>Следующая команда выполняет поиск регулярного выражения по именам пакетов и
выводит результат.</p>
<pre class="screen">$ aptitude search '~n(pam|nss).*ldap'
p libnss-ldap - NSS module for using LDAP as a naming service
p libpam-ldap - Pluggable Authentication Module allowing LDAP interfaces</pre>
<p>Это действительно удобно, когда нужно найти пакет, зная часть его имени.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_browsing_with_the_regex_matching"></a>2.3.2. Просмотр с поиском по шаблонам</h3></div></div></div>
<p>Шаблон "<code class="literal">~dipv6</code>" в "Новом плоском списке пакетов" ("New
Flat Package List"), заданный команде "<code class="literal">l</code>", оставит в
списке только те пакеты, в описании которых есть слово
"<code class="literal">ipv6</code>". После этого можно ходить по ним и выбирать.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_purging_removed_packages_for_good"></a>2.3.3. Удаление конфигураций уже удалённых пакетов</h3></div></div></div>
<p>Вы можете удалить конфигурационные файлы, оставшиеся после удаления пакетов.</p>
<p>Проверьте вывод этой команды.</p>
<pre class="screen"># aptitude search '~c'</pre>
<p>Если вы уверены, что все эти пакеты не оставили <span class="strong"><strong>нужных вам</strong></span> файлов конфигурации, удалите их всех
командой:</p>
<pre class="screen"># aptitude purge '~c'</pre>
<p>Вы можете сделать то же самое в интерактивном режиме, контролируя каждое
действие.</p>
<p>В "Плоском списке пакетов" отдайте команду "<code class="literal">l</code>" и введите
шаблон "<code class="literal">~c</code>". На экране останутся искомые удалённые уже
пакеты ("removed but not purged"). Здесь, в плоском списке пакетов, нельзя
применить действие сразу ко всей группе, зато достигается большая
наглядность при небольшом количестве выведенных пакетов.</p>
<p>Если нужно применить команду сразу ко всей группе, то можно отобрать пакеты
указанным способом, но в простом "Окне пакета". Одним движением можно
развернуть или свернуть все подгруппы: это делают клавиши "[" и
"]". Установив курсор на какую-то группу, можно дать команду для всех
входящих в неё пакетов. В данном случае это команда "_" -- удалить с
конфигурацией.</p>
<p>Таким образом, будут удалены только те пакеты, которые мы выбрали, вводя
регулярное выражение. Исключить что-либо из списка можно командой
"<code class="literal">=</code>". Такая техника исключительно удобна и работает для
многих других клавиш.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_tidying_auto_manual_install_status"></a>2.3.4. Tidying auto/manual install status</h3></div></div></div>
<p>Вот так я привожу в порядок установочные статусы auto/manual (после
использования других установщиков, кроме aptitude).</p>
<div class="orderedlist"><ol type="1">
<li>
Запустить <code class="literal">aptitude</code> в интерактивном режиме от имени
суперпользователя.
</li>
<li>
Нажать "<code class="literal">u</code>", "<code class="literal">U</code>",
"<code class="literal">f</code>" и "<code class="literal">g</code>" для обновления списка
пакетов и самих пакетов.
</li>
<li>
Type "<code class="literal">l</code>" to enter the package display limit as
"<code class="literal">~i(~R~i|~Rrecommends:~i)</code>" and type
"<code class="literal">M</code>" over "<code class="literal">Installed Packages</code>" as auto
installed.
</li>
<li>
Type "<code class="literal">l</code>" to enter the package display limit as
"<code class="literal">~prequired|~pimportant|~pstandard|~E</code>" and type
"<code class="literal">m</code>" over "<code class="literal">Installed Packages</code>" as
manual installed.
</li>
<li>
Type "<code class="literal">l</code>" to enter the package display limit as
"<code class="literal">~i!~M</code>" and remove unused package by typing
"<code class="literal">-</code>" over each of them after exposing them by typing
"<code class="literal">[</code>" over "<code class="literal">Installed Packages</code>".
</li>
<li>
Type "<code class="literal">l</code>" to enter the package display limit as
"<code class="literal">~i</code>" and type "<code class="literal">m</code>" over
"<code class="literal">Tasks</code>" as manual installed.
</li>
<li>
Выйдите из <code class="literal">aptitude</code>.
</li>
<li>
Запустите "<code class="literal">apt-get -s autoremove|less</code>" от имени
суперпользователя для вывода пакетов, которые не нужны по мнению системы
APT.
</li>
<li>
Снова запустите <code class="literal">aptitude</code> в интерактивном режиме и
пометьте нужные в системе пакеты меткой "<code class="literal">m</code>".
</li>
<li>
Снова запустите "<code class="literal">apt-get -s autoremove|less</code>" как root,
чтобы убедиться, что на УДАЛЕНИЕ назначены ТОЛЬКО НЕНУЖНЫЕ ВАМ пакеты.
</li>
<li>
Запустите "<code class="literal">apt-get autoremove|less</code>" от имени
суперпользователя, чтобы автоматически удалить неиспользуемые пакеты.
</li>
</ol></div>
<p>Выделение "<code class="literal">Задач</code>" ("<code class="literal">Tasks</code>") клавишей
"<code class="literal">m</code>" (метка "Вручную") может быть полезно, чтобы избежать
массового удаления пакетов в будущем.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_system_wide_upgrade"></a>2.3.5. Апгрейд системы</h3></div></div></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>При переходе на новый выпуск системы стоит подумать о возможности полной
переустановки системы, несмотря на то, что её можно просто обновить, как
описано ниже. Это может избавить вас от гор накопившегося мусора и позволит
настроить лучшую комбинацию последних версий установленных
программ. Конечно, в этом случае нужно сделать полную резервную копию старой
системы и сохранить её в безопасном месте (см. <a class="xref" href="#_backup_and_recovery" title="10.1.6. Резервное копирование и восстановление">Раздел 10.1.6, «Резервное копирование и восстановление»</a>) перед переустановкой. Я рекомендую
установить новую версию на отдельной партиции с возможностью загрузки любой
версии для более плавного перехода.</p>
</div>
<p>Для апгрейда системы нужно изменить содержимое
"<code class="literal">/etc/apt/sources.list</code>", указав там в качестве источника
пакетов архив нового релиза, и потом просто выполнить команду
"<code class="literal">aptitude update; apt-get dist-upgrade</code>".</p>
<p>Для апгрейда системы от стабильной к тестируемой или нестабильной, нужно
заменить "lenny" в "<code class="literal">/etc/apt/sources.list</code>" на
"<code class="literal">wheezy</code>" или "<code class="literal">sid</code>" (как
это описано в <a class="xref" href="#_debian_archive_basics" title="2.1.4. Основы архивов Debian">Раздел 2.1.4, «Основы архивов Debian»</a>).</p>
<p>В действительности, могут возникнуть затруднения в связи с переходом на
новые пакеты для решения тех же задач (package transition), в основном из-за
зависимостей. Чем больше разница между старой версией выпуска и новой, тем
больше проблем может возникнуть: так, для перехода от старой стабильной
версии к новой достаточно прочитать "<a class="ulink" href="http://www.debian.org/releases/stable/releasenotes" target="_top">Release
Notes</a>" и последовать указанной там процедуре для минимизации
возможных проблем.</p>
<p>Когда вы переходите от стабильного выпуска к тестируемому, до того как
последний станет новым релизом, "<a class="ulink" href="http://www.debian.org/releases/stable/releasenotes" target="_top">Release
Notes</a>" отсутствуют и не могут вам помочь. Различия между стабильным
и тестируемым выпуском постоянно увеличиваются по мере приближения времени
выхода нового стабильного выпуска и могут сделать апгрейд затруднительным.</p>
<p>В такой ситуации нужно выполнить предварительные действия для сбора
последней информации из разных источников.</p>
<div class="orderedlist"><ol type="1">
<li>
Прочитайте предыдущие "Release Notes".
</li>
<li>
Сделайте резервную копию всей системы (особенно данных и конфигурационной
информации).
</li>
<li>
Создайте загрузочный диск на случай "поломки" загрузчика.
</li>
<li>
Проинформируйте пользователей системы заранее.
</li>
<li>
Записывайте журнал обновления с помощью <code class="literal">script</code>(1).
</li>
<li>
Пометьте необходимые пакеты "unmarkauto", чтобы предотвратить их удаление
(например, "<code class="literal">aptitude unmarkauto vim</code>").
</li>
<li>
Предельно уменьшите количество установленных пакетов чтобы минимизировать
возможность конфликтов, например, удалите пакеты задач окружения рабочего
стола (desktop task packages).
</li>
<li>
Удалите "<code class="literal">/etc/apt/preferences</code>"
</li>
<li>
Обновляйтесь в разумной последовательности: "<code class="literal">старый
стабильный</code>" -- "<code class="literal">стабильный</code>" --
"<code class="literal">тестируемый</code>" -- "<code class="literal">нестабильный</code>".
</li>
<li>
После всего этого измените "<code class="literal">/etc/apt/sources.list</code>", чтобы
он указывал только на один правильный архив и выполните "<code class="literal">aptitude
update</code>".
</li>
<li>
Опционально, установите новые <span class="strong"><strong>важнейшие</strong></span>
пакеты сначала, например, "<code class="literal">aptitude install perl</code>".
</li>
<li>
Выполните "<code class="literal">apt-get -s dist-upgrade</code>", чтобы увидеть
планируемые действия.
</li>
<li>
Наконец, выполните "<code class="literal">apt-get dist-upgrade</code>".
</li>
</ol></div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>При апгрейде от одного стабильного выпуска к другому небезопасно пропускать
тот стабильный выпуск, который вышел между ними, если такой был.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>В последних "Release Notes" GCC, ядро Linux, initrd-tools, Glibc, Perl,
средства APT и др. требуют отдельного внимания в случае апгрейда системы.</p>
</div>
<p>О ежедневном обновлении unstable-системы читайте в <a class="xref" href="#_safeguarding_for_package_problems" title="2.4.3. Предосторожности на случай проблем с пакетами">Раздел 2.4.3, «Предосторожности на случай проблем с пакетами»</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_advanced_package_management_operations"></a>2.4. Различные операции с пакетами</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_advanced_package_management_operations_with_commandline"></a>2.4.1. Низкоуровневые операции с пакетами в командной строке</h3></div></div></div>
<p><code class="literal">Aptitude</code> -- это интерфейс пользователя к системе
APT. Некоторые низкоуровневые операции с пакетами не входят в его
задачи. Также есть задачи, выполнение которых пока не реализовано в
aptitude.</p>
<div class="table">
<a name="listofadvancedpagementoperations"></a><p class="title"><b>Таблица 2.13. Некоторые низкоуровневые операции с пакетами</b></p>
<div class="table-contents"><table summary="Некоторые низкоуровневые операции с пакетами" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    действие с файлом
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">COLUMNS=120 dpkg -l &lt;шаблон_имени_пакета&gt;</code>
                </td>
<td align="left">
    вывести статусы пакетов с именем соответствующим шаблону
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg -L &lt;имя_пакета&gt;</code>
                </td>
<td align="left">
    вывести список файлов, входящих в установленный в системе пакет
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg -L &lt;имя_пакета&gt; | egrep "/usr/share/man/man.*
/.+"</code>
                </td>
<td align="left">
    список man-страниц в пакете
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg -S &lt;шаблон_имени_файла&gt;</code>
                </td>
<td align="left">
    список установленных пакетов, содержащих файл с заданным именем
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">apt-file search &lt;шаблон_имени_файла&gt;</code>
                </td>
<td align="left">
    поиск пакетов, содержащих файл с заданным именем
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">apt-file list &lt;шаблон_имени_пакета&gt;</code>
                </td>
<td align="left">
    вывести содержимое пакетов с заданным именем
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg-reconfigure &lt;имя_пакета&gt;</code>
                </td>
<td align="left">
    перенастроить конкретный пакет
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg-reconfigure -p=low &lt;имя_пакета&gt;</code>
                </td>
<td align="left">
    перенастроить конкретный пакет с наибольшим контролем действий
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">configure-debian</code>
                </td>
<td align="left">
    перенастроить пакеты из полноэкранного меню
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg --audit</code>
                </td>
<td align="left">
    поиск не полностью установленных пакетов в системе
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg --configure -a</code>
                </td>
<td align="left">
    настроить все не полностью установленные пакеты
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">apt-cache policy &lt;имя_двоичного_пакета&gt;</code>
                </td>
<td align="left">
    показать информацию о версии, приоритете и архиве для выбранного пакета
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">apt-cache madison &lt;имя_пакета&gt;</code>
                </td>
<td align="left">
    показать доступные версии пакета в архивах
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">apt-cache showsrc &lt;имя_двоичного_пакета&gt;</code>
                </td>
<td align="left">
    показать информацию о пакете с исходными текстами для заданного двоичного
пакета
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">apt-get build-dep &lt;имя_пакета&gt;</code>
                </td>
<td align="left">
    установить пакеты, необходимые для сборки заданного пакета
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">apt-get source &lt;имя_пакета&gt;</code>
                </td>
<td align="left">
    получить пакет с исходным кодом (из стандартного архива)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dget &lt;URL dsc-пакета&gt;</code>
                </td>
<td align="left">
    получить пакет с исходным кодом с заданного адреса
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg-source -x &lt;имя_пакета&gt;_&lt;версия&gt;-
&lt;версия_в_debian&gt;.dsc</code>
                </td>
<td align="left">
    собрать дерево с исходным кодом из набора пакетов
("<code class="literal">*.orig.tar.gz</code>" и
<code class="literal">*.orig.tar.gz</code>"/"<code class="literal">*.debian.tar.gz</code>")
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">debuild binary</code>
                </td>
<td align="left">
    собрать пакет(ы) из локального дерева с исходными текстами
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">make-kpkg kernel_image</code>
                </td>
<td align="left">
    собрать пакет с ядром из установленных исходных текстов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">make-kpkg --initrd kernel_image</code>
                </td>
<td align="left">
    собрать пакет с ядром из установленных исходных текстов с включенным initrd
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg -i &lt;имя_пакета&gt; &lt;версия&gt;-&lt;версия_в_debian&gt;
&lt;архитектура&gt;.deb</code>
                </td>
<td align="left">
    установить пакет в систему
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">debi &lt;имя_пакета&gt; &lt;версия&gt;-&lt;версия_в_debian&gt;
&lt;архитектура&gt;.dsc</code>
                </td>
<td align="left">
    установить пакеты с исходными текстами
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg --get-selection '*' &gt; selection.txt</code>
                </td>
<td align="left">
    сохранить статусы уровня dpkg для всех пакетов в файл
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dpkg --set-selection &lt; selection.txt</code>
                </td>
<td align="left">
    установить статусы пакетов уровня dpkg согласно информации из файла
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">echo &lt;имя_пакета&gt; hold | dpkg --set-selection</code>
                </td>
<td align="left">
    set <code class="literal">dpkg</code> level package selection state for a package to
<span class="strong"><strong>hold</strong></span> (equivalent to "<code class="literal">aptitude
hold &lt;package_name&gt;</code>")
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Низкоуровневые средства работы с пакетами (например, "<code class="literal">dpkg -i
...</code>" или "<code class="literal">debi ...</code>") должны использоваться с
осторожностью, потому что они не проверяют зависимости. Ключ
"<code class="literal">--force-all</code>" команды "<code class="literal">dpkg</code>"(1) и ей
подобных предназначена для использования только специалистами в Debian: если
вы не понимаете, как они работают, это может погубить всю систему.</p>
</div>
<p>Возьмите на заметку!</p>
<div class="itemizedlist"><ul type="disc">
<li>
Все команды конфигурирования и установки пакетов должны выполняться от имени
root.
</li>
<li>
В отличие от <code class="literal">aptitude</code>, использующей регулярные выражения
(см. <a class="xref" href="#_regular_expressions" title="1.6.2. Регулярные выражения">Раздел 1.6.2, «Регулярные выражения»</a>), другие команды "умеют" только
простейшие шаблоны, такие как shell glob (см. <a class="xref" href="#_shell_glob" title="1.5.6. Шаблоны для имён файлов: shell glob">Раздел 1.5.6, «Шаблоны для имён файлов: shell glob»</a>).
</li>
<li>
<code class="literal">apt-file</code>(1) из одноимённого пакета требует обновления
своей базы с помощью команды "<code class="literal">apt-file update</code>".
</li>
<li>
<code class="literal">configure-debian</code>(8) из одноимённого пакета использует
<code class="literal">dpkg-reconfigure</code>(8).
</li>
<li>
<code class="literal">dpkg-reconfigure</code>(8) запускает установочные сценарии
пакетов, используя систему <code class="literal">debconf</code>(1).
</li>
<li>
"<code class="literal">apt-get build-dep</code>", "<code class="literal">apt-get source</code>"
и "<code class="literal">apt-cache showsrc</code>" работают при наличии строчки с
"<code class="literal">deb-src</code>" в "<code class="literal">/etc/apt/sources.list</code>"
</li>
<li>
<code class="literal">dget</code>(1), <code class="literal">debuild</code>(1) и
<code class="literal">debi</code>(1) входят в пакет <code class="literal">devscripts</code>.
</li>
<li>
Процедура создания пакетов для системы с использованием "<code class="literal">apt-get
source</code>" описана в <a class="xref" href="#_porting_a_package_to_the_stable_system" title="2.7.10. Портирование пакета для стабильной системы">Раздел 2.7.10, «Портирование пакета для стабильной системы»</a>.
</li>
<li>
<code class="literal">make-kpkg</code> требует пакет
"<code class="literal">kernel-package</code>" (см. <a class="xref" href="#_the_kernel" title="9.7. Ядро">Раздел 9.7, «Ядро»</a>).
</li>
<li>
создание пакетов описано в <a class="xref" href="#_making_debian_package" title="12.11. Создание пакета Debian">Раздел 12.11, «Создание пакета Debian»</a>.
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_verification_of_installed_package_files"></a>2.4.2. Проверка контрольных сумм установленных пакетами файлов</h3></div></div></div>
<p>Пакет <code class="literal">debsums</code> позволяет проверять контрольные суммы
пакетов по информации из
"<code class="literal">/var/lib/dpkg/info/*.md5sums</code>". Там находятся контрольные
суммы каждого файла в каждом пакете. О контрольных суммах MD5 читайте в
<a class="xref" href="#_the_md5_sum" title="10.4.5. The MD5 sum">Раздел 10.4.5, «The MD5 sum»</a>.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Поскольку база контрольных сумм может быть искажена взломщиком,
<code class="literal">debsums</code>(1) причислена к средствам безопасности с
ограниченным использованием. Вообще, это средство предназначено для
отслеживания изменений, сделанных системным администратором, или ошибок
устройств-носителей информации.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_safeguarding_for_package_problems"></a>2.4.3. Предосторожности на случай проблем с пакетами</h3></div></div></div>
<p>Многие предпочитают пользоваться <span class="strong"><strong>нестабильным</strong></span> выпуском Debian из-за новых
возможностей и пакетов. Это делает систему менее устойчивой к повреждениям
из-за ошибок в критичных пакетах.</p>
<p><code class="literal">apt-listbugs</code> получает из Debian BTS (Bug Tracking System)
информацию об ошибках в пакетах. Это средство можно использовать, чтобы
обезопасить систему от установки пакетов с критическими ошибками.</p>
<p><code class="literal">apt-listchanges</code> получает важные новости из "NEWS.Debian"
при апгрейде с системой APT.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_searching_on_the_package_meta_data"></a>2.4.4. Поиск по мета-данным пакета</h3></div></div></div>
<p>Хотя использование сайта http://packages.debian.org/ упрощает несложные
способы поиска по мета-данным пакетов в наше время, рассмотрим здесь и более
традиционные средства.</p>
<p><code class="literal">grep-dctrl</code>(1), <code class="literal">grep-status</code>(1) и
<code class="literal">grep-available</code>(1) могут использоваться для поиска по
контрольным файлам системы пакетов. Это быстрые и гибкие средства поиска.</p>
<p>"<code class="literal">dpkg -S &lt;шаблон_имени_файла&gt;</code>" ищет имена пакетов,
содержащих файлы с заданным шаблоном именем (среди установленных с помощью
<code class="literal">dpkg</code>). Файлы, созданные установочными сценариями, не
учитываются (они не входят в пакет, а создаются при установке).</p>
<p>Если вам нужно выполнить ещё более сложный поиск, используйте "<code class="literal">grep
-e шаблон *</code>" в каталоге
"<code class="literal">/var/lib/dpkg/info/</code>". Это позволит "обыскать"
установочные сценарии и диалоги.</p>
<p><code class="literal">apt-rdepends</code> рекурсивно выводит список зависимостей
выбранного пакета.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_debian_package_management_internals"></a>2.5. "Внутренности" системы управления пакетами в Debian</h2></div></div></div>
<p>Посмотрим на нижние уровни системы управления пакетами в Debian. Это поможет
создавать собственные решения некоторых проблем.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_archive_meta_data"></a>2.5.1. Мета-данные архива</h3></div></div></div>
<p>Мета-данные для каждого выпуска находятся в
"<code class="literal">dist/&lt;кодовое_имя_выпуска&gt;</code>" на каждом зеркале
архивов Debian, например, на
"<code class="literal">http://ftp.us.debian.org/debian/</code>". Структуру этого
архива можно изучить с помощью браузера. Здесь есть 6 типов файлов с
мета-данными.</p>
<div class="table">
<a name="thecontentofthednarchivemetadata"></a><p class="title"><b>Таблица 2.14. Мета-данные архива Debian</b></p>
<div class="table-contents"><table summary="Мета-данные архива Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл
    </th>
<th align="left">
    путь
    </th>
<th align="left">
    содержимое
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">Release</code>
                </td>
<td align="left">
    верхний каталог каждого конкретного выпуска Debian
    </td>
<td align="left">
    описание архива и контрольные суммы управляющих файлов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Release.gpg</code>
                </td>
<td align="left">
    верхний каталог каждого конкретного выпуска Debian
    </td>
<td align="left">
    цифровая подпись для файла "<code class="literal">Release</code>" подписанная ключом
архива
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Contents-&lt;архитектура&gt;</code>
                </td>
<td align="left">
    верхний каталог каждого конкретного выпуска Debian
    </td>
<td align="left">
    список всех файлов всех пакетов в соответствующем архиве
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Release</code>
                </td>
<td align="left">
    верхний каталог
&lt;имя_выпуска&gt;/&lt;область_архива&gt;/&lt;архитектура_архива&gt;
    </td>
<td align="left">
    описание архива используемое <code class="literal">apt_preferences</code>(5)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Packages</code>
                </td>
<td align="left">
    верхний каталог
&lt;имя_выпуска&gt;/&lt;область_архива&gt;/binary-&lt;архитектура&gt;
    </td>
<td align="left">
    все файлы <code class="literal">debian/control</code> всех двоичных пакетов, сложенные
в один файл
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">Sources</code>
                </td>
<td align="left">
    верхний каталог &lt;имя_выпуска&gt;/&lt;область_архива&gt;/source
    </td>
<td align="left">
    все файлы <code class="literal">debian/control</code> всех пакетов с исходным кодом 
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Эти файлы в архиве сжаты для снижения сетевого трафика.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_top_level_release_file_and_authenticity"></a>2.5.2. Файл верхнего уровня "Release" и аутентичность</h3></div></div></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Файл "<code class="literal">Release</code>" верхнего уровня используется для
подписывания архива системой <span class="strong"><strong>secure APT</strong></span>.</p>
</div>
<p>Каждый раздел архива содержит файл "<code class="literal">Release</code>" верхнего
уровня, например,
"<code class="literal">http://ftp.us.debian.org/debian/dists/unstable/Release</code>",
который выглядит так:</p>
<pre class="screen">Origin: Debian
Label: Debian
Suite: unstable
Codename: sid
Date: Sat, 26 Jan 2008 20:13:58 UTC
Architectures: alpha amd64 arm hppa hurd-i386 i386 ia64 m68k mips mipsel powerpc s390 sparc
Components: main contrib non-free
Description: Debian x.y Unstable - Not Released
MD5Sum:
 e9f11bc50b12af7927d6583de0a3bd06 22788722 main/binary-alpha/Packages
 43524d07f7fa21b10f472c426db66168  6561398 main/binary-alpha/Packages.gz
...</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Здесь можно видеть причины, по которым я использую термины "статус"
("suite") и "кодовое имя" ("codename") в <a class="xref" href="#_debian_archive_basics" title="2.1.4. Основы архивов Debian">Раздел 2.1.4, «Основы архивов Debian»</a>. Слово "выпуск" ("distribution")
используется, когда имеется ввиду и "статус" и "кодовое имя". Все имена
"областей" архива ("area"), входящих в конкретный архив перечислены в графе
"Components".</p>
</div>
<p>Целостность файла "<code class="literal">Release</code>" проверяется криптографической
инфраструктурой "<a class="ulink" href="http://wiki.debian.org/SecureApt" target="_top">secure apt</a>".</p>
<div class="itemizedlist"><ul type="disc">
<li>
Криптографическая подпись в файле "<code class="literal">Release.gpg</code>" создаётся
из аутентичного файла "<code class="literal">Release</code>" верхнего уровня и
секретного ключа архива Debian.
</li>
<li>
<p>
Публичный ключ архива в установленной системе --
"<code class="literal">/etc/apt/trusted.gpg</code>" Он используется:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
автоматически, если установлены ключи (keyring) вместе со свежим пакетом
<code class="literal">base-files</code>, или
</li>
<li>
вручную с помощью <code class="literal">gpg</code> или <code class="literal">apt-key</code>,
вместе с <a class="ulink" href="http://ftp-master.debian.org/" target="_top">последним открытым
ключом архива, опубликованным на ftp-master.debian.org</a>.
</li>
</ul></div>
</li>
<li>
Система <span class="strong"><strong>Secure APT</strong></span> проверяет целостность
полученного файла "<code class="literal">Release</code>" верхнего уровня
криптографически с помощью этого "<code class="literal">Release.gpg</code>" и
открытого ключа архива Debian, который хранится в
"<code class="literal">/etc/apt/trusted.gpg</code>".
</li>
</ul></div>
<p>Целостность всех файлов "<code class="literal">Packages</code>" и
"<code class="literal">Sources</code>" проверяется с помощью сумм MD5, которые
записаны в файле "<code class="literal">Release</code>" верхнего уровня. Целостность
всех файлов пакетов проверяется также с помощью сумм MD5, которые хранятся в
соответствующих "<code class="literal">Packages</code>" и
"<code class="literal">Sources</code>". См. <code class="literal">debsums</code>(1) и <a class="xref" href="#_verification_of_installed_package_files" title="2.4.2. Проверка контрольных сумм установленных пакетами файлов">Раздел 2.4.2, «Проверка контрольных сумм установленных пакетами файлов»</a>.</p>
<p>Поскольку проверка криптографической подписи требует больших ресурсов
процессора, чем проверка MD5-суммы, для каждого пакета используется именно
MD5, в то время как для файлов "<code class="literal">Release</code>" верхнего уровня
используется шифрование. Таким образом, достигается <a class="ulink" href="http://www.infodrom.org/~joey/Writing/Linux-Journal/secure-apt/" target="_top">хороший уровень безопасности и
производительности</a>. (См. <a class="xref" href="#_data_security_infrastructure" title="10.4. Инфраструктура защиты данных">Раздел 10.4, «Инфраструктура защиты данных»</a>).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_archive_level_release_files"></a>2.5.3. Файл "Release" уровня архива</h3></div></div></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Файл "<code class="literal">Release</code>" уровня архива используется для правил
<code class="literal">apt_preferences</code>(5).</p>
</div>
<p>Существуют файлы "<code class="literal">Release</code>" для всех архивов, определённых
строчкой "<code class="literal">deb</code>" в
"<code class="literal">/etc/apt/sources.list</code>", например
"<code class="literal">http://ftp.us.debian.org/debian/dists/sid/main/binary-amd64/Release</code>"
или
"<code class="literal">http://ftp.us.debian.org/debian/dists/sid/main/binary-amd64/Release</code>".</p>
<pre class="screen">Archive: unstable
Component: main
Origin: Debian
Label: Debian
Architecture: amd64</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Для записи "<code class="literal">Archive</code>" в <a class="ulink" href="http://ftp.us.debian.org/debian/" target="_top">Debian</a> используются статусы
("<code class="literal">stable</code>", "<code class="literal">testing</code>",
"<code class="literal">unstable</code>", ...). В системе <a class="ulink" href="http://archive.ubuntu.com/ubuntu/" target="_top">Ubuntu</a> для этой записи используются кодовые
имена ("<code class="literal">dapper</code>", "<code class="literal">feisty</code>",
"<code class="literal">gutsy</code>", "<code class="literal">hardy</code>",
"<code class="literal">intrepid</code>", ...).</p>
</div>
<p>Для некоторых архивов (таких как "<code class="literal">experimental</code>",
"<code class="literal">volatile-sloppy</code>" и
"<code class="literal">lenny-backports</code>"), содержащих пакеты, не предназначенные
для автоматической установки, есть дополнительная строчка ("<code class="literal">http://
ftp.us.debian.org/debian/dists/experimental/main/binary-amd64/Release</code>"):</p>
<pre class="screen">Archive: experimental
Component: main
Origin: Debian
Label: Debian
NotAutomatic: yes
Architecture: amd64</pre>
<p>Заметьте, что для обычного архива без строчки "<code class="literal">NotAutomatic:
yes</code>", приоритет (Pin-Priority) по умолчанию равен 500. Особые
архивы с "<code class="literal">NotAutomatic: yes</code>" получают приоритет
1. (См. <code class="literal">apt_preferences</code>(5) и <a class="xref" href="#_tweaking_candidate_version" title='2.7.3. "Подмена" предпочтительной версии пакета'>Раздел 2.7.3, «"Подмена" предпочтительной версии пакета»</a>).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_fetching_of_the_meta_data_for_the_package"></a>2.5.4. Получение мета-данных пакетов</h3></div></div></div>
<p>При использовании средств APT (<code class="literal">aptitude</code>,
<code class="literal">apt-get</code>, <code class="literal">synaptic</code>,
<code class="literal">apt-file</code>, <code class="literal">auto-apt</code> …) необходимо,
чтобы локальные копии мета-данных архивов обновлялись. Эти локальные копии
хранятся в "<code class="literal">/var/lib/apt/lists/</code>" и используют имена, по
которым можно определить имя <code class="literal">выпуска</code> (distribution),
<code class="literal">область</code> (area) и <code class="literal">архитектуру</code>, для
которой предназначен архив. Имена формируются в соответствии с записями в
"<code class="literal">/etc/apt/sources.list</code>". (См. <a class="xref" href="#_debian_archive_basics" title="2.1.4. Основы архивов Debian">Раздел 2.1.4, «Основы архивов Debian»</a>)</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;выпуск&gt;_Release</code>"
</li>
<li>
"<code class="literal">/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;выпуск&gt;_Release.gpg</code>"
</li>
<li>
"<code class="literal">/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;выпуск&gt;_&lt;область&gt;_binary-&lt;архитектура&gt;_Packages</code>"
</li>
<li>
"<code class="literal">/var/lib/apt/lists/ftp.us.debian.org_debian_dists_&lt;выпуск&gt;_&lt;область&gt;_source_Sources</code>"
</li>
<li>
"<code class="literal">/var/cache/apt/apt-file/ftp.us.debian.org_debian_dists_&lt;выпуск&gt;_Contents-&lt;архитектура&gt;.gz</code>"
</li>
</ul></div>
<p>Первые 4 типа файлов используются всеми относящимися к делу программами и
обновляются такими командами, как "<code class="literal">apt-get update</code>" и
"<code class="literal">aptitude update</code>". Файл "<code class="literal">_Packages</code>"
обновляется, если в "<code class="literal">/etc/apt/sources.list</code>" есть строчка
"<code class="literal">deb</code>", а "<code class="literal">_Sources</code>" -- если есть
строчка "<code class="literal">deb-src</code>".</p>
<p>"<code class="literal">Packages</code>" и "<code class="literal">Sources</code>" содержат запись
"<code class="literal">Filename:</code>", указывающую на местоположение двоичных
пакетов и пакетов с исходными текстами. В настоящее время они находятся в
каталоге "<code class="literal">pool/</code>" для облегчения обновлений между
релизами.</p>
<p>Локальные копии файлов "<code class="literal">Packages</code>" могут использоваться
для поиска по пакетам, например, с помощью <code class="literal">aptitude</code>. Есть
также специализированное средство <code class="literal">grep-dctrl</code>(1), которым
можно "обыскать" файлы "<code class="literal">Packages</code>" и
"<code class="literal">Sources</code>".</p>
<p>Локальные копии "<code class="literal">Contents-&lt;архитектура&gt;</code>"
обновляются с помощью "<code class="literal">apt-file update</code>" и хранятся в
другом
месте. См. <code class="literal">apt-file</code>(1). (<code class="literal">Auto-apt</code>
использует другой путь для копии
"<code class="literal">Contents-&lt;архитектура&gt;.gz</code>" по умолчанию).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_package_state_for_apt"></a>2.5.5. Статус пакетов в системе APT</h3></div></div></div>
<p>В добавление к полученным извне мета-данным, APT (после
<code class="literal">lenny</code>) хранит собственную, им собираемую информацию о
состоянии пакетов в "<code class="literal">/var/lib/apt/extended_states</code>". Эта
информация используется для отслеживания всех пакетов, установленных
автоматически.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_package_state_for_aptitude"></a>2.5.6. Статус пакетов в aptitude</h3></div></div></div>
<p>Кроме полученных извне мета-данных, <code class="literal">aptitude</code>, как и APT,
хранит собственную, только им используемую информацию о установленных
пакетах. Она находится в "<code class="literal">/var/lib/aptitude/pkgstates</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_local_copies_of_the_fetched_packages"></a>2.5.7. Локальные копии полученных пакетов</h3></div></div></div>
<p>Все пакеты, полученные из любых архивов с помощью средств APT хранятся в
"<code class="literal">/var/cache/apt/archives</code>" до тех пор, пока не будут
удалены.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_debian_package_file_names"></a>2.5.8. Имена пакетов Debian</h3></div></div></div>
<p>Структура имён пакетов в Debian заслуживает особого внимания.</p>
<div class="table">
<a name="thenamestructureofdebianpackages"></a><p class="title"><b>Таблица 2.15. Строение имени пакетов в Debian</b></p>
<div class="table-contents"><table summary="Строение имени пакетов в Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    тип пакета
    </th>
<th align="left">
    структура имени
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    Двоичный пакет (<code class="literal">deb</code>)
    </td>
<td align="left">
                  <code class="literal">&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;-&lt;architecture&gt;.deb</code>
                </td>
</tr>
<tr>
<td align="left">
    Двоичный пакет (<code class="literal">udeb</code>)
    </td>
<td align="left">
                  <code class="literal">&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;-&lt;architecture&gt;.udeb</code>
                </td>
</tr>
<tr>
<td align="left">
    Пакет с исходным кодом от разработчиков данной программы (upstream source)
    </td>
<td align="left">
                  <code class="literal">&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;.orig.tar.gz</code>
                </td>
</tr>
<tr>
<td align="left">
    формат версии <code class="literal">1.0</code>: пакет с исходными текстами (изменения
от разработчиков Debian)
    </td>
<td align="left">
                  <code class="literal">&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;.diff.gz</code>
                </td>
</tr>
<tr>
<td align="left">
    формат версии <code class="literal">3.0 (quilt)</code>: пакет с исходными текстами
(изменения от разработчиков Debian)
    </td>
<td align="left">
                  <code class="literal">&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;.debian.tar.gz</code>
                </td>
</tr>
<tr>
<td align="left">
    Пакет с исходным кодом (описание, мета-данные)
    </td>
<td align="left">
                  <code class="literal">&lt;package-name&gt;_&lt;epoch&gt;:&lt;upstream-version&gt;-&lt;debian.version&gt;.dsc</code>
                </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Здесь описаны лишь основные форматы пакетов с исходными
текстами. См. <code class="literal">dpkg-source</code>(1).</p>
</div>
<div class="table">
<a name="theusablecharactbianpackagenames"></a><p class="title"><b>Таблица 2.16. Символы, используемые в различных частях имени пакета Debian</b></p>
<div class="table-contents"><table summary="Символы, используемые в различных частях имени пакета Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    часть имени
    </th>
<th align="left">
    используемые символы (регулярное выражение)
    </th>
<th align="left">
    обязательность наличия в имени
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">&lt;package-name&gt;</code>
                </td>
<td align="left">
                  <code class="literal">[a-z,A-Z,0-9,.,<code class="literal">,-]</code></code>
                </td>
<td align="left">
    обязательно
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">&lt;epoch&gt;:</code>
                </td>
<td align="left">
                  <code class="literal">[0-9]+:</code>
                </td>
<td align="left">
    опционально
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">&lt;upstream-version&gt;</code>
                </td>
<td align="left">
                  <code class="literal">[a-z,A-Z,0-9,.,<code class="literal">,-,:]</code></code>
                </td>
<td align="left">
    обязательно
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">&lt;debian.version&gt;</code>
                </td>
<td align="left">
                  <code class="literal">[a-z,A-Z,0-9,.,<code class="literal">,~]</code></code>
                </td>
<td align="left">
    опционально
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Вы можете сравнить порядок версий с помощью <code class="literal">dpkg</code>(1),
например "<code class="literal">dpkg --compare-versions 7.0 gt 7.~pre1 ; echo
$?</code>".</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Программа установки Debian (debian-installer, d-i) использует пакеты
<code class="literal">udeb</code> вместо <code class="literal">deb</code>. Пакеты
<code class="literal">udeb</code> -- это те же пакеты, что и <code class="literal">deb</code>,
но с предельно уменьшенным размером за счёт удаления нефункционального
содержимого (например, документации). Это позволяет сэкономить место. Как
<code class="literal">deb</code>, так и <code class="literal">udeb</code>-пакеты используют
одинаковую структуру. Символ "<code class="literal">u</code>" здесь означает "микро".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_dpkg_command"></a>2.5.9. Команда dpkg</h3></div></div></div>
<p><code class="literal">dpkg</code>(1) -- это средство самого нижнего уровня в системе
управления пакетами Debian. Оно обладает большими возможностями и должно
использоваться с осторожностью.</p>
<p>При установке пакета "<code class="literal">&lt;имя_пакета&gt;</code>"
<code class="literal">dpkg</code> выполняет следующие действия.</p>
<div class="orderedlist"><ol type="1">
<li>
Распаковывает файл deb (как "<code class="literal">ar -x</code>")
</li>
<li>
Выполняет сценарий "<code class="literal">&lt;имя_пакета&gt;.preinst</code>" с помощью
<code class="literal">debconf</code>(1).
</li>
<li>
Устанавливает содержимое пакета в систему (как "<code class="literal">tar -x</code>").
</li>
<li>
Выполняет сценарий "<code class="literal">&lt;имя_пакета&gt;.postinst</code>" с
помощью <code class="literal">debconf</code>(1).
</li>
</ol></div>
<p><code class="literal">debconf</code> предоставляет стандартный способ взаимодействия с
пользователем, поддерживающий I18N и L10N (см. <a class="xref" href="#_i18n_and_l10n" title="Глава 8. I18N и L10N">Глава 8, <i>I18N и L10N</i></a>).</p>
<div class="table">
<a name="thenotablefilescreatedbydpkg"></a><p class="title"><b>Таблица 2.17. Значимые файлы, создаваемые <code class="literal">dpkg</code></b></p>
<div class="table-contents"><table summary="Значимые файлы, создаваемые dpkg" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл
    </th>
<th align="left">
    описание содержимого
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.conffiles</code>
                </td>
<td align="left">
    список конфигурационных файлов (может изменяться пользователем)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.list</code>
                </td>
<td align="left">
    список файлов и каталогов, устанавливаемых пакетом
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.md5sums</code>
                </td>
<td align="left">
    список хэшей MD5 для файлов, устанавливаемых пакетом
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.preinst</code>
                </td>
<td align="left">
    сценарий, выполняемый перед установкой пакета
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.postinst</code>
                </td>
<td align="left">
    сценарий, выполняемый после установки пакета
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.prerm</code>
                </td>
<td align="left">
    сценарий, выполняемый перед удалением пакета
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.postrm</code>
                </td>
<td align="left">
    сценарий, выполняемый после удаления пакета
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.config</code>
                </td>
<td align="left">
    сценарий для системы <code class="literal">debconf</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/alternatives/&lt;имя_пакета&gt;</code>
                </td>
<td align="left">
    информация об альтернативных средствах и их приоритетах для команды
<code class="literal">update-alternatives</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/available</code>
                </td>
<td align="left">
    информация о доступности для всех пакетов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/diversions</code>
                </td>
<td align="left">
    информация об отклонённых файлах, используемая <code class="literal">dpkg</code>(1) и
устанавливаемая dpkg-divert(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/statoverride</code>
                </td>
<td align="left">
    информация об изменениях прав доступа к устанавливаемым файлам, используемая
<code class="literal">dpkg</code>(1) и устанавливаемая dpkg-statoverride(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/status</code>
                </td>
<td align="left">
    состояния (успешность установки) всех пакетов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/lib/dpkg/status-old</code>
                </td>
<td align="left">
    начальная резервная копия файла "<code class="literal">/var/lib/dpkg/status</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/var/backups/dpkg.status*</code>
                </td>
<td align="left">
    итоговая резервная копия первой резервной копии файла
"<code class="literal">/var/lib/dpkg/status</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Файл "<code class="literal">status</code>" также используется такими средствами, как
<code class="literal">dpkg</code>(1), "<code class="literal">dselect update</code>" и
"<code class="literal">apt-get -u dselect-upgrade</code>".</p>
<p>Средство <code class="literal">grep-dctrl</code>(1) может искать по файлам
"<code class="literal">status</code>" и "<code class="literal">available</code>".</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Программы <a class="ulink" href="http://www.debian.org/devel/debian-installer/" target="_top">установки Debian</a>
используют команду <code class="literal">udpkg</code> для работы с пакетами
<code class="literal">udeb</code>. Программа <code class="literal">udpkg</code> -- урезанная
(stripped down) версия <code class="literal">dpkg</code>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_update_alternative_command"></a>2.5.10. Команда update-alternative</h3></div></div></div>
<p>Часто встречаются разные средства, которые выполняют похожие задачи, да ещё
и имеют команды с традиционно одинаковыми именами. В Debian есть механизм
<code class="literal">update-alternatives</code>, позволяющий таким программам мирно
сосуществовать в одной системе. Например, вы можете выбрать, какую программу
запускать по команде <code class="literal">vi</code> -- <code class="literal">vim</code> или
<code class="literal">nvi</code>, если установлены оба пакета.</p>
<pre class="screen">$ ls -l $(type -p vi)
lrwxrwxrwx 1 root root 20 2007-03-24 19:05 /usr/bin/vi -&gt; /etc/alternatives/vi
$ sudo update-alternatives --display vi
...
$ sudo update-alternatives --config vi
  Selection    Command
 ----------------------------------------------
      1        /usr/bin/vim
*+    2        /usr/bin/nvi

Enter to keep the default[*], or type selection number: 1</pre>
<p>Вызов выбранного средства осуществляется с помощью символических ссылок,
хранящихся в "<code class="literal">/etc/alternatives/</code>. Имеющиеся варианты
выбора находятся в "<code class="literal">/var/lib/dpkg/alternatives/</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_dpkg_statoverride_command"></a>2.5.11. Команда dpkg-statoverride</h3></div></div></div>
<p>Механизм <span class="strong"><strong>Stat override</strong></span>, предоставляемый
командой <code class="literal">dpkg-statoverride</code>(8), позволяет команде
<code class="literal">dpkg</code>(1) проставлять нужные права и владельцев для
заданных устанавливаемых <span class="strong"><strong>файлов</strong></span>. Если
указан параметр "<code class="literal">--update</code>" и файл существует, новые права
доступа и владелец устанавливаются сразу же.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Если администратор установит эти права вручную, без команды
dpkg-statoverride, то заданные значения будут сброшены в следующий же раз,
когда файл будет обновлён. Команда dpkg-statoverride сохраняет указанные
пользователем значения в "/var/lib/dpkg/statoverride".</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Когда я говорю здесь <span class="strong"><strong>файл</strong></span>, это можно
понимать также как имя любого объекта файловой системы, который используется
командой <code class="literal">dpkg</code>, включая каталоги, файлы устройств и т.д.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_dpkg_divert_command"></a>2.5.12. Команда dpkg-divert</h3></div></div></div>
<p>При установке пакетов существует способ заставить некоторые файлы
устанавливаться в нужные места, а не по умолчанию. Это делается с помощью
команды <code class="literal">dpkg-divert</code>, которая сохранит заданные значения в
файле <span class="strong"><strong>diversions</strong></span>. Однако
<code class="literal">dpkg-divert</code> предназначен для использования в установочных
сценариях пакетов, а не системным администратором.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_recovery_from_a_broken_system"></a>2.6. Восстановление поломавшейся системы</h2></div></div></div>
<p>Пользователь <code class="literal">unstable</code>-системы должен быть в состоянии
восстановить её, если какие-то пакеты сломались.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Некоторые методы, приведённые здесь, содержат весьма рискованные
действия. Вы предупреждены!</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_incompatibility_with_old_user_configuration"></a>2.6.1. Несовместимости со старыми настройками пользователя</h3></div></div></div>
<p>Если GUI-программа начинает вести себя нестабильно после серьёзного
обновления версии разработчиков этой программы (upstream), нужно заподозрить
старую конфигурацию, созданную этой программой. Если программа работает
нормально под новой, созданной для её проверки учётной записью пользователя,
то это предположение верно. (Это ошибка создания пакетов, которая обычно
исправляется сопровождающим пакет.)</p>
<p>Чтобы восстановить стабильность в этом случае, переместите работающую
конфигурацию в свой профиль и перезапустите программу. Вам может
потребоваться заглянуть в старые конфигурационные файлы, чтобы восстановить
нужную работоспособность, так что не удаляйте их сразу.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_different_packages_with_overlapped_files"></a>2.6.2. Различные пакеты, устанавливающие файлы с одинаковыми именами</h3></div></div></div>
<p>Системы управления пакетами уровня архива, такие как
<code class="literal">aptitude</code>(8) или <code class="literal">apt-get</code>(1), даже не
пытаются установить пакеты, если для этого придётся перезаписывать файлы из
других пакетов. Для этого существуют зависимости пакетов, не допускающие
установки одинаковых файлов. (См. <a class="xref" href="#_package_dependencies" title="2.1.5. Зависимости пакета">Раздел 2.1.5, «Зависимости пакета»</a>.)</p>
<p>Ошибки сопровождающего пакет (мейнтейнера) или установка несовместимых
программ из смеси разных архивов (см. <a class="xref" href="#_packages_from_mixed_source_of_archives" title="2.7.2. Пакеты из различных источников и архивов">Раздел 2.7.2, «Пакеты из различных источников и архивов»</a>) системным
администратором может создать ситуацию с неправильно определёнными
зависимостями пакетов. В этом случае, если вы устанавливаете пакет (с
помощью <code class="literal">aptitude</code> или <code class="literal">apt-get</code>), и для
этого нужно перезаписать уже установленные файлы,
<code class="literal">dpkg</code>(1), которая распаковывает пакет, сообщает вызвавшей
её программе, но не перезаписывает файлы.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Использование пакетов из несовместимых или непредназначенных для Debian
архивов ведёт к опасности, связанной с запуском установочных сценариев,
которые выполняются от имени суперпользователя и могут выполнить любые
действия в вашей системе. Только команда <code class="literal">dpkg</code>(1) защищает
от файлы от перезаписи во время распаковки.</p>
</div>
<p>Вы можете исправить такую нарушенную установку, удалив сначала мешающий
<code class="literal">&lt;старый_пакет&gt;</code> вместе с конфигурационными файлами.</p>
<pre class="screen">$ sudo dpkg -P &lt;старый_пакет&gt;</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_fixing_broken_package_script"></a>2.6.3. Как исправить неработающий установочный сценарий</h3></div></div></div>
<p>Когда команда в установочном сценарии возвращает ошибку по какой-либо
причине и сценарий аварийно завершается, система управления пакетами
останавливает все свои действия завершается, лишь частично установив
пакеты. Когда в сценариях удаления пакета оказывается ошибка, этот пакет
становится невозможно удалить.</p>
<p>В этом случае, если возникли проблемы с пакетом
"<code class="literal">&lt;имя_пакета&gt;</code>", вам нужно заглянуть в следующие
установочные сценарии.</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.preinst</code>"
</li>
<li>
"<code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.postinst</code>"
</li>
<li>
"<code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.prerm</code>"
</li>
<li>
"<code class="literal">/var/lib/dpkg/info/&lt;имя_пакета&gt;.postrm</code>"
</li>
</ul></div>
<p>Можно использовать следующую простую технику, чтобы попробовать избавиться
от проблемы.</p>
<div class="itemizedlist"><ul type="disc">
<li>
закомментируйте строчки, вызывающие ошибку с помощью "<code class="literal">#</code>"
</li>
<li>
поставьте вместо них форсированный возврат успешного завершения командой
"<code class="literal">|| true</code>"
</li>
</ul></div>
<p>Запустите вручную конфигурирование частично установленных пакетов следующей
командой.</p>
<pre class="screen"># dpkg --configure -a</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_rescue_with_the_dpkg_command"></a>2.6.4. Восстановление с помощью команды dpkg</h3></div></div></div>
<p>Поскольку <code class="literal">dpkg</code> -- средство очень низкого уровня в
системе, оно может работать даже в очень плохих ситуациях, когда система не
загружается полностью и сетевые соединения недоступны. Допустим, что пакет
<code class="literal">foo</code> оказался нерабочим и должен быть заменён.</p>
<p>Вы всё ещё можете найти сохранённую копию старой версии пакета
<code class="literal">foo</code> в кэше пакетов, в каталоге
"<code class="literal">/var/cache/apt/archives/</code>". Если её там нет, вам придётся
как-нибудь получить её из архива <a class="ulink" href="http://snapshot.debian.net/" target="_top">http://snapshot.debian.net/</a> или
скопировать из кэша другой системы.</p>
<p>Если вы можете загрузить систему, установить нужный пакет можно такой
командой.</p>
<pre class="screen"># dpkg -i /путь/к/пакету_&lt;старой_версии&gt;_&lt;для_архитектуры&gt;.deb</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если система не настолько повреждена и нормально загружается, можно
откатиться с помощью средств более высокого уровня системы APT. См. <a class="xref" href="#_emergency_downgrading" title="2.7.7. Аварийный откат системы">Раздел 2.7.7, «Аварийный откат системы»</a>.</p>
</div>
<p>Если система не загружается с жёсткого диска, нужно найти другой способ
загрузки.</p>
<div class="orderedlist"><ol type="1">
<li>
Загрузите систему с установочного диска Debian в режиме восстановления.
</li>
<li>
Примонтируйте диск с незагружающейся системой в каталог
"<code class="literal">/target</code>".
</li>
<li>
Установите старую версию пакета <code class="literal">foo</code> следующей командой.
</li>
</ol></div>
<pre class="screen"># dpkg --root /target -i /путь/к/пакету_&lt;старой_версии&gt;_&lt;для_архитектуры&gt;.deb</pre>
<p>Этот метод работает, даже если на жёстком диске в нерабочем состоянии
оказалась программа <code class="literal">dpkg</code>.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Можно загрузиться с любой системой GNU/Linux на жёстком диске, Live
GNU/Linux CD, загрузочной флэшке или с помощью сети и восстановить нерабочую
систему.</p>
</div>
<p>Если попытка установить пакет таким способом приводит к ошибке из-за
нарушений зависимостей, но вам действительно необходимо выполнить это как
последнее средство, вы можете отвергнуть необходимость установки
зависимостей с помощью "<code class="literal">--ignore-depends</code>",
"<code class="literal">--force-depends</code>" и других ключей команды
<code class="literal">dpkg</code>. Если вы сделаете это, вам потребуются значительные
усилия позднее, чтобы восстановить необходимые зависимости. Смотрите
подробности в <code class="literal">dpkg</code>(8).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Когда работоспособность системы серьёзно нарушена, вам нужно сделать
резервную копию всей системы и положить её в безопасное место (см. <a class="xref" href="#_backup_and_recovery" title="10.1.6. Резервное копирование и восстановление">Раздел 10.1.6, «Резервное копирование и восстановление»</a>), а потом выполнить новую установку. Это
требует меньших затрат времени и в итоге приводит к лучшим результатам.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_recovering_package_selection_data"></a>2.6.5. Восстановление данных об установленных пакетах</h3></div></div></div>
<p>Если "<code class="literal">/var/lib/dpkg/status</code>" оказывается повреждённым по
любой причине, система Debian теряет информацию о выбранных пакетах и
сталкивается с трудностями. Вы можете заглянуть в старые версии
"<code class="literal">/var/lib/dpkg/status</code>", которые специально на этот случай
копируются в "<code class="literal">/var/lib/dpkg/status-old</code>" и в
"<code class="literal">/var/backups/dpkg.status.*</code>".</p>
<p>Хорошей идеей может оказаться хранение каталога
"<code class="literal">/var/backups/</code>" на отдельном разделе диска, поскольку там
содержатся важные системные данные.</p>
<p>В случае серьёзных повреждений системы, я рекомендую заново установить её
после создания резервной копии. Даже если потеряны все данные в
"<code class="literal">/var/</code>", вы всё ещё можете восстановить часть информации
из каталога "<code class="literal">/usr/share/doc/</code>" и руководствоваться ею при
переустановке.</p>
<p>Переустановка минимальной desktop-системы</p>
<pre class="screen"># mkdir -p /каталог/со/старой/системой</pre>
<p>Примонтируйте старую систему к
"<code class="literal">/каталог/со/старой/системой</code>".</p>
<pre class="screen"># cd /каталог/со/старой/системой/usr/share/doc
# ls -1 &gt;~/ls1.txt
# cd /usr/share/doc
# ls -1 &gt;&gt;~/ls1.txt
# cd
# sort ls1.txt | uniq | less</pre>
<p>Теперь вы видите имена пакетов, которые нужно установить. (Здесь, правда,
могут быть имена каталогов, которые не совпадают с именами пакетов, например
"<code class="literal">texmf</code>".)</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_tips_for_the_package_management"></a>2.7. Советы по управлению пакетами</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_how_to_pick_debian_packages"></a>2.7.1. Как выбрать пакет Debian</h3></div></div></div>
<p>Вы можете искать нужный вам пакет с помощью <code class="literal">aptitude</code> по
описаниям пакетов или по спискам в разделе "Задачи".</p>
<p>Если вам встречается больше двух похожих пакетов и возникает вопрос, какой
же из них лучше установить, чтобы было "без усилий и ошибок", можно
положиться на такие, например, <span class="strong"><strong>интуитивные
правила</strong></span>. Я думаю, следующие моменты -- хороший способ выбрать
предпочтительный пакет.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Essential (Необходимый): yes &gt; no
</li>
<li>
Component (Раздел архива): main &gt; contrib &gt; non-free
</li>
<li>
Priority (Приоритет): required &gt; important &gt; standard &gt; optional
&gt; extra
</li>
<li>
Задачи: пакет перечислен в задачах типа "Desktop environment" (Окружение
рабочего стола)
</li>
<li>
Пакет, выбираемый по зависимостям (например, <code class="literal">python</code>
зависит от <code class="literal">python2.4</code>).
</li>
<li>
Статистика Popcon: большее количество голосов и установок
</li>
<li>
Changelog: регулярные обновления, выполняемые мейнтейнером
</li>
<li>
BTS: отсутствие открытых ошибок (critical, grave, serious)
</li>
<li>
BTS: мейнтейнер, внимательный к сообщениям об ошибках
</li>
<li>
BTS: большее количество быстро исправляемых ошибок
</li>
<li>
BTS: меньшее количество остальных ошибок с уровнем важности выше, чем
wishlist
</li>
</ul></div>
<p>Debian -- проект, создаваемый волонтёрами; здесь используется распределённая
модель разработки, архивы содержат множество пакетов для различных целей и с
разным уровнем качества. Вам нужно сделать собственное решение, что с этим
всем делать.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_packages_from_mixed_source_of_archives"></a>2.7.2. Пакеты из различных источников и архивов</h3></div></div></div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Установка пакетов из различных архивов официально не поддерживается в
Debian. Исключением являются отдельные поддерживаемые комбинации архивов,
такие как <code class="literal">stable</code> вместе с <a class="ulink" href="http://www.debian.org/security/" target="_top">обновлениями безопасности</a> и <a class="ulink" href="http://www.debian.org/volatile/" target="_top"><code class="literal">volatile updates</code></a>.</p>
</div>
<p>Вот пример действий, с помощью которых можно подключить новый архив в
одноразовом порядке для установки, например, нужной новой версии программы
из архива <code class="literal">unstable</code>.</p>
<div class="orderedlist"><ol type="1">
<li>
Временно измените файл "<code class="literal">/etc/apt/sources.list</code>", так,
чтобы там содержалась только запись об архиве "<code class="literal">unstable</code>".
</li>
<li>
Выполните "<code class="literal">aptitude update</code>".
</li>
<li>
Выполните "<code class="literal">aptitude install &lt;нужный_пакет&gt;</code>".
</li>
<li>
Восстановите начальные значения в файле
"<code class="literal">/etc/apt/sources.list</code>" до <code class="literal">testing</code>.
</li>
<li>
Выполните "<code class="literal">aptitude update</code>".
</li>
</ol></div>
<p>Итак, вам не потребовалось настраивать
"<code class="literal">/etc/apt/preferences</code>" и беспокоиться о приоритетах
архивов (apt-pinning). Однако это очень громоздкий метод.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Если пакеты устанавливаются из архивов "со стороны", вам нужно убедиться в
совместимости пакетов самостоятельно, так как Debian этого никак не может
гарантировать. Если обнаруживается несовместимость, система может
поломаться. Вы должны быть в состоянии разрешить эти технические
трудности. Использование разных источников пакетов -- из разряда "по вкусу",
и я никак не могу поддержать вас в этом.</p>
</div>
<p>Общие правила по установке пакетов из различных архивов таковы.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
Не двоичные пакеты ("<code class="literal">Architecture: all</code>") более <span class="strong"><strong>безопасны</strong></span> для установки.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
пакеты с документацией: нет особых рекомендаций
</li>
<li>
пакет с интерпретатором: должен быть доступен совместимый интерпретатор
</li>
</ul></div>
</li>
<li>
<p>
Двоичные пакеты (без записи "<code class="literal">Architecture: all</code>") обычно
создают много нижеперечисленных препятствий при установке и в общем случае
<span class="strong"><strong>небезопасны</strong></span>.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
совместимость необходимых версий библиотек (включая
"<code class="literal">libc</code>")
</li>
<li>
совместимость необходимых версий программ
</li>
<li>
совместимость <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B2%D0%BE%D0%B8%D1%87%D0%BD%D1%8B%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9" target="_top">ABI</a> ядра
</li>
<li>
совместимость <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B2%D0%BE%D0%B8%D1%87%D0%BD%D1%8B%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9" target="_top">ABI</a> C++
</li>
<li>
…
</li>
</ul></div>
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Чтобы сделать установку более <span class="strong"><strong>безопасной</strong></span>,
некоторые производители коммерческого не-свободного ПО, поставляемого в
двоичных пакетах, могут включать статически линкованные библиотеки. Вам
нужно проверять совместимости <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B2%D0%BE%D0%B8%D1%87%D0%BD%D1%8B%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9" target="_top">ABI</a> в том числе и
для них.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Кроме случая восстановления нерабочего пакета в короткий срок, установка
двоичных пакетов из официально неподдерживаемых архивов -- плохая идея. Это
верно, даже если вы используете приоритеты apt-pinning (см. <a class="xref" href="#_tweaking_candidate_version" title='2.7.3. "Подмена" предпочтительной версии пакета'>Раздел 2.7.3, «"Подмена" предпочтительной версии пакета»</a>). Вам стоит подумать об
использовании <code class="literal">chroot</code> или чего-то похожего (см. <a class="xref" href="#_virtualized_system" title="9.8. Виртуализация">Раздел 9.8, «Виртуализация»</a>), чтобы запускать такие программы из других
архивов.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_tweaking_candidate_version"></a>2.7.3. "Подмена" предпочтительной версии пакета</h3></div></div></div>
<p>Без файла "<code class="literal">/etc/apt/preferences</code>", APT для установки
выбирает среди доступных версий пакетов последнюю (<span class="strong"><strong>candidate version</strong></span>). Это нормальное поведение
программы, именно такое её использование рекомендуется. Все официально
поддерживаемые комбинации архивов не требуют настроек в
"<code class="literal">/etc/apt/preferences</code>", поскольку те архивы, которые не
должны использоваться автоматически, помечаются как "<span class="strong"><strong>NotAutomatic</strong></span>".</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете сами посмотреть, как сравниваются разные версии с помощью команды
"<code class="literal">dpkg --compare-versions ver1.1 gt ver1.1~1; echo
$?</code>". Подробнее смотрите в <code class="literal">dpkg</code>(1).</p>
</div>
<p>Однако если вам регулярно приходится устанавливать пакеты из разнообразных
архивов (например, как это описано в <a class="xref" href="#_packages_from_mixed_source_of_archives" title="2.7.2. Пакеты из различных источников и архивов">Раздел 2.7.2, «Пакеты из различных источников и архивов»</a>), можно автоматизировать
процесс выбора нужной версии с помощью файла
"<code class="literal">/etc/apt/preferences</code>", и подменять версию, которая
должна бы быть установлена по умолчанию на ту, которая нужна именно вам. Эта
возможность описана в <code class="literal">apt_preferences</code>(5) и называется
<span class="strong"><strong>apt-pinning</strong></span>.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Использование apt-pinning начинающим пользователем наверняка вызовет большие
проблемы. Лучше отказаться от него, если можно без этого обойтись.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Используя apt-pinning, нужно самостоятельно проверять совместимость
устанавливаемых пакетов с системой, Debian не может этого гарантировать. Это
дополнительная возможность, использование которой нельзя рекомендовать в
общем случае.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Файлы "<code class="literal">Release</code>" уровня архива (см. <a class="xref" href="#_archive_level_release_files" title='2.5.3. Файл "Release" уровня архива'>Раздел 2.5.3, «Файл "Release" уровня архива»</a>) используются в правилах
<code class="literal">apt_preferences</code>(5). При использовании apt-pinning пишите
тип выпуска системы (<span class="strong"><strong>suite</strong></span>) для <a class="ulink" href="http://ftp.us.debian.org/debian/dists/" target="_top">нормальных архивов Debian</a> и <a class="ulink" href="http://security.debian.org/dists/" target="_top">архивов обновлений безопасности
Debian</a>. Например, в "<code class="literal">/etc/apt/preferences</code>" верно
будет "<code class="literal">Pin: release a=unstable</code>", и неверно "<code class="literal">Pin:
release a=sid</code>".</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Когда вы используете не предназначенный для Debian архив, обязательно
проверяйте, для чего же он на самом деле предназначен и можно ли ему
доверять. Так, Ubuntu и Debian не предназначены для смешивания в одной
системе.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Даже не создавая "<code class="literal">/etc/apt/preferences</code>", вы можете
выполнять довольно сложные задачи управления пакетами и без
apt-pinning. См. <a class="xref" href="#_rescue_with_the_dpkg_command" title="2.6.4. Восстановление с помощью команды dpkg">Раздел 2.6.4, «Восстановление с помощью команды dpkg»</a> и <a class="xref" href="#_packages_from_mixed_source_of_archives" title="2.7.2. Пакеты из различных источников и архивов">Раздел 2.7.2, «Пакеты из различных источников и архивов»</a>.</p>
</div>
<p>Вот упрощённое описание техники apt-pinning.</p>
<p>APT system choses highest Pin-Priority <span class="strong"><strong>upgrading</strong></span> package from available package sources
defined in the "<code class="literal">/etc/apt/sources.list</code>" file as the
<span class="strong"><strong>candidate version</strong></span> package.  If the
Pin-Priority of the package is larger than 1000, this version restriction
for <span class="strong"><strong>upgrading</strong></span> is dropped to enable
downgrading (see <a class="xref" href="#_emergency_downgrading" title="2.7.7. Аварийный откат системы">Раздел 2.7.7, «Аварийный откат системы»</a>).</p>
<p>Значение Pin-Priority каждого пакета определяется записями "Pin-Priority" в
файле "<code class="literal">/etc/apt/preferences</code>", либо используется значение
по умолчанию.</p>
<div class="table">
<a name="listofthedefaultackagesourcetype"></a><p class="title"><b>Таблица 2.18. Список значений Pin-Priority по умолчанию для каждого типа источника пакета</b></p>
<div class="table-contents"><table summary="Список значений Pin-Priority по умолчанию для каждого типа источника пакета" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    Pin-Priority по умолчанию
    </th>
<th align="left">
    тип источника пакета
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    990
    </td>
<td align="left">
<span class="strong"><strong>target release</strong></span> archive
    </td>
</tr>
<tr>
<td align="left">
    500
    </td>
<td align="left">
<span class="strong"><strong>обычный</strong></span> архив
    </td>
</tr>
<tr>
<td align="left">
    100
    </td>
<td align="left">
<span class="strong"><strong>установленный</strong></span> пакет
    </td>
</tr>
<tr>
<td align="left">
    1 
    </td>
<td align="left">
<span class="strong"><strong>NotAutomatic</strong></span>-архив
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>The <span class="strong"><strong>target release</strong></span> archive can be set by
several methods.</p>
<div class="itemizedlist"><ul type="disc">
<li>
в конфигурационном файле "<code class="literal">/etc/apt/apt.conf</code>", например,
строчкой "<code class="literal">APT::Default-Release "stable";</code>"
</li>
<li>
параметром командной строки, например "<code class="literal">apt-get install -t testing
some-package</code>"
</li>
</ul></div>
<p>The <span class="strong"><strong>NotAutomatic</strong></span> archive is set by
archive server having its archive level Release file (see <a class="xref" href="#_archive_level_release_files" title='2.5.3. Файл "Release" уровня архива'>Раздел 2.5.3, «Файл "Release" уровня архива»</a>) containing "<code class="literal">NotAutomatic:
yes</code>".</p>
<p>The <span class="strong"><strong>apt-pinning situation</strong></span> of
&lt;package&gt; from multiple archive sources is displayed by
"<code class="literal">apt-cache policy &lt;package&gt;</code>".</p>
<div class="itemizedlist"><ul type="disc">
<li>
A line started with "<code class="literal">Package pin:</code>" lists the package
version of <span class="strong"><strong>pin</strong></span> if association just with
&lt;package&gt; is defined, e.g., "<code class="literal">Package pin: 0.190</code>".
</li>
<li>
No line with "<code class="literal">Package pin:</code>" exists if no association just
with &lt;package&gt; is defined.
</li>
<li>
The Pin-Priority value associated just with &lt;package&gt; is listed right
side of all version strings, e.g., "<code class="literal">0.181 700</code>".
</li>
<li>
"<code class="literal">0</code>" is listed right side of all version strings if no
association just with &lt;package&gt; is defined, e.g., "<code class="literal">0.181
0</code>".
</li>
<li>
The Pin-Priority values of archives (defined as "<code class="literal">Package:
*</code>" in the "<code class="literal">/etc/apt/preferences</code>" file) are
listed left side of all archive paths, e.g., "<code class="literal">200
http://backports.debian.org/debian-backports/
squeeze-backports/main Packages</code>".
</li>
</ul></div>
<p>Here is an example of <span class="strong"><strong>apt-pinning</strong></span>
technique to include specific newer upstream version packages found in
<code class="literal">unstable</code> regularly upgraded while tracking
<code class="literal">testing</code>.  You list all required archives in the
"<code class="literal">/etc/apt/sources.list</code>" file as the following.</p>
<pre class="screen">deb http://ftp.us.debian.org/debian/ testing main contrib non-free
deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
deb http://security.debian.org/ testing/updates main contrib</pre>
<p>Set the "<code class="literal">/etc/apt/preferences</code>" file as as the following.</p>
<pre class="screen">Package: *
Pin: release a=testing
Pin-Priority: 500

Package: *
Pin: release a=unstable
Pin-Priority: 200</pre>
<p>When you wish to install a package named
"<code class="literal">&lt;package-name&gt;</code>" with its dependencies from
<code class="literal">unstable</code> archive under this configuration, you issue the
following command which switches target release with "<code class="literal">-t</code>"
option (Pin-Priority of <code class="literal">unstable</code> becomes 990.).</p>
<pre class="screen">$ sudo apt-get install -t unstable &lt;имя_пакета&gt;</pre>
<p>С такой конфигурацией обычное выполнение команд "<code class="literal">apt-get
upgrade</code>" и "<code class="literal">apt-get dist-upgrade</code>" (либо
"<code class="literal">aptitude safe-upgrade</code>" и "<code class="literal">aptitude
full-upgrade</code>") обновит пакеты, установленные из архива
<code class="literal">testing</code> -- из текущего архива <code class="literal">testing</code>,
а пакеты, установленные из архива <code class="literal">unstable</code> -- из текущего
архива <code class="literal">unstable</code>.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Be careful not to remove "<code class="literal">testing</code>" entry from the
"<code class="literal">/etc/apt/sources.list</code>" file.  Without
"<code class="literal">testing</code>" entry in it, APT system upgrades packages using
newer <code class="literal">unstable</code> archive.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>I usually edit the "<code class="literal">/etc/apt/sources.list</code>" file to
comment out "<code class="literal">unstable</code>" archive entry right after above
operation.  This avoids slow update process of having too many entries in
the "<code class="literal">/etc/apt/sources.list</code>" file although this prevents
upgrading packages which were installed from <code class="literal">unstable</code>
archive using current <code class="literal">unstable</code> archive.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>If "<code class="literal">Pin-Priority: 20</code>" is used instead of
"<code class="literal">Pin-Priority: 200</code>" for the
"<code class="literal">/etc/apt/preferences</code>" file, already installed packages
having Pin-Priority value of 100 are not upgraded by
<code class="literal">unstable</code> archive even if "<code class="literal">testing</code>"
entry in the "<code class="literal">/etc/apt/sources.list</code>" file is removed.</p>
</div>
<p>If you wish to track particular packages in <code class="literal">unstable</code>
automatically without initial "<code class="literal">-t unstable</code>" installation,
you must create the "<code class="literal">/etc/apt/preferences</code>" file and
explicitly list all those packages at the top of it as the following.</p>
<pre class="screen">Package: &lt;package-1&gt;
Pin: release a=unstable
Pin-Priority: 700

Package: &lt;package-2&gt;
Pin: release a=unstable
Pin-Priority: 700</pre>
<p>These set Pin-Priority value for each specific package.  For example, in
order to track the latest <code class="literal">unstable</code> version of this
"Debian Reference" in English, you should have following entries in the
"<code class="literal">/etc/apt/preferences</code>" file.</p>
<pre class="screen">Package: debian-reference-en
Pin: release a=unstable
Pin-Priority: 700

Package: debian-reference-common
Pin: release a=unstable
Pin-Priority: 700</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>This apt-pinning technique is valid even when you are tracking
<code class="literal">stable</code> archive.  Documentation packages have been always
safe to install from <code class="literal">unstable</code> archive in my experience,
so far.</p>
</div>
<p>Here is another example of <span class="strong"><strong>apt-pinning</strong></span>
technique to include specific newer upstream version packages found in
<code class="literal">experimental</code> while tracking <code class="literal">unstable</code>.
You list all required archives in the
"<code class="literal">/etc/apt/sources.list</code>" file as the following.</p>
<pre class="screen">deb http://ftp.us.debian.org/debian/ unstable main contrib non-free
deb http://ftp.us.debian.org/debian/ experimental main contrib non-free
deb http://security.debian.org/ testing/updates main contrib</pre>
<p>The default Pin-Priority value for <code class="literal">experimental</code> archive
is always 1 (&lt;&lt;100) since it is <span class="strong"><strong>NotAutomatic</strong></span> archive (see <a class="xref" href="#_archive_level_release_files" title='2.5.3. Файл "Release" уровня архива'>Раздел 2.5.3, «Файл "Release" уровня архива»</a>).  There is no need to set
Pin-Priority value explicitly in the
"<code class="literal">/etc/apt/preferences</code>" file just to use
<code class="literal">experimental</code> archive unless you wish to track particular
packages in it automatically for next upgrading.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_volatile_and_backports"></a>2.7.4. Архивы Volatile и Backports</h3></div></div></div>
<p>Проекты <a class="ulink" href="http://www.debian.org/volatile/" target="_top">debian-volatile</a> и
<a class="ulink" href="http://backports.debian.org" target="_top">backports.debian.org</a> предоставляют
свежие версии пакетов для <code class="literal">стабильного</code> выпуска Debian.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не используйте все доступные пакеты из архивов с меткой <span class="strong"><strong>NotAutomatic</strong></span>, например, из
<code class="literal">squeeze-backports</code> и
<code class="literal">volatile-sloppy</code>. Выбирайте только нужные вам версии.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Файлы "<code class="literal">Release</code>" уровня архива (см. <a class="xref" href="#_archive_level_release_files" title='2.5.3. Файл "Release" уровня архива'>Раздел 2.5.3, «Файл "Release" уровня архива»</a>) используются в правилах
<code class="literal">apt_preferences</code>(5). При использовании apt-pinning пишите
кодовое имя выпуска системы (<span class="strong"><strong>codename</strong></span>)
для <a class="ulink" href="http://volatile.debian.org/debian-volatile/dists/" target="_top">архивов
volatile-debian</a>. (В этом отличие от других архивов Debian.)
Например, в "<code class="literal">/etc/apt/preferences</code>" верно будет
"<code class="literal">Pin: release a=squeeze</code>", и неверно
"<code class="literal">Pin: release a=stable</code>".</p>
</div>
<p>Вот способ применить apt-pinning, чтобы устанавливать нужные свежие версии
пакетов из <code class="literal">squeeze-backports</code>, в остальном
оставаясь на <code class="literal">squeeze</code> и
<code class="literal">volatile</code>. Вам нужно перечислить все эти архивы в
"<code class="literal">/etc/apt/sources.list</code>" таким способом:</p>
<pre class="screen">deb http://ftp.us.debian.org/debian/ squeeze main contrib non-free
deb http://security.debian.org/ squeeze/updates main contrib
deb http://volatile.debian.org/debian-volatile/ squeeze/volatile main contrib non-free
deb http://volatile.debian.org/debian-volatile/ squeeze/volatile-sloppy main contrib non-free
deb http://backports.org/debian-backports/ squeeze-backports main contrib non-free</pre>
<p>Значение Pin-Priority для <a class="ulink" href="http://backports.debian.org" target="_top">backports.debian.org</a> и
<code class="literal">volatile-sloppy</code> всегда равно 1 (&lt;&lt;100), так как они
имеют метку <span class="strong"><strong>NotAutomatic</strong></span> (см. <a class="xref" href="#_archive_level_release_files" title='2.5.3. Файл "Release" уровня архива'>Раздел 2.5.3, «Файл "Release" уровня архива»</a>). Нет необходимости явно
устанавливать Pin-Priority в "<code class="literal">/etc/apt/preferences</code>",
чтобы просто использовать <a class="ulink" href="http://backports.debian.org" target="_top">backports.debian.org</a> и
<code class="literal">volatile-sloppy</code> без автоматического обновления полученных
оттуда пакетов.</p>
<p>Итак, когда вам нужно установить пакет с именем
"<code class="literal">&lt;package-name&gt;</code>" со всеми зависимостями из
<code class="literal">squeeze-backports</code>, используйте следующую
команду (в которой указан архив):</p>
<pre class="screen">$ sudo apt-get install -t squeeze-backports &lt;имя_пакета&gt;</pre>
<p>Если нужно обновить таким образом установленные пакеты, создайте
"<code class="literal">/etc/apt/preferences</code>", в котором должны быть перечислены
нужные вам пакеты и их приоритет.</p>
<pre class="screen">Package: &lt;пакет-1&gt;
Pin: release o=Backports.org archive
Pin-Priority: 700

Package: &lt;пакет-2&gt;
Pin: release o=volatile.debian.org
Pin-Priority: 700</pre>
<p>Как вариант, файл "<code class="literal">/etc/apt/preferences</code>" может содержать:</p>
<pre class="screen">Package: *
Pin: release a=stable , o=Debian
Pin-Priority: 500

Package: *
Pin: release a=squeeze, o=volatile.debian.org
Pin-Priority: 500

Package: *
Pin: release a=squeeze-backports, o=Backports.org archive
Pin-Priority: 200

Package: *
Pin: release a=squeeze-sloppy, o=volatile.debian.org
Pin-Priority: 200</pre>
<p>Выполнение "<code class="literal">apt-get upgrade</code>" и "<code class="literal">apt-get
dist-upgrade</code>" (или "<code class="literal">aptitude safe-upgrade</code>" и
"<code class="literal">aptitude full-upgrade</code>") получит и установит обновления
из "родных" для каждого пакета архивов. Например, пакеты, установленные из
архива <code class="literal">stable</code>, будут обновлены из
<code class="literal">stable</code>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_automatic_download_and_upgrade_of_packages"></a>2.7.5. Автоматическое получение и обновление пакетов</h3></div></div></div>
<p>Пакет <code class="literal">apt</code> содержит собственный сценарий для
<code class="literal">cron</code>: "<code class="literal">/etc/cron.daily/apt</code>", который
поддерживает автоматическое получение пакетов. Этот сценарий может
автоматически устанавливать обновления, если для этого установлен пакет
<code class="literal">unattended-upgrades</code>. Настройки находятся в
"<code class="literal">/etc/apt/apt.conf.d/02backup</code>" и
"<code class="literal">/etc/apt/apt.conf.d/50unattended-upgrades</code>" и описаны в
"<code class="literal">/usr/share/doc/unattended-upgrades/README</code>".</p>
<p>Пакет <code class="literal">unattended-upgrades</code> предназначен главным образом
для установки обновлений безопасности на
<code class="literal">stable</code>-систему. Если опасность повреждения
<code class="literal">stable</code>-системы от ошибки при автоматическом обновлении
меньше, чем опасность взлома через дыры, закрываемые этими обновлениями,
стоит подумать о включении автоматического обновления. Вот пример
конфигурации.</p>
<pre class="screen">APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Download-Upgradeable-Packages "1";
APT::Periodic::Unattended-Upgrade "1";</pre>
<p>Если вы используете <code class="literal">unstable</code>-систему, нет нужды включать
автоматическое обновление, ибо однажды оно обязательно всё обрушит. Однако,
в случае с нестабильной системой, вам может быть полезно автоматически
скачивать пакеты, чтобы сэкономить время. В этом случае можно использовать
такие настройки.</p>
<pre class="screen">APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Download-Upgradeable-Packages "1";
APT::Periodic::Unattended-Upgrade "0";</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_limiting_download_bandwidth_for_apt"></a>2.7.6. Ограничение ширины канала для APT</h3></div></div></div>
<p>Если вы хотите ограничить скорость, с которой APT скачивает обновления,
например до 800Кбит/сек (=100кБ), можно добавить такую настройку APT.</p>
<pre class="screen">APT::Acquire::http::Dl-Limit "800";</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_emergency_downgrading"></a>2.7.7. Аварийный откат системы</h3></div></div></div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Отмена установки уже установленных обновлений не предусмотрено в Debian. Это
может быть выполнено только как часть процесса аварийного
восстановления. Однако есть методика, которая хорошо срабатывает во многих
случаях. На критичных системах после операции восстановления вам, возможно,
придётся сделать резервную копию всех данных и переустановить всю систему.</p>
</div>
<p>Вы можете успешно откатиться с более нового архива на старый, манипулируя с
<span class="strong"><strong>candidate version</strong></span> (см. <a class="xref" href="#_tweaking_candidate_version" title='2.7.3. "Подмена" предпочтительной версии пакета'>Раздел 2.7.3, «"Подмена" предпочтительной версии пакета»</a>). Это подходит, если лень
многократно повторять команду типа "<code class="literal">dpkg -i
&lt;сломанный_пакет&gt;_&lt;старая_работающая_версия&gt;.deb</code>"
(см. <a class="xref" href="#_rescue_with_the_dpkg_command" title="2.6.4. Восстановление с помощью команды dpkg">Раздел 2.6.4, «Восстановление с помощью команды dpkg»</a>).</p>
<p>Найдите в "<code class="literal">/etc/apt/sources.list</code>" строчки, подключающие
архив <code class="literal">unstable</code>:</p>
<pre class="screen">deb http://ftp.us.debian.org/debian/ sid main contrib non-free</pre>
<p>Замените их на соответствующие строчки для <code class="literal">testing</code>.</p>
<pre class="screen">deb http://ftp.us.debian.org/debian/ wheezy main contrib non-free</pre>
<p>Отредактируйте "<code class="literal">/etc/apt/preferences</code>" следующим способом:</p>
<pre class="screen">Package: *
Pin: release a=testing
Pin-Priority: 1010</pre>
<p>Выполните "<code class="literal">apt-get dist-upgrade</code>", чтобы установить
<code class="literal">testing</code>-версии всех пакетов в системе.</p>
<p>Удалите "<code class="literal">/etc/apt/preferences</code>" после аварийного отката.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Хорошей мыслью будет удалить как можно больше пакетов чтобы уменьшить
проблемы из-за зависимостей (не удаляя их конфигурацию, она ещё
пригодится). Может потребоваться вручную удалить и установить некоторые
пакеты. Ядро Linux, загрузчик, системы udev, PAM, APT и пакеты связанные с
настройкой сети, а также их конфигурации, требуют особого внимания.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_who_uploaded_the_package"></a>2.7.8. Кто закачал пакет?</h3></div></div></div>
<p>Хотя имя мейнтейнера, указанное в
"<code class="literal">/var/lib/dpkg/available</code>" и
"<code class="literal">/usr/share/doc/package_name/changelog</code>" даёт понять, кто
управляет изменениями в пакетах, закачать пакет в архив может и кто-то
другой. Узнать, кто же это был, можно с помощью сценария
<code class="literal">who-uploads</code>(1), который входит в пакет
<code class="literal">devscripts</code>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_equivs_package"></a>2.7.9. Пакет equivs</h3></div></div></div>
<p>Если вы собираете программу из исходных текстов, чтобы заменить пакет
Debian, самым хорошим результатом будет создание "дебианизированного" пакета
(<code class="literal">*.deb</code>) и использование собственного архива.</p>
<p>Если вместо этого вы решаете устанавливать собранную программу в
"<code class="literal">/usr/local</code>", вам может потребоваться пакет
<code class="literal">equivs</code> как последний способ удовлетворить отсутствующие
зависимости.</p>
<pre class="screen">Package: equivs
Priority: extra
Section: admin
Description: Circumventing Debian package dependencies
 This is a dummy package which can be used to create Debian
 packages, which only contain dependency information.</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_porting_a_package_to_the_stable_system"></a>2.7.10. Портирование пакета для стабильной системы</h3></div></div></div>
<p>Хороший способ частично обновить <code class="literal">stable</code>-систему --
собрать нужные пакеты из исходных текстов. Это не требует обновления
множества пакетов из-за зависимостей.</p>
<p>Добавьте такие строчки в "<code class="literal">/etc/apt/sources.list</code>"
стабильной системы.</p>
<pre class="screen">deb-src http://http.us.debian.org/debian unstable  main contrib non-free</pre>
<p>Установите нужные для компиляции пакеты и скачайте исходный код такими
командами.</p>
<pre class="screen"># apt-get update
# apt-get dist-upgrade
# apt-get install fakeroot devscripts build-essential
$ apt-get build-dep foo
$ apt-get source foo
$ cd foo*</pre>
<p>Может потребоваться настроить установленные пакеты.</p>
<p>Выполните следующее.</p>
<pre class="screen">$ dch -i</pre>
<p>Увеличьте номер версии, добавив к ней, например "<code class="literal">+bp1</code>" в
"<code class="literal">debian/changelog</code>".</p>
<p>Соберите пакет и установите его такими командами.</p>
<pre class="screen">$ debuild
$ cd ..
# debi foo*.changes</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_proxy_server_for_apt"></a>2.7.11. Прокси-сервер для APT</h3></div></div></div>
<p>Поскольку зеркалирование архивов Debian экономит дисковое пространство и
сетевой трафик, настройка локального прокси-сервера для APT -- хорошее
решение для администратора <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9B%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B2%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D0%B5%D1%82%D1%8C" target="_top">ЛВС</a>, где есть много
установок Debian. APT можно настроить на работу через обычный http
прокси-сервер, такой как <code class="literal">squid</code> (см. <a class="xref" href="#_other_network_application_servers" title="6.10. Другие серверы сетевых приложений">Раздел 6.10, «Другие серверы сетевых приложений»</a>).
См. <code class="literal">apt.conf</code>(5) и
"<code class="literal">/usr/share/doc/apt/examples/configure-index.gz</code>".
Переменная окружения <code class="literal">$http_proxy</code> имеет приоритет над
настройками в "<code class="literal">/etc/apt/apt.conf</code>".</p>
<p>Также есть специальные прокси-серверы для пакетов Debian. Проверьте BTS
перед их использованием.</p>
<div class="table">
<a name="listoftheproxytofordebianarchive"></a><p class="title"><b>Таблица 2.19. Список прокси-серверов для архивов Debian</b></p>
<div class="table-contents"><table summary="Список прокси-серверов для архивов Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/approx" target="_top">
<code class="literal">approx</code> </a> <a class="ulink" href="http://bugs.debian.org/approx" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=approx" target="_top">V:0.2, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/approx.html" target="_top">3896</a></td>
<td align="left">
    кэширующий прокси-сервер для архивов Debian (скомпилированная программа на
языке <a class="ulink" href="http://ru.wikipedia.org/wiki/OCaml" target="_top">OCaml</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt-cacher" target="_top">
<code class="literal">apt-cacher</code> </a> <a class="ulink" href="http://bugs.debian.org/apt-cacher" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt-cacher" target="_top">V:0.3, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt-cacher.html" target="_top">308</a></td>
<td align="left">
    Кэширующий прокси для пакетов Debian (на Пёрле)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt-cacher-ng" target="_top">
<code class="literal">apt-cacher-ng</code> </a> <a class="ulink" href="http://bugs.debian.org/apt-cacher-ng" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt-cacher-ng" target="_top">V:0.3, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt-cacher-ng.html" target="_top">972</a></td>
<td align="left">
    Кэширующий прокси для репозиториев пакетов (C++)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/debtorrent" target="_top">
<code class="literal">debtorrent</code> </a> <a class="ulink" href="http://bugs.debian.org/debtorrent" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=debtorrent" target="_top">V:0.13, I:0.18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/debtorrent.html" target="_top">1185</a></td>
<td align="left">
    Прокси, который скачивает нужные пакеты по протоколу BitTorrent.
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Когда в Debian происходит изменение структуры архивов, этим специальным
средствам могут также потребоваться изменения исходного текста и они могут
некоторое время быть неработоспособны. С другой стороны, обычные http
прокси-серверы легче перенастроить в случае таких изменений архивов.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_small_public_package_archive"></a>2.7.12. Маленький общедоступный архив пакетов</h3></div></div></div>
<p>Вот пример, как создать маленький общедоступный архив пакетов, совместимый с
современной системой <span class="strong"><strong>secure
APT</strong></span>. (См. <a class="xref" href="#_top_level_release_file_and_authenticity" title='2.5.2. Файл верхнего уровня "Release" и аутентичность'>Раздел 2.5.2, «Файл верхнего уровня "Release" и аутентичность»</a>.)</p>
<div class="itemizedlist"><ul type="disc">
<li>
Пусть у нас есть учётная запись "<code class="literal">foo</code>",
</li>
<li>
на хосте "<code class="literal">www.example.com</code>"
</li>
<li>
Нам нужны пакеты: <code class="literal">apt-utils</code>, <code class="literal">gnupg</code> и
их зависимости.
</li>
<li>
URL: "<code class="literal">http://www.example.com/~foo/</code>" ( →
"<code class="literal">/home/foo/public_html/index.html</code>")
</li>
<li>
Допустим, наши пакеты предназначены для платформы
"<code class="literal">amd64</code>".
</li>
</ul></div>
<p>Создаём ключ архива APT для Foo.</p>
<pre class="screen">$ ssh foo@www.example.com
$ gpg --gen-key
...
$ gpg -K
...
sec   1024D/3A3CB5A6 2008-08-14
uid                  Foo (ARCHIVE KEY) &lt;foo@www.example.com&gt;
ssb   2048g/6856F4A7 2008-08-14
$ gpg --export -a 3A3CB5A6 &gt;foo.public.key</pre>
<p>Опубликовываем наш ключ "<code class="literal">foo.public.key</code>" с ID
"<code class="literal">3A3CB5A6</code>" для Foo.</p>
<p>Создаём дерево каталогов для архива и называем его Foo.</p>
<pre class="screen">$ umask 022
$ mkdir -p ~/public_html/debian/pool/main
$ mkdir -p ~/public_html/debian/dists/unstable/main/binary-amd64
$ mkdir -p ~/public_html/debian/dists/unstable/main/source
$ cd ~/public_html/debian
$ cat &gt; dists/unstable/main/binary-amd64/Release &lt;&lt; EOF
Archive: unstable
Version: 4.0
Component: main
Origin: Foo
Label: Foo
Architecture: amd64
EOF
$ cat &gt; dists/unstable/main/source/Release &lt;&lt; EOF
Archive: unstable
Version: 4.0
Component: main
Origin: Foo
Label: Foo
Architecture: source
EOF
$ cat &gt;aptftp.conf &lt;&lt;EOF
APT::FTPArchive::Release {
  Origin "Foo";
  Label "Foo";
  Suite "unstable";
  Codename "sid";
  Architectures "amd64";
  Components "main";
  Description "Public archive for Foo";
};
EOF
$ cat &gt;aptgenerate.conf &lt;&lt;EOF
Dir::ArchiveDir ".";
Dir::CacheDir ".";
TreeDefault::Directory "pool/";
TreeDefault::SrcDirectory "pool/";
Default::Packages::Extensions ".deb";
Default::Packages::Compress ". gzip bzip2";
Default::Sources::Compress "gzip bzip2";
Default::Contents::Compress "gzip bzip2";

BinDirectory "dists/unstable/main/binary-amd64" {
  Packages "dists/unstable/main/binary-amd64/Packages";
  Contents "dists/unstable/Contents-amd64";
  SrcPackages "dists/unstable/main/source/Sources";
};

Tree "dists/unstable" {
  Sections "main";
  Architectures "amd64 source";
};
EOF</pre>
<p>Вы можете автоматизировать обновление содержимого архива на вашем сервере,
настроив <code class="literal">dupload</code>.</p>
<p>Положите все пакеты в
"<code class="literal">~foo/public_html/debian/pool/main/</code>", выполнив
"<code class="literal">dupload -t foo changes_file</code>",  имея файл
"<code class="literal">~/.dupload.conf</code>" следующего содержания.</p>
<pre class="screen">$cfg{'foo'} = {
  fqdn =&gt; "www.example.com",
  method =&gt; "scpb",
  incoming =&gt; "/home/foo/public_html/debian/pool/main",
  # The dinstall on ftp-master sends emails itself
  dinstall_runs =&gt; 1,
};

$cfg{'foo'}{postupload}{'changes'} = "
  echo 'cd public_html/debian ;
  apt-ftparchive generate -c=aptftp.conf aptgenerate.conf;
  apt-ftparchive release -c=aptftp.conf dists/unstable &gt;dists/unstable/Release ;
  rm -f dists/unstable/Release.gpg ;
  gpg -u 3A3CB5A6 -bao dists/unstable/Release.gpg dists/unstable/Release'|
  ssh foo@www.example.com  2&gt;/dev/null ;
  echo 'Package archive created!'";</pre>
<p>Сценарий <span class="strong"><strong>postupload</strong></span>, вызываемый из
<code class="literal">dupload</code>(1), обновляет данные архива.</p>
<p>Теперь вы можете добавить этот маленький архив в список используемых
источников пакетов на своей клиентской системе.</p>
<pre class="screen">$ sudo bash
# echo "deb http://www.example.com/~foo/debian/ unstable main" \
   &gt;&gt; /etc/apt/sources.list
# apt-key add foo.public.key</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если же архив находится на локальной файловой системе, можно обращаться к
нему напрямую, используя похожую строчку: "<code class="literal">deb
file:///home/foo/debian/ ...</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_recording_and_copying_system_configuration"></a>2.7.13. Сохранение и копирование конфигурации</h3></div></div></div>
<p>Вы можете сохранить всю информацию о выбранных пакетах и их
debconf-настройках.</p>
<pre class="screen"># dpkg --get-selections '*' &gt; selection.dpkg
# debconf-get-selections    &gt; selection.debconf</pre>
<p>Параметр "<code class="literal">*</code>" означает, что нужно записать в
"<code class="literal">selection.dpkg</code>" информацию о пакетах, удалённых вместе с
конфигурацией (purged).</p>
<p>Вы можете переместить эти файлы на другую систему и установить таким
способом.</p>
<pre class="screen"># dselect update
# debconf-set-selections &lt; myselection.debconf
# dpkg --set-selections  &lt; myselection.dpkg
# apt-get -u dselect-upgrade    # либо dselect install</pre>
<p>Если вы думаете об способе управления многими серверами в одном кластере,
где все машины имеют почти одинаковые настройки, обратитесь к специальным
средствам, например, к <code class="literal">fai</code>, для управления всей системой.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_converting_or_installing_an_alien_binary_package"></a>2.7.14. Преобразование и установка чужеродных двоичных пакетов</h3></div></div></div>
<p>Программа <code class="literal">aliend</code>(1) из одноимённого пакета позволяет
преобразовывать двоичные пакеты различных форматов в
deb-пакеты. Поддерживаются такие форматы, как <code class="literal">rpm</code> из Red
Hat, <code class="literal">slp</code> из Stampede, <code class="literal">tgz</code> из Slackware
и <code class="literal">pkg</code> из Solaris и пакеты LSB.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не следует использовать <code class="literal">alien</code>(1) для замены важнейших
пакетов в системе, например, <code class="literal">sysvinit</code>,
<code class="literal">libc6</code>, <code class="literal">libpam-modules</code> и т.п. Есть
смысл использовать <code class="literal">alien</code>(1) разве что для несвободных
(non-free) пакетов с недоступными исходными текстами, которые однако
соответствуют LSB или статически линкованы (statically linked). Свободное ПО
устанавливайте из исходных текстов, создавая пакеты Debian.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_extracting_package_without_dpkg"></a>2.7.15. Распаковка пакетов без dpkg</h3></div></div></div>
<p>Содержимое пакетов "<code class="literal">*.deb</code>" можно извлечь без
использования <code class="literal">dpkg</code>(1) на любой <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">Unix-подобной</a> системе с помощью стандартных
<code class="literal">ar</code>(1) и <code class="literal">tar</code>(1).</p>
<pre class="screen"># ar x /path/to/dpkg_&lt;версия&gt;_&lt;архитектура&gt;.deb
# ls
total 24
-rw-r--r-- 1 bozo bozo  1320 2007-05-07 00:11 control.tar.gz
-rw-r--r-- 1 bozo bozo 12837 2007-05-07 00:11 data.tar.gz
-rw-r--r-- 1 bozo bozo     4 2007-05-07 00:11 debian-binary
# mkdir control
# mkdir data
# tar xvzf control.tar.gz -C control
# tar xvzf data.tar.gz -C data</pre>
<p>Вы также можете просмотреть содержимое пакетов в <code class="literal">mc</code>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_more_readings_for_the_package_management"></a>2.7.16. Где ещё можно прочитать про управление пакетами</h3></div></div></div>
<p>Вы можете лучше изучить управление пакетами по следующей документации.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
Основная документация по системе пакетов:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
<code class="literal">aptitude</code>(8), <code class="literal">dpkg</code>(1),
<code class="literal">tasksel</code>(8), <code class="literal">apt-get</code>(8),
<code class="literal">apt-config</code>(8), <code class="literal">apt-key</code>(8),
<code class="literal">sources.list</code>(5), <code class="literal">apt.conf</code>(5), и
<code class="literal">apt_preferences</code>(5);
</li>
<li>
"<code class="literal">/usr/share/doc/apt-doc/guide.html/index.html</code>" и
"<code class="literal">/usr/share/doc/apt-doc/offline.html/index.html</code>" из
пакета <code class="literal">apt-doc</code>; и
</li>
<li>
"<code class="literal">/usr/share/doc/aptitude/html/en/index.html</code>" из пакета
<code class="literal">aptitude-doc-en</code>.
</li>
</ul></div>
</li>
<li>
<p>
Официальная и подробная документация по архивам Debian:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
<a class="ulink" href="http://www.debian.org/doc/debian-policy/ch-archive" target="_top">"Debian Policy Manual
Chapter 2 - The Debian Archive"</a>
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/manuals/developers-reference/resources.html#archive" target="_top">"Debian Developer's
Reference, Chapter 4 -- Resources for Debian Developers 4.6 The Debian
archive\</a>, и
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/FAQ/ch-ftparchives" target="_top">"The Debian GNU/Linux FAQ,
Chapter 5 - The Debian FTP archives"</a>
</li>
</ul></div>
</li>
<li>
<p>
Руководство по созданию пакетов Debian для пользователей Debian:
</p>
<div class="itemizedlist"><ul type="circle"><li>
<a class="ulink" href="http://www.debian.org/doc/manuals/maint-guide/" target="_top">"Debian New Maintainers'
Guide"</a>
</li></ul></div>
</li>
</ul></div>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_the_system_initialization"></a>Глава 3. Загрузка системы</h2></div></div></div>
<p>Благоразумный системный администратор должен, хотя бы примерно, знать, как
система запускается и настраивается. Хотя наиболее точную информацию можно
получить из исходных текстов пакетов и документации к ним, это слишком
подробные знания для большинства из нас.</p>
<p>Я постарался составить короткий обзор ключевых особенностей системы Debian и
её настройки для вашего руководства, основанный на моих знаниях и знаниях
других людей. Поскольку система постоянно развивается, некоторые вещи могут
меняться. Перед тем, как вносить изменения в систему, обратитесь к
документации по каждому пакету.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_an_overview_of_the_boot_strap_process"></a>3.1. Обзор процесса загрузки</h2></div></div></div>
<p>От момента включения компьютера до того момента, когда ОС загружена и готова
выполнять команды, происходит несколько этапов загрузки.</p>
<p>Для простоты, здесь пойдёт речь о типичном процессе загрузки типичного
настольного компьютера с обычной установкой Debian.</p>
<p>Типичный процесс загрузки напоминает ракету из четырёх ступеней. Каждая
ступень передаёт управление системой следующей.</p>
<div class="itemizedlist"><ul type="disc">
<li>
            <a class="xref" href="#_stage_1_the_bios" title="3.2. Первый этап: BIOS">Раздел 3.2, «Первый этап: BIOS»</a>
          </li>
<li>
            <a class="xref" href="#_stage_2_the_boot_loader" title="3.3. Второй этап: загрузчик (boot loader)">Раздел 3.3, «Второй этап: загрузчик (boot loader)»</a>
          </li>
<li>
            <a class="xref" href="#_stage_3_the_mini_debian_system" title="3.4. Третий этап: мини-система Debian">Раздел 3.4, «Третий этап: мини-система Debian»</a>
          </li>
<li>
            <a class="xref" href="#_stage_4_the_normal_debian_system" title="3.5. Четвёртый этап: нормальная система Debian">Раздел 3.5, «Четвёртый этап: нормальная система Debian»</a>
          </li>
</ul></div>
<p>Конечно, это может происходить иначе, в зависимости от
конфигурации. Например, если у вас собрано собственное ядро, то третьего
этапа может и не быть. Так что не принимайте это как что-то неизменное, а
проверьте, как оно работает на вашей системе.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>На платформах, не ведущих своё происхождение от PC, например SUN или
Macintosh, BIOS в ПЗУ и разделы на диске могут сильно отличаться. (<a class="xref" href="#_disk_partition_configuration" title="9.3.1. Настройка раздела диска">Раздел 9.3.1, «Настройка раздела диска»</a>). Обратитесь к документации для
вашей платформы.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_stage_1_the_bios"></a>3.2. Первый этап: BIOS</h2></div></div></div>
<p>При включении компьютера именно <a class="ulink" href="http://ru.wikipedia.org/wiki/BIOS" target="_top">BIOS</a> (Базовая
Система Ввода/Вывода) выполняет первые действия загрузочного
процесса. Программы этой системы хранятся в <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%BD%D0%BE%D0%B5_%D0%B7%D0%B0%D0%BF%D0%BE%D0%BC%D0%B8%D0%BD%D0%B0%D1%8E%D1%89%D0%B5%D0%B5_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%BE" target="_top">ПЗУ</a>, энергонезависимой памяти, доступной
только для чтения. Эти программы начинают выполняться с известного адреса
памяти, к которому первым делом обращается только что включенный процессор.</p>
<p>BIOS выполняет поиск и определение оборудования (<a class="ulink" href="http://ru.wikipedia.org/wiki/POST_(%D0%B0%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B5_%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D0%B5)" target="_top">POST</a>: power on self test) и передаёт
управление программам с того устройства, которое вы указали в настройках
BIOS. BIOS обычно предоставляется вместе с оборудованием.</p>
<p>Включаясь, BIOS обычно выводит информацию о клавишах, которые нужно нажать,
чтобы запустить программу настройки (BIOS setup). Чаще всего это одна из
клавиш Del, F1, F2, F10, Esc и Ins. Если на экран выводится красивая (но
явно не информативная) картинка, можно попробовать нажать одну из этих
клавиш, чтобы отключить её. Клавиши отличаются для разного оборудования
(производитель, материнская плата, версия BIOS...).</p>
<p>Здесь, в программе настройки BIOS, можно задать способы дальнейшей загрузки
системы, основные и дополнительные, если первые были неудачными. В общем
случае, первые сектора первого найденного выбранного устройства (жёсткого
диска, дискеты, CD-ROM, ...) загружаются в память и начинают выполняться как
программа. Этой программой в действительности может быть:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Загрузчик ОС (boot loader)
</li>
<li>
Ядро ОС-подпорки, например FreeDOS
</li>
<li>
Ядро любой ОС, если оно сможет поместиться в ограниченное пространство
</li>
</ul></div>
<p>Как правило, загружается определённая система с заданного раздела первого
жёсткого диска (primary hard disk). Первые два сектора жёсткого диска (512
байт) содержат <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C" target="_top">главную загрузочную запись
(MBR)</a>, которая состоит из таблицы разделов жёсткого диска и
программы, читающей и запускающей код с одного из этих разделов.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_stage_2_the_boot_loader"></a>3.3. Второй этап: загрузчик (boot loader)</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA_%D0%9E%D0%A1" target="_top">Загрузчик</a> -- это второй этап загрузочного
процесса, начатого BIOS'ом. Он загружает ядро и образ виртуального диска
<a class="ulink" href="http://ru.wikipedia.org/wiki/Initrd" target="_top">initrd</a> в память и передаёт им
управление. Initrd -- это образ корневой файловой системы и небольшое
количество команд, нужных для загрузки. Не всякий загрузчик умеет вызывать
initrd.</p>
<p>Debian обычно использует ядро Linux по умолчанию (хотя теперь поддерживается
и ядро FreeBSD). Технически, initrd -- это образ файловой системы initramfs,
которая создаётся в памяти (initial RAM filesystem). Образ initramfs --
сжатый архив, находящийся обычно в корневой файловой системе или в /boot.</p>
<p>По умолчанию установщик системы Debian располагает первую часть загрузчика
GRUB в главную загрузочную запись (<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C" target="_top">MBR</a>). Далее
могут идти разные загрузчики с разными настройками.</p>
<div class="table">
<a name="listofbootloaders"></a><p class="title"><b>Таблица 3.1. Список загрузчиков</b></p>
<div class="table-contents"><table summary="Список загрузчиков" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    загрузчик
    </th>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    initrd
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/GRUB" target="_top">GRUB Legacy</a>
              </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/grub-legacy" target="_top"> grub-legacy
</a> <a class="ulink" href="http://bugs.debian.org/grub-legacy" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=grub-legacy" target="_top">V:0.3, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/grub-legacy.html" target="_top">1984</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    Понимает различные форматы партиций и файловых систем, в том числе vfat,
ext3 и т.д.
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/GRUB" target="_top">GRUB 2</a>
              </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/grub-pc" target="_top"> grub-pc </a> <a class="ulink" href="http://bugs.debian.org/grub-pc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=grub-pc" target="_top">V:4, I:22</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/grub-pc.html" target="_top">2452</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    То же, новая версия с другой системой настройки
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/GRUB" target="_top">GRUB 2</a>
              </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/grub-rescue-pc" target="_top"> grub-rescue-pc
</a> <a class="ulink" href="http://bugs.debian.org/grub-rescue-pc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=grub-rescue-pc" target="_top">V:0.04, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/grub-rescue-pc.html" target="_top">3896</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    Загрузочные образы для восстановления (CD and floppy) (PC/ BIOS version)
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/LILO" target="_top">Lilo</a>
              </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lilo" target="_top"> lilo </a> <a class="ulink" href="http://bugs.debian.org/lilo" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lilo" target="_top">V:0.5, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lilo.html" target="_top">1236</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    Работает на основании данных о секторах, где начинается ядро (старый
стандартный загрузчик)
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Syslinux" target="_top">Isolinux</a>
              </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/syslinux" target="_top"> syslinux </a>
<a class="ulink" href="http://bugs.debian.org/syslinux" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=syslinux" target="_top">V:1.2, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/syslinux.html" target="_top">160</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    Понимает ISO9660 ФС. Используется в загрузочных CD.
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Syslinux" target="_top">Syslinux</a>
              </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/syslinux" target="_top"> syslinux </a>
<a class="ulink" href="http://bugs.debian.org/syslinux" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=syslinux" target="_top">V:1.2, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/syslinux.html" target="_top">160</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    Понимает ФС MSDOS -- <a class="ulink" href="http://ru.wikipedia.org/wiki/File_Allocation_Table" target="_top">FAT</a>
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Loadlin" target="_top">Loadlin</a>
              </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/loadlin" target="_top"> loadlin </a> <a class="ulink" href="http://bugs.debian.org/loadlin" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=loadlin" target="_top">V:0.03, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/loadlin.html" target="_top">144</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    Загружает Linux из уже запущенной DOS
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://www.chiark.greenend.org.uk/~neilt/" target="_top">MBR</a>
              </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mbr" target="_top"> mbr </a> <a class="ulink" href="http://bugs.debian.org/mbr" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mbr" target="_top">V:0.8, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mbr.html" target="_top">96</a></td>
<td align="left">
    не поддерживается
    </td>
<td align="left">
    Свободная программа, заменяющая MSDOS <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C" target="_top">MBR</a>. "Понимает" только разделы диска.
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не играйте с загрузчиком, не имея диска для восстановления системы,
созданных с помощью <code class="literal">grub-rescue-pc</code>. Вы можете остаться
даже без работающего загрузчика.</p>
</div>
<p>В загрузчике GRUB файл настройки находится в
"<code class="literal">/boot/grub/menu.lst</code>". Там могут быть такие строчки.</p>
<pre class="screen">title           Debian GNU/Linux
root            (hd0,2)
kernel          /vmlinuz root=/dev/hda3 ro
initrd          /initrd.img</pre>
<p>Последняя версия GRUB, grub-pc или GRUB 2, использует файл
"<code class="literal">/boot/grub/grub.cfg</code>", который имеет немного другой
формат и автоматически создаётся программой
"<code class="literal">/usr/sbin/update-grub</code>" из шаблонов в
"<code class="literal">/etc/grub.d/*</code>" и настроек в
"<code class="literal">/etc/default/grub</code>". Там могут быть такие строчки.</p>
<pre class="screen">menuentry \"Debian GNU/Linux\" {
        set root=(hd0,3)
        linux /vmlinuz root=/dev/hda3
        initrd /initrd.img
}</pre>
<p>Описание параметров настройки GRUB, использованных в приведённых примерах.</p>
<div class="table">
<a name="themeaningofgrubparameters"></a><p class="title"><b>Таблица 3.2. Значения параметров GRUB</b></p>
<div class="table-contents"><table summary="Значения параметров GRUB" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    параметр GRUB
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                <code class="literal">root</code>
              </td>
<td align="left">
    использовать третий раздел первого жёсткого диска
"<code class="literal">(hd0,2)</code>" в GRUB и "<code class="literal">(hd0,3)</code>" в GRUB 2 
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">kernel</code>
              </td>
<td align="left">
    использовать файл ядра "<code class="literal">/vmlinuz</code>" с параметром запуска
ядра "<code class="literal">root=/dev/hda3 ro</code>" 
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">initrd</code>
              </td>
<td align="left">
    загружать initrd/initramfs из файла "<code class="literal">/initrd.img</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Значения номеров разделов, используемое в GRUB, отличается от используемого
ядром и программами. В GRUB 2 это исправлено.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/UUID" target="_top">UUID</a> (см. <a class="xref" href="#_accessing_partition_using_uuid" title="9.3.2. Обращение к разделам по их UUID">Раздел 9.3.2, «Обращение к разделам по их UUID»</a>) может использоваться для
идентификации блокового специального устройства вместо иго имени файла
(напр., "<code class="literal">/dev/hda3</code>"). Например,
"<code class="literal">root=UUID=81b289d5-4341-4003-9602-e254a17ac232 ro</code>"</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете запускать один загрузчик из другого, используя <a class="ulink" href="http://en.wikipedia.org/wiki/Chain_loading" target="_top">технику загрузки по цепочке</a> (chain loading).</p>
</div>
<p>Смотрите "<code class="literal">info grub</code>" и
<code class="literal">gnub-install</code>(8).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_stage_3_the_mini_debian_system"></a>3.4. Третий этап: мини-система Debian</h2></div></div></div>
<p>Мини-система Debian -- третий этап загрузки, который получает управление от
загрузчика и передаёт его программам запуска основной системы Debian. Этот
этап может отсутствовать в системе, но используется в Debian по умолчанию.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Термин "мини-система Debian" придуман автором, чтобы подчеркнуть смысл 3-го
этапа загрузки в этом документе. Обычно этот этап описывается как <a class="ulink" href="http://ru.wikipedia.org/wiki/Initrd" target="_top">initrd</a> или initramfs система. Похожая система,
развёрнутая в оперативной памяти компьютера, используется <a class="ulink" href="http://www.debian.org/devel/debian-installer/" target="_top">программой установки Debian</a>.</p>
</div>
<p>Мини-система Debian -- третий этап загрузки, который получает управление от
загрузчика и передаёт его программам запуска основной системы Debian. Этот
этап может отсутствовать в системе, но используется в Debian по
умолчанию. После загрузки ядра запускается сценарий
"<code class="literal">/init</code>" из образа мини-системы <code class="literal">initrd</code>
в памяти. Он настраивает (включает) параметры ядра в пользовательской
области (user space) и передаёт управление следующему этапу. Мини-система
предоставляет возможность добавить нужные модули до того, как главный
загрузочный процесс начнёт, например, подключать корневую файловую систему
как зашифрованную.</p>
<p>Вы можете прервать этот этап загрузки и получить командную строку, добавив
параметр ядра "<code class="literal">break=init</code>". См. сценарий
"<code class="literal">/init</code>" о других случаях остановки. Это окружение
командной строки достаточно сложное, чтобы определить установленное
оборудование.</p>
<p>Доступные программы предельно уменьшены по размеру и состоят, главным
образом, из средств GNU <code class="literal">busybox</code>(1).</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Нужно использовать параметр "<code class="literal">-n</code>" для команды mount когда
вы работаете с файловой системы, доступной только для чтения.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_stage_4_the_normal_debian_system"></a>3.5. Четвёртый этап: нормальная система Debian</h2></div></div></div>
<div class="table">
<a name="listofbootutilitrthedebiansystem"></a><p class="title"><b>Таблица 3.3. Список загрузочных утилит для Debian</b></p>
<div class="table-contents"><table summary="Список загрузочных утилит для Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/initscripts" target="_top">
<code class="literal">initscripts</code> </a> <a class="ulink" href="http://bugs.debian.org/initscripts" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=initscripts" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/initscripts.html" target="_top">280</a></td>
<td align="left">
    сценарии инициализации и выключения системы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sysvinit" target="_top">
<code class="literal">sysvinit</code> </a> <a class="ulink" href="http://bugs.debian.org/sysvinit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sysvinit" target="_top">V:85, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sysvinit.html" target="_top">208</a></td>
<td align="left">
    утилиты <code class="literal">init</code>(8) в стиле UNIX System V
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sysv-rc" target="_top">
<code class="literal">sysv-rc</code> </a> <a class="ulink" href="http://bugs.debian.org/sysv-rc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sysv-rc" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sysv-rc.html" target="_top">296</a></td>
<td align="left">
    механизм смены уровня выполнения (runlevel) в стиле System V
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sysvinit-utils" target="_top">
<code class="literal">sysvinit-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/sysvinit-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sysvinit-utils" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sysvinit-utils.html" target="_top">224</a></td>
<td align="left">
    утилиты System V (<code class="literal">startpar</code>(8),
<code class="literal">bootlogd</code>(8), …)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lsb-base" target="_top">
<code class="literal">lsb-base</code> </a> <a class="ulink" href="http://bugs.debian.org/lsb-base" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lsb-base" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lsb-base.html" target="_top">36</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Linux_Standard_Base" target="_top">Linux Standard Base</a> 3.2 --
библиотека для загрузочных сценариев
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/insserv" target="_top">
<code class="literal">insserv</code> </a> <a class="ulink" href="http://bugs.debian.org/insserv" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=insserv" target="_top">V:20, I:23</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/insserv.html" target="_top">292</a></td>
<td align="left">
    формирование порядка загрузки на основе зависимостей LSB-сценариев init.d
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/upstart" target="_top">
<code class="literal">upstart</code> </a> <a class="ulink" href="http://bugs.debian.org/upstart" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=upstart" target="_top">V:0.15, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/upstart.html" target="_top">700</a></td>
<td align="left">
    служба начальной загрузки системы на основе событий (альтернатива
<code class="literal">sysvinit</code>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/readahead-fedora" target="_top">
<code class="literal">readahead-fedora</code> </a> <a class="ulink" href="http://bugs.debian.org/readahead-fedora" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=readahead-fedora" target="_top">V:0.3, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/readahead-fedora.html" target="_top">144</a></td>
<td align="left">
<code class="literal">readahead</code>(8) -- упреждающее чтение загрузочных файлов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/uswsusp" target="_top">
<code class="literal">uswsusp</code> </a> <a class="ulink" href="http://bugs.debian.org/uswsusp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=uswsusp" target="_top">V:5, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/uswsusp.html" target="_top">536</a></td>
<td align="left">
    утилиты для временной приостановки работы системы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kexec-tools" target="_top">
<code class="literal">kexec-tools</code> </a> <a class="ulink" href="http://bugs.debian.org/kexec-tools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kexec-tools" target="_top">V:0.18, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kexec-tools.html" target="_top">256</a></td>
<td align="left">
    <code class="literal">kexec</code>(8) -- "мягкая" перезагрузка ядра без перезагрузки
системы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bootchart" target="_top">
<code class="literal">bootchart</code> </a> <a class="ulink" href="http://bugs.debian.org/bootchart" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bootchart" target="_top">V:0.14, I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bootchart.html" target="_top">132</a></td>
<td align="left">
    анализ процесса начальной загрузки с точки зрения производительности
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bootchart-view" target="_top">
<code class="literal">bootchart-view</code> </a> <a class="ulink" href="http://bugs.debian.org/bootchart-view" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bootchart-view" target="_top">V:0.11, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bootchart-view.html" target="_top">280</a></td>
<td align="left">
    анализ процесса начальной загрузки с точки зрения производительности
(отображение)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mingetty" target="_top">
<code class="literal">mingetty</code> </a> <a class="ulink" href="http://bugs.debian.org/mingetty" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mingetty" target="_top">V:0.2, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mingetty.html" target="_top">64</a></td>
<td align="left">
    <code class="literal">getty</code>(8) только для консоли
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mgetty" target="_top">
<code class="literal">mgetty</code> </a> <a class="ulink" href="http://bugs.debian.org/mgetty" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mgetty" target="_top">V:0.2, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mgetty.html" target="_top">416</a></td>
<td align="left">
    <code class="literal">getty</code>(8) для модема
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Здесь описывается классический способ загрузки системы в стиле <a class="ulink" href="http://ru.wikipedia.org/wiki/UNIX_System_V" target="_top">System V</a>, который используется в
<code class="literal">lenny</code>. Сейчас Debian переходит на другой, управляемый
событиями, способ. См. <a class="ulink" href="http://lists.debian.org/debian-devel-announce/2009/09/msg00003.html" target="_top">The
future of the boot system in Debian</a> и <a class="ulink" href="http://wiki.debian.org/LSBInitScripts/DependencyBasedBoot" target="_top">Dependency based boot sequence</a>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Все загрузочные механизмы совместимы через сценарии
"<code class="literal">/etc/init.d/rc</code>", "<code class="literal">/etc/init.d/rcS</code>",
"<code class="literal">/usr/sbin/update-rc.d</code>" и
<code class="literal">/usr/sbin/update-rc.d</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Пакет <code class="literal">readahead-fedora</code> может ускорить загрузку системы с
достаточно большим количеством памяти (DRAM).</p>
</div>
<p>Этот этап запускается мини-системой Debian как последний этап загрузки. Ядро
системы, загруженное и настроенное на предыдущем этапе, продолжает работать
здесь. Корневая файловая система теперь подключается с диска (согласно
параметру "root=" ядра).</p>
<p>Первой запускаемой программой на этом этапе становится
"<code class="literal">/sbin/init</code>", которая и выполняет процесс загрузки. В
Debian используется схема загрузки, называемая <code class="literal">sysvinit</code>
из пакета <code class="literal">sysv-rc</code>. Смотрите <code class="literal">init</code>(8),
<code class="literal">inittab</code>(5) и
"<code class="literal">/usr/share/doc/sysv-rc/README.runlevels.gz</code>" для точного
описания. Этот главный загрузочный процесс проходит следующие стадии.</p>
<div class="orderedlist"><ol type="1">
<li>
Назначается <span class="strong"><strong>уровень выполнения N</strong></span>
(runlevel N, none) чтобы инициализировать систему по
"<code class="literal">/etc/inittab</code>".
</li>
<li>
Система переходит на <span class="strong"><strong>уровень выполнения
"S"</strong></span> (single-user mode) и выполняет важнейшие задачи загрузки,
например, подключает оставшееся оборудование заданным способом.
</li>
<li>
Система переходит на один из уровней выполнения с номером 2-5 (<span class="strong"><strong>multi-user mode</strong></span>) и запускает системные службы.
</li>
</ol></div>
<p>Уровень выполнения, на который система переходит с самого начала,
определяется параметром ядра "<code class="literal">init=</code>" или ключом
"<code class="literal">initdefault</code>" файла "<code class="literal">/etc/inittab</code>". По
умолчанию установленная система Debian стартует на уровне 2.</p>
<p>Все сценарии, вызываемые при инициализации системы, находятся в
"<code class="literal">/etc/init.d/</code>".</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_meaning_of_the_runlevel"></a>3.5.1. Уровни выполнения (runlevels)</h3></div></div></div>
<p>Для каждого <a class="ulink" href="http://en.wikipedia.org/wiki/Runlevel" target="_top">уровень выполнения</a> существует
каталог, где находятся настраивающие его сценарии. Каждый уровень выполнения
имеет свои задачи.</p>
<div class="table">
<a name="listofrunlevelsationoftheirusage"></a><p class="title"><b>Таблица 3.4. Список уровней выполнения и описание их использования</b></p>
<div class="table-contents"><table summary="Список уровней выполнения и описание их использования" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    уровень выполнения
    </th>
<th align="left">
    каталог
    </th>
<th align="left">
    описание использования
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">N</code>
                </td>
<td align="left">
    нет
    </td>
<td align="left">
    начальное состояние системы, каталог настройки
"<code class="literal">/etc/rcN.d</code>" отсутствует
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">0</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc0.d/</code>
                </td>
<td align="left">
    выключение системы
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">S</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rcS.d/</code>
                </td>
<td align="left">
    однопользовательский режим при загрузке (иногда пишут
"<code class="literal">s</code>")
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">1</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc1.d/</code>
                </td>
<td align="left">
    однопользовательский режим, включенный из многопользовательского
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">2</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc2.d/</code>
                </td>
<td align="left">
    многопользовательский режим
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">3</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc3.d/</code>
                </td>
<td align="left">
    ,,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">4</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc4.d/</code>
                </td>
<td align="left">
    ,,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">5</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc5.d/</code>
                </td>
<td align="left">
    ,,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">6</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc6.d/</code>
                </td>
<td align="left">
    перезагрузка системы
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">7</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc7.d/</code>
                </td>
<td align="left">
    допустимый многопользовательский режим, который обычно не используется
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">8</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc8.d/</code>
                </td>
<td align="left">
    ,,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">9</code>
                </td>
<td align="left">
                  <code class="literal">/etc/rc9.d/</code>
                </td>
<td align="left">
    ,,
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вы можете изменить уровень выполнения из консоли, например на 4 таким
способом:</p>
<pre class="screen">$ sudo telinit 4</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p><span class="strong"><strong>В системе Debian не предопределяется специальных
отличий между уровнями 2-5</strong></span>. Системный администратор сам может
сделать эти настройки. (Debian это ни <a class="ulink" href="http://ru.wikipedia.org/wiki/Red_Hat_Linux" target="_top">Red Hat
Linux</a>, ни <a class="ulink" href="http://ru.wikipedia.org/wiki/Solaris_(%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0)" target="_top">Solaris от Sun
Microsystems</a>, ни <a class="ulink" href="http://ru.wikipedia.org/wiki/HP-UX" target="_top">HP-UX от
Hewlett Packard</a>, ни <a class="ulink" href="http://ru.wikipedia.org/wiki/AIX" target="_top">AIX от IBM</a>, ни
...).</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Debian не создаёт каталогов для настройки уровней 7-9. Традиционные <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">варианты Unix</a> не используют эти <a class="ulink" href="http://en.wikipedia.org/wiki/Runlevel" target="_top">уровни</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_configuration_of_the_runlevel"></a>3.5.2. Конфигурация уровня выполнения</h3></div></div></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В <code class="literal">squeeze</code> вместо старого, алфавитного порядка выполнения
сценариев загрузки используется новый, на основе зависимостей,
предоставленный пакетом <code class="literal">insserv</code>. Значение
"<code class="literal">CONCURRENCY</code>" в "<code class="literal">/etc/default/rcS</code>"
управляет распараллеливанием: "<code class="literal">none</code>" -- без
распараллеливания, "<code class="literal">startpar</code>" -- параллельное выполнение
сценариев с одинаковым порядковым номером, "<code class="literal">makefile</code>" --
параллельное выполнение всех
сценариев. См. "<code class="literal">/usr/share/doc/insserv/README.Debian</code>".</p>
</div>
<p>В каталогах уровней выполнения "<code class="literal">/etc/rc&lt;уровень&gt;.d</code>"
находятся символические ссылки с именами в следующем формате:
"<code class="literal">S&lt;2-значное_число&gt;&lt;имя_сценария&gt;</code>" или
"<code class="literal">K&lt;2-значное_число&gt;&lt;имя_сценария&gt;</code>". 2-значное
число определяет очерёдность запуска сценария (меньший номер вызывается
первым), а "<code class="literal">S</code>" и "<code class="literal">K</code>" означают запуск
или остановку ("Start" или "Kill").</p>
<p>Если "<code class="literal">CONCURRENCY=none</code>", то <code class="literal">init</code>(8)
или <code class="literal">telinit</code>(8) при переходе на уровень выполнения
"&lt;n&gt;" выполняют следующие сценарии:</p>
<div class="orderedlist"><ol type="1">
<li>
Сценарии с именами "<code class="literal">K</code>" в
"<code class="literal">/etc/rc&lt;n&gt;.d/</code>" выполняются по порядку с
единственным параметром "<code class="literal">stop</code>" (остановка сервисов).
</li>
<li>
Сценарии с именами "<code class="literal">S</code>" в
"<code class="literal">/etc/rc&lt;n&gt;.d/</code>" выполняются по порядку с
единственным параметром "<code class="literal">start</code>" (запуск сервисов).
</li>
</ol></div>
<p>Например, если у вас есть ссылки "<code class="literal">S10sysklogd</code>" и
"<code class="literal">S20exim4</code>" в каталоге уровня выполнения,
"<code class="literal">S10sysklogd</code>" указывает на
"<code class="literal">../init.d/sysklogd</code>" и будет запущен до
"<code class="literal">S20exim4</code>", который указывает на
"<code class="literal">../init.d/exim4</code>".</p>
<p>Если "<code class="literal">CONCURRENCY=makefile</code>" (новое значение по
умолчанию), то для определения порядка выполнения используются зависимости,
определённые в заголовках сценариев инициализации.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не рекомендуется делать изменений в ссылках в
"<code class="literal">/etc/rcS.d/</code>", если только вы не разбираетесь в этом
лучше мейнтейнера.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_runlevel_management_example"></a>3.5.3. Пример настройки уровня выполнения</h3></div></div></div>
<p>Например, давайте настроим уровни выполнения примерно как в Red Hat Linux.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">init</code> запускает систему на уровне runlevel=3 по умолчанию.
</li>
<li>
<code class="literal">init</code> не запускает <code class="literal">gdm</code>(1) на уровнях
runlevel=(0,1,2,6).
</li>
<li>
<code class="literal">init</code> запускает <code class="literal">gdm</code>(1) на уровнях
runlevel=(3,4,5).
</li>
</ul></div>
<p>Это можно сделать, отредактировав файл "<code class="literal">/etc/inittab</code>"
вручную или используя дружелюбные средства управления
<code class="literal">sysv-rc-conf</code> или <code class="literal">bum</code>. Если вы
используете только командную строку, вот пример, как это можно сделать
(после установки пакета gdm и при условии, что он используется по
умолчанию).</p>
<pre class="screen"># cd /etc/rc2.d ; mv S21gdm K21gdm
# cd /etc ; perl -i -p -e 's/^id:.:/id:3:/' inittab</pre>
<p>Заметьте, что "<code class="literal">/etc/X11/default-display-manager</code>"
проверяется при запуске <code class="literal">xdm</code>, <code class="literal">gdm</code>,
<code class="literal">kdm</code> и <code class="literal">wdm</code>.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Запустить X из командной строки вы всегда можете с помощью
<code class="literal">startx</code>(1).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_default_parameter_for_each_init_script"></a>3.5.4. Параметры для init-скриптов</h3></div></div></div>
<p>Параметры для сценариев в "<code class="literal">/etc/init.d/</code>" берутся из
соответствующих файлов в "<code class="literal">/etc/default/</code>", содержащих
<span class="strong"><strong>только</strong></span> переменные окружения. Это имя
каталога -- особенность Debian. Он делает примерно то же, что каталог
"<code class="literal">/etc/sysconfig</code>" в <a class="ulink" href="http://ru.wikipedia.org/wiki/Red_Hat_Linux" target="_top">Red
Hat</a> и других дистрибутивах. Например,
"<code class="literal">/etc/default/cron</code>" можно использовать для настройки
поведения "<code class="literal">/etc/init.d/cron</code>".</p>
<p>В "<code class="literal">/etc/default/rcS</code>" можно настраивать умолчания для
<code class="literal">motd</code>(5), <code class="literal">sulogin</code>(8) и т.п.,
используемые во время загрузки.</p>
<p>Если не получается добиться нужного поведения с помощью этих параметров,
можно отредактировать сами сценарии в "<code class="literal">/etc/init.d/</code>". (Их
могут редактировать системные администраторы.)</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_hostname"></a>3.5.5. Имя системы (hostname)</h3></div></div></div>
<p>Ядро поддерживает имя системы в сети -- <span class="strong"><strong>hostname</strong></span>. Оно устанавливается на уровне
"<code class="literal">S</code>" сценарием
"<code class="literal">/etc/init.d/hostname.sh</code>" при загрузки системы с помощью
команды "<code class="literal">hostname</code>" согласно имени, содержащемуся в
"<code class="literal">/etc/hostname</code>". Этот файл должен содержать <span class="strong"><strong>только</strong></span> имя hostname, без имени домена.</p>
<p>Чтобы узнать текущее имя hostname, используйте команду
<code class="literal">hostname</code>(1) без аргументов.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_filesystem"></a>3.5.6. Файловая система</h3></div></div></div>
<p>Хотя корневая ФС подключается (монтируется) ядром, как только оно стартует,
другие файловые системы монтируются на уровне "<code class="literal">S</code>"
следующими init-скриптами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">/etc/init.d/mountkernfs.sh</code>" подключает системные ФС
"<code class="literal">/proc</code>", "<code class="literal">/sys</code>", и т.п.
</li>
<li>
"<code class="literal">/etc/init.d/mountdevsubfs.sh</code>" подключает виртуальную ФС
"<code class="literal">/dev</code>"
</li>
<li>
"<code class="literal">/etc/init.d/mountall.sh</code>" монтирует остальные ФС согласно
настройкам в "<code class="literal">/etc/fstab</code>".
</li>
<li>
<code class="literal">/etc/init.d/mountnfs.sh</code> монтирует сетевые ФС, указанные в
<code class="literal">/etc/fstab</code>.
</li>
</ul></div>
<p>Параметры монтирования устанавливаются в
"<code class="literal">/etc/fstab</code>". См. <a class="xref" href="#_optimization_of_filesystem_by_mount_options" title="9.3.5. Оптимизация файловой системы с помощью параметров монтирования">Раздел 9.3.5, «Оптимизация файловой системы с помощью параметров монтирования»</a>.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Монтирование сетевых ФС происходит после настройки сетевых интерфейсов.</p>
</div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>После монтирования всех ФС, временные файлы в "<code class="literal">/tmp</code>",
"<code class="literal">/var/lock</code>" и "<code class="literal">/var/run</code>" удаляются при
каждой загрузке.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_network_interface_initialization"></a>3.5.7. Инициализация сетевых интерфейсов</h3></div></div></div>
<p>Этим занимаются init-скрипты "<code class="literal">/etc/init.d/ifupdown-clean</code>"
и "<code class="literal">/etc/init.d/ifupdown</code>" на уровне
"<code class="literal">S</code>". См. <a class="xref" href="#_network_setup" title="Глава 5. Настройка сети">Глава 5, <i>Настройка сети</i></a>, о том, как это
происходит.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_network_service_initialization"></a>3.5.8. Запуск сетевых служб</h3></div></div></div>
<p>Многие сетевые службы (см. <a class="xref" href="#_network_applications" title="Глава 6. Сетевые приложения">Глава 6, <i>Сетевые приложения</i></a>)
запускаются в многопользовательском режиме в качестве процессов-демонов во
время загрузки, например, "<code class="literal">/etc/rc2.d/S20exim4</code>" (для
RUNLEVEL=2) это символическая ссылка на
"<code class="literal">/etc/init.d/exim4</code>".</p>
<p>Некоторые службы могут запускаться по требованию <a class="ulink" href="http://en.wikipedia.org/wiki/Super-server" target="_top">супер-сервером</a> inetd (или его аналогом). Inetd
запускается во время загрузки сценарием
"<code class="literal">/etc/init.d/inetd</code>", на который указывает символическая
ссылка "<code class="literal">/etc/rc2.d/S20inetd</code>" (для RUNLEVEL=2). Демон
<code class="literal">inetd</code> запускает другие сетевые службы, как только они
потребуются, снижая нагрузку на систему.</p>
<p>Как только <code class="literal">inetd</code> получает запрос к какой-то службе,
протокол этой службы и нужная программа определяется по файлам
"<code class="literal">/etc/protocols</code>" и
"<code class="literal">/etc/services</code>". После этого <code class="literal">inetd</code>
запускает нужную программу, исходя из своих настроек в файле
"<code class="literal">/etc/inetd.conf</code>" (если запрошена нормальная служба
Internet, например, ftp), либо в файле "<code class="literal">/etc/rpc.conf</code>"
(если запрошена служба <a class="ulink" href="http://ru.wikipedia.org/wiki/Sun_RPC" target="_top">RPC</a>).</p>
<p><code class="literal">Inetd</code> может не запускаться сам, а запускать программу
<code class="literal">tcpd</code>(8), с ожидаемым именем сервера в качестве
аргумента. В этом случае <code class="literal">tcpd</code>(8) запускает нужную службу
после записи запроса в журнал и дополнительных проверок, соответственно
файлам "<code class="literal">/etc/hosts.deny</code>" и
"<code class="literal">/etc/hosts.allow</code>".</p>
<p>Для безопасности системы, выключите столько сетевых служб, сколько
возможно. См. <a class="xref" href="#_restricting_access_to_some_server_services" title="4.6.3. Ограничение доступа к службам сервера">Раздел 4.6.3, «Ограничение доступа к службам сервера»</a>.</p>
<p>См. <code class="literal">inetd</code>(8), <code class="literal">inetd.conf</code>(5),
<code class="literal">protocols</code>(5), <code class="literal">services</code>(5),
<code class="literal">tcpd</code>(8), <code class="literal">hosts_access</code>(5),
<code class="literal">hosts_options</code>(5), <code class="literal">rpcinfo</code>(8),
<code class="literal">portmap</code>(8), и
"<code class="literal">/usr/share/doc/portmap/portmapper.txt.gz</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_system_message"></a>3.5.9. Системные сообщения</h3></div></div></div>
<p>Системные сообщения настраиваются в
"<code class="literal">/etc/default/syslogd</code>" и
"<code class="literal">/etc/syslog.conf</code>" как для записи в журналы (логи) так и
для вывода на экран. См. <code class="literal">syslogd</code>(8) и
<code class="literal">syslog.conf</code>(8). См. также <a class="xref" href="#_log_analyzer" title="9.2.2. Анализатор журнальных файлов (log analyzer)">Раздел 9.2.2, «Анализатор журнальных файлов (log analyzer)»</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_kernel_message"></a>3.5.10. Сообщения ядра</h3></div></div></div>
<p>Сообщения ядра настраиваются в "<code class="literal">/etc/default/klogd</code>" для
журнальных файлов (логов) и для вывода на экран. Установите
"<code class="literal">KLOGD='-c 3'</code>" в этом файле и запустите
"<code class="literal">/etc/init.d/klogd
restart</code>". См. <code class="literal">klogd</code>(8).</p>
<p>Вы можете также напрямую изменить уровень выводимых сообщений командой</p>
<pre class="screen"># dmesg -n3</pre>
<div class="table">
<a name="listofkernelerrorlevels"></a><p class="title"><b>Таблица 3.5. Список уровней сообщений ядра</b></p>
<div class="table-contents"><table summary="Список уровней сообщений ядра" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    номер уровня ошибки
    </th>
<th align="left">
    имя уровня ошибки
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    0 
    </td>
<td align="left">
    KERN_EMERG
    </td>
<td align="left">
    система неработоспособна
    </td>
</tr>
<tr>
<td align="left">
    1 
    </td>
<td align="left">
    KERN_ALERT
    </td>
<td align="left">
    необходимо немедленно принять меры
    </td>
</tr>
<tr>
<td align="left">
    2 
    </td>
<td align="left">
    KERN_CRIT
    </td>
<td align="left">
    критическая ошибка
    </td>
</tr>
<tr>
<td align="left">
    3
    </td>
<td align="left">
    KERN_ERR
    </td>
<td align="left">
    ошибка
    </td>
</tr>
<tr>
<td align="left">
    4
    </td>
<td align="left">
    KERN_WARNING
    </td>
<td align="left">
    предупреждение
    </td>
</tr>
<tr>
<td align="left">
    5
    </td>
<td align="left">
    KERN_NOTICE
    </td>
<td align="left">
    обычное, но важное сообщение
    </td>
</tr>
<tr>
<td align="left">
    6
    </td>
<td align="left">
    KERN_INFO
    </td>
<td align="left">
    информационное сообщение
    </td>
</tr>
<tr>
<td align="left">
    7
    </td>
<td align="left">
    KERN_DEBUG
    </td>
<td align="left">
    отладочное сообщение
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_udev_system"></a>3.5.11. Система udev</h3></div></div></div>
<p>Для ядер Linux версии 2.6, <a class="ulink" href="http://en.wikipedia.org/wiki/Udev" target="_top">система udev</a>
предоставляет механизм автоматического обнаружения оборудования и его
подключения. (см. <code class="literal">udev</code>(7)). Сразу после обнаружения
устройства ядром (то есть как только оно будет подключено), система udev
запускает пользовательский процесс, который, используя информацию из
"<code class="literal">/sys</code>" (см. <a class="xref" href="#_procfs_and_sysfs" title="1.2.12. procfs и sysfs">Раздел 1.2.12, «procfs и sysfs»</a>),
загружает нужные модули ядра (поддерживающие это оборудование) с помощью
<code class="literal">modprobe</code>(8) (см. <a class="xref" href="#_the_kernel_module_initialization" title="3.5.12. Загрузка модулей ядра">Раздел 3.5.12, «Загрузка модулей ядра»</a>), и создаёт соответствующие
файлы устройств в "/dev/".</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если почему-то файл
"<code class="literal">/lib/modules/&lt;версия_ядра&gt;/modules.dep</code>" был
сгенерирован неправильно, модули не смогут загружаться, как этого ожидает
система udev. Выполните "<code class="literal">depmod -a</code>", чтобы это исправить.</p>
</div>
<p>Имена файлов устройств могут быть настроены в файлах правил udev в
"<code class="literal">/etc/udev/rules.d/</code>". Сейчас существует тенденция
динамически генерировать имена, что приводит к непостоянным именам всех
устройств, кроме CD или сетевых. Вводя свои правила, похожие на правила для
CD или сетевых устройств, вы можете генерировать статичные имена для других
устройств типа карт памяти USB. См. "<a class="ulink" href="http://www.reactivated.net/writing_udev_rules.html" target="_top">Writing
udev rules</a>" или
"<code class="literal">/usr/share/doc/udev/writing_udev_rules/index.html</code>".</p>
<p>Поскольку система udev активно развивается, я оставляю подробности за другой
документацией и сообщаю здесь минимум информации.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>В правилах монтирования в "<code class="literal">/etc/fstab</code>" имена устройств не
обязаны быть статическим. Вы можете корректно подключать их с помощью UUID,
а не по именам устройств. См. <a class="xref" href="#_accessing_partition_using_uuid" title="9.3.2. Обращение к разделам по их UUID">Раздел 9.3.2, «Обращение к разделам по их UUID»</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_kernel_module_initialization"></a>3.5.12. Загрузка модулей ядра</h3></div></div></div>
<p>Программа <code class="literal">modprobe</code>(8) облегчает подстройку работающего
ядра Linux. Она позволяет пользовательским процессам, добавлять или удалять
модули ядра. Система udev (см. <a class="xref" href="#_the_udev_system" title="3.5.11. Система udev">Раздел 3.5.11, «Система udev»</a>)
автоматизирует запуск этой программы для подключения модулей поддержки
оборудования.</p>
<p>Однако есть много модулей, которые нужны не для подключения оборудования,
либо нужны для подключения особых драйверов оборудования, которые
подключаются заранее согласно настройкам в "<code class="literal">/etc/modules</code>"
(см. <code class="literal">modules</code>(5)).</p>
<div class="itemizedlist"><ul type="disc">
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/TUN/TAP" target="_top">TUN/TAP</a> модули для устройств виртуальной сети
Point-to-Point (TUN) и виртуальный Ethernet-интерфейс (TAP),
</li>
<li>Модули <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter</a>, предоставляющие
возможности фаервола (firewall) (<code class="literal">iptables</code>(8), <a class="xref" href="#_netfilter_infrastructure" title="5.9. Инфраструктура Netfilter">Раздел 5.9, «Инфраструктура Netfilter»</a>) и
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%BE%D1%80%D0%BE%D0%B6%D0%B5%D0%B2%D0%BE%D0%B9_%D1%82%D0%B0%D0%B9%D0%BC%D0%B5%D1%80" target="_top">устройство мониторинга watchdog</a>
</li>
</ul></div>
<p>Настройки для команды <code class="literal">modprobe</code>(8) лежат в
"<code class="literal">/etc/modprobe.d/</code>", как и описано в
<code class="literal">modprobe.conf</code>(5). (Если вы не хотите, чтобы некоторые
модули подгружались автоматически, их можно включить в чёрный список
"<code class="literal">/etc/ modprobe.d/blacklist</code>").</p>
<p>Файл "<code class="literal">/lib/modules/&lt;версия_ядра&gt;/modules.dep</code>"
генерируется <code class="literal">depmod</code>(8) и описывает взаимные зависимости
модулей, используемых программой <code class="literal">modprobe</code>(8).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Если вы загружаете модули во время запуска системы или с помощью
<code class="literal">modprobe</code>(8), команда "<code class="literal">depmod -a</code>" может
изменить нужные настройки, заново сгенерировав файл
"<code class="literal">modules.dep</code>".</p>
</div>
<p>Программа <code class="literal">modinfo</code>(8) показывает информацию о модуле ядра.</p>
<p>Программа <code class="literal">lsmod</code>(8) выводит на экран отформатированное
содержимое файла "<code class="literal">/proc/modules</code>", в котором
регистрируются загруженные в системе модули.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете точно определить оборудование в вашей системе. См. <a class="xref" href="#_hardware_identification" title="9.6.3. Определение оборудования">Раздел 9.6.3, «Определение оборудования»</a>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете настраивать оборудование во время загрузки чтобы активизировать
ожидаемые от него возможности. См. <a class="xref" href="#_hardware_configuration" title="9.6.4. Настройка оборудования">Раздел 9.6.4, «Настройка оборудования»</a>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете добавить поддержку собственных устройств, пересобрав
ядро. См. <a class="xref" href="#_the_kernel" title="9.7. Ядро">Раздел 9.7, «Ядро»</a>.</p>
</div>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_authentication"></a>Глава 4. Аутентификация</h2></div></div></div>
<p>Когда человек (или программа) запрашивает доступ в систему, аутентификация
проверяет, имеет ли он этот доступ.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Ошибки в конфигурации PAM могут лишить вас доступа к собственной
системе. Вам необходимо иметь спасательный диск или альтернативный
загрузочный раздел на диске. Для восстановления, загрузитесь с них и
исправьте что нужно.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_normal_unix_authentication"></a>4.1. Обычная авторизация в Unix</h2></div></div></div>
<p>Обыкновенная авторизация в Unix предоставляется модулем
<code class="literal">pam_unix</code>(8) из системы <a class="ulink" href="http://ru.wikipedia.org/wiki/Pluggable_Authentication_Modules" target="_top">PAM (Pluggable Authentication
Modules)</a>. Есть 3 файла, служащих источником информации при
авторизации, в которых поля разделяются двоеточием
"<code class="literal">:</code>". Вот их описание.</p>
<div class="table">
<a name="dimportantconfigilesforpam_unixi"></a><p class="title"><b>Таблица 4.1. 3 важных конфигурационных файла для <code class="literal">pam_unix</code>(8)</b></p>
<div class="table-contents"><table summary="3 важных конфигурационных файла для pam_unix(8)" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл
    </th>
<th align="left">
    разрешение
    </th>
<th align="left">
    пользователь
    </th>
<th align="left">
    группа
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                <code class="literal">/etc/passwd</code>
              </td>
<td align="left">
                <code class="literal">-rw-r--r--</code>
              </td>
<td align="left">
                <code class="literal">root</code>
              </td>
<td align="left">
                <code class="literal">root</code>
              </td>
<td align="left">
    (очищен от паролей) информация об учётных записях
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">/etc/shadow</code>
              </td>
<td align="left">
                <code class="literal">-rw-r-----</code>
              </td>
<td align="left">
                <code class="literal">root</code>
              </td>
<td align="left">
                <code class="literal">shadow</code>
              </td>
<td align="left">
    список пользователей и их паролей (хэшей паролей)
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">/etc/group</code>
              </td>
<td align="left">
                <code class="literal">-rw-r--r--</code>
              </td>
<td align="left">
                <code class="literal">root</code>
              </td>
<td align="left">
                <code class="literal">root</code>
              </td>
<td align="left">
    информация о группах и пользователях в них
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>"<code class="literal">/etc/passwd</code>" имеет вид:</p>
<pre class="screen"> ...
user1:x:1000:1000:User1 Name,,,:/home/user1:/bin/bash
user2:x:1001:1001:User2 Name,,,:/home/user2:/bin/bash
 ...</pre>
<p>Как и описано в <code class="literal">passwd</code>(5), разделённые двоеточиями
"<code class="literal">:</code>" поля означают:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Login name -- имя пользователя для входа в систему
</li>
<li>
Password specification entry -- способы хранения пароля, его наличие
</li>
<li>
User Id -- числовой идентификатор пользователя
</li>
<li>
Group ID -- числовой идентификатор группы
</li>
<li>
Реальное имя пользователя или комментарий
</li>
<li>
Домашний каталог
</li>
<li>
Командный интерпретатор пользователя (опционально)
</li>
</ul></div>
<p>Второе поле в "<code class="literal">/etc/passwd</code>" раньше использовалось для
хранения пароля. Теперь оно имеет другое значение.</p>
<div class="table">
<a name="thesecondentrycontentofetcpasswd"></a><p class="title"><b>Таблица 4.2. Второе поле в "<code class="literal">/etc/passwd</code>"</b></p>
<div class="table-contents"><table summary='Второе поле в "/etc/passwd"' border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    содержимое
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    (пусто)
    </td>
<td align="left">
    учётная запись без пароля
    </td>
</tr>
<tr>
<td align="left">
    x
    </td>
<td align="left">
    зашифрованный пароль находится в "<code class="literal">/etc/shadow</code>"
    </td>
</tr>
<tr>
<td align="left">
    *
    </td>
<td align="left">
    учётная запись без возможности входа
    </td>
</tr>
<tr>
<td align="left">
    !
    </td>
<td align="left">
    учётная запись без возможности входа
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>"<code class="literal">/etc/shadow</code>" имеет вид:</p>
<pre class="screen"> ...
user1:$1$Xop0FYH9$IfxyQwBe9b8tiyIkt2P4F/:13262:0:99999:7:::
user2:$1$vXGZLVbS$ElyErNf/agUDsm1DehJMS/:13261:0:99999:7:::
 ...</pre>
<p>Как и описано в <code class="literal">shadow</code>(5), поля, отделённые двоеточиями,
означают:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Login name -- имя пользователя для входа в систему
</li>
<li>
Зашифрованный пароль (Начальные "<code class="literal">$1$</code>" указывают, что
используется шифрование MD5. "<code class="literal">*</code>" означает, что
пользователь не имеет возможности входа в систему).
</li>
<li>
Количество дней с 1 января 1970 до того дня, когда пароль был изменён в
последний раз.
</li>
<li>
Количество дней до того дня, когда пароль может быть изменён.
</li>
<li>
Количество дней, по прошествию которых пароль должен быть изменён.
</li>
<li>
Количество дней, оставшихся до истечения срока действия пароля.
</li>
<li>
…
</li>
</ul></div>
<p>"<code class="literal">/etc/group</code>" имеет вид:</p>
<pre class="screen">group1:x:20:user1,user2</pre>
<p>Как и описано в <code class="literal">passwd</code>(5), разделённые двоеточиями
"<code class="literal">:</code>" поля означают:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Имя группы
</li>
<li>
Зашифрованный пароль (не используется).
</li>
<li>
Group ID -- числовой идентификатор группы
</li>
<li>
Разделённый запятыми "," список пользователей, входящих в эту группу.
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>"<code class="literal">/etc/gshadow</code>" похож по функциональности на
"<code class="literal">/etc/shadow</code>", но предназначен для
"<code class="literal">/etc/group</code>", однако реально не используется.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Членство пользователя в группах может динамически меняться, если в файле
"<code class="literal">/etc/pam.d/common-auth</code>" включить строчку "<code class="literal">auth
optional pam_group.so</code>", и настроить
"<code class="literal">/etc/security/group.conf</code>".
См. <code class="literal">pam_group</code>(8).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Пакет <code class="literal">base-passwd</code> содержит авторитетный список
пользователей и групп:
<code class="literal">/usr/share/doc/base-passwd/users-and-groups.html</code>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_managing_account_and_password_information"></a>4.2. Управление учётными записями и паролями</h2></div></div></div>
<p>Вот некоторые важные команды для управления учётными записями.</p>
<div class="table">
<a name="listofcommandstocountinformation"></a><p class="title"><b>Таблица 4.3. Список команд для управления учётными записями</b></p>
<div class="table-contents"><table summary="Список команд для управления учётными записями" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                <code class="literal">getent passwd &lt;имя_пользователя&gt;</code>
              </td>
<td align="left">
    просмотреть информацию о пользователе (получить его строчку из
"<code class="literal">/etc/passwd</code>")
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">getent shadow &lt;имя_пользователя&gt;</code>
              </td>
<td align="left">
    просмотреть скрытую (shadow) информацию о пользователе (получить его строчку
из "<code class="literal">/etc/shadow</code>")
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">getent group &lt;имя_группы&gt;</code>
              </td>
<td align="left">
    просмотреть информацию о группе "<code class="literal">&lt;имя_группы&gt;</code>"
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">passwd</code>
              </td>
<td align="left">
    управление паролем учётной записи
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">passwd -e</code>
              </td>
<td align="left">
    установить одноразовый пароль для активации учётной записи
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">chage</code>
              </td>
<td align="left">
    управление сроком действия пароля
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Для некоторых действий необходимы полномочия root. О методах шифрования
паролей и данных можно прочитать в <code class="literal">crypt</code>(3).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>На системе с PAM и NSS содержимое локальных
"<code class="literal">/etc/passwd</code>", "<code class="literal">/etc/group</code>" и
"<code class="literal">/etc/shadow</code>" может в действительности не использоваться
активно системой. Приведённые примеры имеют смысл только для
соответствующего окружения.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_good_password"></a>4.3. Хороший пароль</h2></div></div></div>
<p>Создавая учётную запись во время установки системы или вручную командой
<code class="literal">passwd</code>(1), выбирайте <a class="ulink" href="http://en.wikipedia.org/wiki/Password_strength" target="_top">надёжный
пароль</a>, который состоит из 6-8 символов и включает один или более
символов из каждого набора:</p>
<div class="itemizedlist"><ul type="disc">
<li>
букв в нижнем регистре
</li>
<li>
цифр от 0 до 9
</li>
<li>
знаков пунктуации
</li>
</ul></div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не используйте предсказуемые слова в качестве пароля.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_creating_encrypted_password"></a>4.4. Создание зашифрованного пароля</h2></div></div></div>
<p>Есть независимые средства генерации зашифрованных паролей.</p>
<div class="table">
<a name="listoftoolstogeneratepassword"></a><p class="title"><b>Таблица 4.4. Средства генерации пароля</b></p>
<div class="table-contents"><table summary="Средства генерации пароля" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    команда
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/whois" target="_top"> <code class="literal">whois</code>
</a> <a class="ulink" href="http://bugs.debian.org/whois" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=whois" target="_top">V:11, I:88</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/whois.html" target="_top">396</a></td>
<td align="left">
                <code class="literal">mkpasswd</code>
              </td>
<td align="left">
    средство взаимодействия с библиотекой <code class="literal">crypt</code>(3) с широкими
возможностями
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openssl" target="_top">
<code class="literal">openssl</code> </a> <a class="ulink" href="http://bugs.debian.org/openssl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openssl" target="_top">V:54, I:91</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openssl.html" target="_top">2376</a></td>
<td align="left">
                <code class="literal">openssl passwd</code>
              </td>
<td align="left">
    вычисление хэшей паролей (OpenSSL). <code class="literal">passwd</code>(1ssl)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_pam_and_nss"></a>4.5. PAM и NSS</h2></div></div></div>
<p>Современные <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">наследники Unix-систем</a>,
например, Debian, содержат механизмы <a class="ulink" href="http://ru.wikipedia.org/wiki/Pluggable_Authentication_Modules" target="_top">PAM (Pluggable Authentication
Modules)</a> и <a class="ulink" href="http://en.wikipedia.org/wiki/Name_Service_Switch" target="_top">NSS (Name Service
Switch)</a>. Их роль можно кратко описать так.</p>
<div class="itemizedlist"><ul type="disc">
<li>
PAM предоставляет гибкий механизм авторизации, используемый прикладным ПО
для обмена данными авторизации.
</li>
<li>
NSS предоставляет гибкий механизм обслуживания имён, часто используемый в
стандартной библиотеку C для получения имён пользователя и группы, например,
в таких программах, как <code class="literal">ls</code>(1) и <code class="literal">id</code>(1).
</li>
</ul></div>
<p>Эти системы должны быть настроены для совместной работы.</p>
<p>Вот основные пакеты, содержащие части систем NSS и PAM.</p>
<div class="table">
<a name="listofnotablepamandnsssystems"></a><p class="title"><b>Таблица 4.5. Основные части систем NSS и PAM</b></p>
<div class="table-contents"><table summary="Основные части систем NSS и PAM" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libpam-modules" target="_top">
<code class="literal">libpam-modules</code> </a> <a class="ulink" href="http://bugs.debian.org/libpam-modules" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libpam-modules" target="_top">V:87, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libpam-modules.html" target="_top">1096</a></td>
<td align="left">
    Pluggable Authentication Modules (основная служба)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libpam-ldap" target="_top">
<code class="literal">libpam-ldap</code> </a> <a class="ulink" href="http://bugs.debian.org/libpam-ldap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libpam-ldap" target="_top">V:2, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libpam-ldap.html" target="_top">408</a></td>
<td align="left">
    Pluggable Authentication Module для использования с LDAP
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libpam-cracklib" target="_top">
<code class="literal">libpam-cracklib</code> </a> <a class="ulink" href="http://bugs.debian.org/libpam-cracklib" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libpam-cracklib" target="_top">V:1.8, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libpam-cracklib.html" target="_top">148</a></td>
<td align="left">
    Pluggable Authentication Module включающий поддержку библиотеки cracklib
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libpam-doc" target="_top">
<code class="literal">libpam-doc</code> </a> <a class="ulink" href="http://bugs.debian.org/libpam-doc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libpam-doc" target="_top">I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libpam-doc.html" target="_top">1204</a></td>
<td align="left">
    Pluggable Authentication Modules (документация в html и текстовом формате)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libc6" target="_top"> <code class="literal">libc6</code>
</a> <a class="ulink" href="http://bugs.debian.org/libc6" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libc6" target="_top">V:96, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libc/libc6.html" target="_top">10000</a></td>
<td align="left">
    GNU C Library: библиотека общего пользования, поддерживающая "Name Service
Switch"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/glibc-doc" target="_top">
<code class="literal">glibc-doc</code> </a> <a class="ulink" href="http://bugs.debian.org/glibc-doc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=glibc-doc" target="_top">I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/glibc-doc.html" target="_top">2004</a></td>
<td align="left">
    GNU C Library: Manpages
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/glibc-doc-reference" target="_top">
<code class="literal">glibc-doc-reference</code> </a> <a class="ulink" href="http://bugs.debian.org/glibc-doc-reference" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=glibc-doc-reference" target="_top">I:1.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/glibc-doc-reference.html" target="_top">12156</a></td>
<td align="left">
    GNU C Library: справочное руководство в info, pdf и html форматах (non-free)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libnss-mdns" target="_top">
<code class="literal">libnss-mdns</code> </a> <a class="ulink" href="http://bugs.debian.org/libnss-mdns" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libnss-mdns" target="_top">I:49</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libn/libnss-mdns.html" target="_top">116</a></td>
<td align="left">
    NSS-модуль для Multicast DNS
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libnss-ldap" target="_top">
<code class="literal">libnss-ldap</code> </a> <a class="ulink" href="http://bugs.debian.org/libnss-ldap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libnss-ldap" target="_top">I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libn/libnss-ldap.html" target="_top">268</a></td>
<td align="left">
    NSS-модуль для использования LDAP в качестве службы имён
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libnss-ldapd" target="_top">
<code class="literal">libnss-ldapd</code> </a> <a class="ulink" href="http://bugs.debian.org/libnss-ldapd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libnss-ldapd" target="_top">V:0.18, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libn/libnss-ldapd.html" target="_top">144</a></td>
<td align="left">
    NSS-модуль для использования LDAP в качестве службы имён (новая версия
<code class="literal">libnss-ldap</code>)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="itemizedlist"><ul type="disc">
<li>
"The Linux-PAM System Administrators' Guide" из
<code class="literal">libpam-doc</code> -- основной документ для изучения настройки
PAM.
</li>
<li>
Раздел "System Databases and Name Service Switch" в
<code class="literal">glibc-doc-reference</code> -- основной документ для изучения
настройки NSS.
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Более полный и свежий список вы всегда можете посмотреть с помощью команды
"<code class="literal">aptitude search 'libpam-|libnss-'</code>". Сокращение NSS может
также расшифровываться как "Network Security Service". Это не то же самое,
что "Name Service Switch".</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>PAM также включает наиболее простой способ инициализации переменных
окружения для каждой программы из общесистемных настроек по умолчанию.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_configuration_files_accessed_by_the_pam_and_nss"></a>4.5.1. Файлы настроек PAM и NSS</h3></div></div></div>
<p>Вот некоторые файлы, в которых хранятся основные настройки, используемые
системой PAM.</p>
<div class="table">
<a name="listofconfigurataccessedbythepam"></a><p class="title"><b>Таблица 4.6. Список конфигурационных файлов PAM и NSS</b></p>
<div class="table-contents"><table summary="Список конфигурационных файлов PAM и NSS" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл конфигурации
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/etc/pam.d/&lt;имя_программы&gt;</code>
                </td>
<td align="left">
    настройки системы PAM для конкретных программ в системе;
см. <code class="literal">pam</code>(7) и <code class="literal">pam.d</code>(5).
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/nsswitch.conf</code>
                </td>
<td align="left">
    настройки NSS для каждой службы в
системе. См. <code class="literal">nsswitch.conf</code>(5)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/nologin</code>
                </td>
<td align="left">
    ограничение возможностей входа пользователей в систему; см. модуль
<code class="literal">pam_nologin</code>(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/securetty</code>
                </td>
<td align="left">
    ограничение возможности входа суперпользователя на заданных консолях;
<code class="literal">pam_securetty</code>(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/security/access.conf</code>
                </td>
<td align="left">
    ограничение возможностей входа пользователей по заданным параметрам;
<code class="literal">pam_access</code>(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/security/group.conf</code>
                </td>
<td align="left">
    правила членства в группах для <code class="literal">pam_group</code>(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/security/pam_env.conf</code>
                </td>
<td align="left">
    переменные окружения для <code class="literal">pam_env</code>(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/environment</code>
                </td>
<td align="left">
    дополнительные переменные окружения для модуля <code class="literal">pam_env</code>(8)
с включенным "<code class="literal">readenv=1</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/default/locale</code>
                </td>
<td align="left">
    установки локализации для <code class="literal">pam_env</code>(8) с аргументами
"<code class="literal">readenv=1 envfile=/etc/default/locale</code>" (особенность
Debian)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/security/limits.conf</code>
                </td>
<td align="left">
    значения ограничений на системные ресурсы для модуля
<code class="literal">pam_linits</code>(8) (память, процессор, и т.п.)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/security/time.conf</code>
                </td>
<td align="left">
    ограничения на доступ к ресурсам на основании значений времени для
<code class="literal">pam_time</code>(8)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Особые требования к паролю реализованы в модулях
<code class="literal">pam_unix</code>(8) и <code class="literal">pam_cracklib</code>(8) и могут
быть настроены с помощью их аргументов.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Имена файлов модулей PAM должны писаться полностью, вместе с
"<code class="literal">.so</code>" на конце.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_modern_centralized_system_management"></a>4.5.2. Современное централизованное управление системой</h3></div></div></div>
<p>Централизованное управление развёртывается с помощью сервера <a class="ulink" href="http://ru.wikipedia.org/wiki/LDAP" target="_top">LDAP (Lightweith Directory Access
Protocol)</a> для администрирования многих Unix-подобных и прочих систем
в сети. Реализация этой системы с открытыми исходными текстами называется
<a class="ulink" href="http://www.openldap.org/" target="_top">OpenLDAP</a>.</p>
<p>Сервер LDAP предоставляет информацию о пользователях, получая её с помощью
своих модулей для PAM и NSS (в Debian эти модули находятся в пакетах
<code class="literal">libpam-ldap</code> и <code class="literal">libnss-ldap</code>). Для
включения LDAP нужно выполнить несколько действий. (Я не использовал эту
конфигурацию и привожу здесь только общую информацию. Воспринимайте описание
в этом смысле.).</p>
<div class="itemizedlist"><ul type="disc">
<li>
Подключить центральный сервер LDAP, запустив демон
<code class="literal">slapd</code>(8).
</li>
<li>
<p>
Настроить PAM на использование "<code class="literal">pam_ldap.so</code>" вместо
"<code class="literal">pam_unix.so</code>" (в
"<code class="literal">/etc/pam.d/directory</code>").
</p>
<div class="itemizedlist"><ul type="circle"><li>
В Debian используется "<code class="literal">/etc/pam_ldap.conf</code>" для настроек
<code class="literal">libpam-ldap</code> и "<code class="literal">/etc/pam_ldap.secret</code>"
как место хранения пароля root.
</li></ul></div>
</li>
<li>
<p>
Настроить NSS для использования "<code class="literal">ldap</code>" вместо
"<code class="literal">compat</code>" или "<code class="literal">file</code>" (в файле
"/etc/nsswitch.conf").
</p>
<div class="itemizedlist"><ul type="circle"><li>
В Debian используется "<code class="literal">/etc/pam_ldap.conf</code>" для настроек
libpam-ldap и "<code class="literal">/etc/pam_ldap.secret</code>" как место хранения
пароля root.
</li></ul></div>
</li>
<li>
Вы должны настроить <code class="literal">libpam-ldap</code> на использование <a class="ulink" href="http://ru.wikipedia.org/wiki/TLS" target="_top">SSL (или TLS)</a> для повышения безопасности сетевых
соединений.
</li>
<li>
Вы можете настроить <code class="literal">libnss-ldap</code> на использование <a class="ulink" href="http://ru.wikipedia.org/wiki/TLS" target="_top">SSL (или TLS)</a> для улучшения целостности данных на
случай перегрузки сети LDAP.
</li>
<li>
Вам нужно настроить <code class="literal">nscd</code>(8) локально для кеширования
результатов поиска в LDAP. Это снизит нагрузку на сервер и уменьшит сетевой
трафик.
</li>
</ul></div>
<p>См. документацию в <code class="literal">pam_ldap.conf</code>(5) и
"<code class="literal">/usr/share/doc/libpam-doc/html/</code>" из пакета
<code class="literal">libpam-doc</code> и "<code class="literal">info libc 'Name Service
Switch'</code>" из <code class="literal">glibc-doc</code>.</p>
<p>Также вы можете настроить альтернативные системы централизации другими
средствами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/Network_Information_Service" target="_top">NIS (изначально назывался YP)</a>
или <a class="ulink" href="http://ru.wikipedia.org/wiki/NIS+" target="_top">NIS+</a> в более старых Unix-подобных системах.
</li>
<li>
Winbind для Windows NT и <a class="ulink" href="http://ru.wikipedia.org/wiki/Samba" target="_top">SAMBA</a>
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_why_gnu_su_does_not_support_the_wheel_group"></a>4.5.3. "Почему GNU su не поддерживает группу wheel"</h3></div></div></div>
<p>Это известная фраза из последней части старой страницы "<code class="literal">info
su</code>", написанной Ричардом Столлманом. Не беспокойтесь: современный
su в Debian использует PAM, так что любой может ограничить доступ к команде
"<code class="literal">su</code>" только членами группы "<code class="literal">root</code>". Для
этого нужно включить строчку про "<code class="literal">pam_wheel.so</code>" в
"<code class="literal">/etc/pam.d/su</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_stricter_password_rule"></a>4.5.4. Повышение надёжности паролей</h3></div></div></div>
<p>Установив <code class="literal">libpam-cracklib</code>, вы сможете вводить правила для
повышения стойкости паролей, например, включив такие строки в
"<code class="literal">/etc/pam.d/common-password</code>".</p>
<p>Для <code class="literal">lenny</code>:</p>
<pre class="screen">password required pam_cracklib.so retry=3 minlen=9 difok=3
password required pam_unix.so use_authtok nullok md5</pre>
<p>Для <code class="literal">squeeze</code>:</p>
<pre class="screen">password required pam_cracklib.so retry=3 minlen=9 difok=3
password [success=1 default=ignore] pam_unix.so use_authtok nullok md5
password requisite pam_deny.so
password required pam_permit.so</pre>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_other_access_controls"></a>4.6. Другие ограничения доступа</h2></div></div></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>См. <a class="xref" href="#_alt_sysrq_key" title="9.5.15. Клавиша Alt-SysRq">Раздел 9.5.15, «Клавиша Alt-SysRq»</a> об ограничении возможности <a class="ulink" href="http://en.wikipedia.org/wiki/Secure_attention_key" target="_top">SAK (kernel secure attention key)</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_sudo"></a>4.6.1. sudo</h3></div></div></div>
<p><code class="literal">sudo</code>(8) предоставляет ограниченные привилегии
суперпользователя обычным пользователям. <code class="literal">sudo</code>(8)
настраивается системным администратором и записывает все выполненные с его
помощью действия в журнал. Пользователь, вызывающий
<code class="literal">sudo</code>(8), авторизуется по собственному паролю и не должен
знать пароль root. Установите пакет sudo и используйте его, настроив
"<code class="literal">/etc/sudoers</code>". Пример конфигурации смотрите в
"<code class="literal">/usr/share/doc/sudo/examples/sudoers</code>".</p>
<p>Мой способ использования <code class="literal">sudo</code> для системы с одним
пользователем (см. <a class="xref" href="#_sudo_configuration" title="1.1.12. Настройка sudo">Раздел 1.1.12, «Настройка sudo»</a>) предназначен для
защищать меня от моей же собственной глупости. Я полагаю, что использование
<code class="literal">sudo</code> -- лучшая альтернатива постоянному использованию
учётной записи root. Например, этой командой можно изменить владельца файла
"<code class="literal">&lt;имя_файла&gt;</code>" на
"<code class="literal">&lt;моё_имя&gt;</code>":</p>
<pre class="screen">$ sudo chown &lt;моё_имя&gt; &lt;имя_файла&gt;</pre>
<p>Конечно, если вы знаете пароль root (как любой пользователь своей системы
Debian), любую команду можно выполнить под рутом, работая под любым
пользователем, с помощью "<code class="literal">su -c</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_selinux"></a>4.6.2. SELinux</h3></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/SELinux" target="_top">Security-Enhanced Linux
(SELinux)</a> -- система, урезающая традиционную для Unix модель
безопасности с политиками <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%BD%D0%B4%D0%B0%D1%82%D0%BD%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BE%D0%BC" target="_top">мандатного контроля доступа
(MAC)</a>. Полномочия суперпользователя (root) в некоторых случаях могут
быть ограничены.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_restricting_access_to_some_server_services"></a>4.6.3. Ограничение доступа к службам сервера</h3></div></div></div>
<p>Для безопасности системы лучше выключить как можно больше сетевых
служб. Наличие работающих, но неиспользуемых служб ("висящих" в памяти, как
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B5%D0%BC%D0%BE%D0%BD_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0)" target="_top">демоны</a>, или вызываемых <a class="ulink" href="http://en.wikipedia.org/wiki/Super-server" target="_top">inetd</a>), считается небезопасным.</p>
<p>Многие программы, например <code class="literal">sshd</code>(8), используют PAM для
контроля доступа. Есть разные способы ограничить доступ к службам.</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">/etc/default/&lt;имя_службы&gt;</code>"
</li>
<li>
настройка уровней выполнения (runlevel) для <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B5%D0%BC%D0%BE%D0%BD_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0)" target="_top">служб</a>
</li>
<li>
              настройка <a class="ulink" href="http://ru.wikipedia.org/wiki/Pluggable_Authentication_Modules" target="_top">PAM</a>
            </li>
<li>
"<code class="literal">/etc/inetd.conf</code>" для <a class="ulink" href="http://en.wikipedia.org/wiki/Super-server" target="_top">inetd</a>
</li>
<li>
"<code class="literal">/etc/hosts.deny</code>" и "<code class="literal">/etc/hosts.allow</code>"
для <a class="ulink" href="http://en.wikipedia.org/wiki/TCP_Wrapper" target="_top">TCP wrapper</a> <code class="literal">tcpd</code>(8)
</li>
<li>
"<code class="literal">/etc/rpc.conf</code>" для <a class="ulink" href="http://ru.wikipedia.org/wiki/Sun_RPC" target="_top">Sun RPC</a>
</li>
<li>
"<code class="literal">/etc/at.allow</code>" и "<code class="literal">/etc/at.deny</code>" для
<code class="literal">atd</code>(8)
</li>
<li>
"<code class="literal">/etc/cron.allow</code>" и "<code class="literal">/etc/cron.deny</code>"
для <code class="literal">crontab</code>(1)
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD" target="_top">сетевой фильтр (фаервол)</a> из <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter</a>
</li>
</ul></div>
<p>См. также <a class="xref" href="#_the_runlevel_management_example" title="3.5.3. Пример настройки уровня выполнения">Раздел 3.5.3, «Пример настройки уровня выполнения»</a>, <a class="xref" href="#_the_default_parameter_for_each_init_script" title="3.5.4. Параметры для init-скриптов">Раздел 3.5.4, «Параметры для init-скриптов»</a>, <a class="xref" href="#_configuration_files_accessed_by_the_pam_and_nss" title="4.5.1. Файлы настроек PAM и NSS">Раздел 4.5.1, «Файлы настроек PAM и NSS»</a>, <a class="xref" href="#_network_service_initialization" title="3.5.8. Запуск сетевых служб">Раздел 3.5.8, «Запуск сетевых служб»</a>, и <a class="xref" href="#_netfilter_infrastructure" title="5.9. Инфраструктура Netfilter">Раздел 5.9, «Инфраструктура Netfilter»</a>.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Службы <a class="ulink" href="http://ru.wikipedia.org/wiki/Sun_RPC" target="_top">Sun RPC</a> нужны для <a class="ulink" href="http://ru.wikipedia.org/wiki/Network_File_System" target="_top">NFS</a> и других программ, использующих удалённый вызов
процедур (RPC).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если у вас не получается удалённо зайти на свежеустановленную систему
Debian, закомментируйте строчку "ALL: PARANOID" в
"<code class="literal">/etc/hosts.deny</code>", если она там есть. (Однако будьте
внимательны к рискам, которые это несёт).</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_security_of_authentication"></a>4.7. Безопасность авторизации</h2></div></div></div>
<p>Информация в этом разделе никак не может быть исчерпывающей для безопасности
системы, но является хорошим началом.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_secure_password_over_the_internet"></a>4.7.1. Безопасность передачи пароля в сети Internet</h3></div></div></div>
<p>Многие популярные сетевые службы передают данные, в том числе пароль, в
незашифрованном виде. Это очень плохо, поскольку существует возможность
перехвата этих данных на диких пространствах Сети. Такие службы можно
использовать с технологией "<a class="ulink" href="http://ru.wikipedia.org/wiki/TLS" target="_top">Transport
Layer Security</a>" (TLS) или её предшественницей "Secure Sockets Layer"
(SSL) чтобы обезопасить весь поток данных, включая пароль, с помощью
шифрования.</p>
<div class="table">
<a name="listofinsecureanservicesandports"></a><p class="title"><b>Таблица 4.7. Список небезопасных служб и портов</b></p>
<div class="table-contents"><table summary="Список небезопасных служб и портов" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    небезопасные службы
    </th>
<th align="left">
    порт
    </th>
<th align="left">
    безопасные аналоги
    </th>
<th align="left">
    порт
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    www (http)
    </td>
<td align="left">
    80
    </td>
<td align="left">
    https
    </td>
<td align="left">
    443
    </td>
</tr>
<tr>
<td align="left">
    smtp (mail)
    </td>
<td align="left">
    25
    </td>
<td align="left">
    ssmtp (smtps)
    </td>
<td align="left">
    465
    </td>
</tr>
<tr>
<td align="left">
    ftp-data
    </td>
<td align="left">
    20
    </td>
<td align="left">
    ftps-data
    </td>
<td align="left">
    989
    </td>
</tr>
<tr>
<td align="left">
    ftp
    </td>
<td align="left">
    21
    </td>
<td align="left">
    ftps
    </td>
<td align="left">
    990
    </td>
</tr>
<tr>
<td align="left">
    telnet
    </td>
<td align="left">
    23
    </td>
<td align="left">
    telnets
    </td>
<td align="left">
    992
    </td>
</tr>
<tr>
<td align="left">
    imap2
    </td>
<td align="left">
    143
    </td>
<td align="left">
    imaps
    </td>
<td align="left">
    993
    </td>
</tr>
<tr>
<td align="left">
    pop3
    </td>
<td align="left">
    110
    </td>
<td align="left">
    pop3s
    </td>
<td align="left">
    995
    </td>
</tr>
<tr>
<td align="left">
    ldap
    </td>
<td align="left">
    389
    </td>
<td align="left">
    ldaps
    </td>
<td align="left">
    636
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Шифрование требует процессорного времени. Чтобы пощадить процессор, вы
можете оставить передачу данных незашифрованной, обезопасив лишь передачу
пароля с помощью защищённого протокола аутентификации, например,
"Authenticated Post Office Protocol" (APOP) для POP и "Challenge-Response
Authentication Mechanism MD5" (CRAM-MD5) для SMTP и IMAP. (Для отсылки почты
через Интернет на почтовый сервер из почтового клиента в последнее время
часто используется порт 587 вместо традиционного SMTP-порта 25, это
позволяет обойти блокировку 25 порта провайдером, в то время как
аутентификация происходит по протоколу CRAM-MD5.)</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_secure_shell"></a>4.7.2. Защищённая оболочка (Secure Shell)</h3></div></div></div>
<p>Протокол <a class="ulink" href="http://ru.wikipedia.org/wiki/SSH" target="_top">SSH</a> позволяет создавать
зашифрованное соединение с использованием авторизации между двумя системами
через небезопасные сети. Связка состоит из клиента, например,
<code class="literal">ssh</code>(1) из <a class="ulink" href="http://www.openssh.org/" target="_top">OpenSSH</a> и
сервера, например, <code class="literal">sshd</code>(8) оттуда же. Внутри безопасного
соединения могут передаются незашифрованные данные, например, по протоколу
POP или X.</p>
<p>Клиент авторизуется на основании своего адреса (host-based authentication),
публичного ключа (public key), вызова-ответа (challenge-response), или по
паролю. При использовании открытого ключа вход осуществляется без
пароля. См. <a class="xref" href="#_the_remote_access_server_and_utility_ssh" title="6.9. Сервер удалённого доступа и утилиты для него (SSH)">Раздел 6.9, «Сервер удалённого доступа и утилиты для него (SSH)»</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_extra_security_measures_for_the_internet"></a>4.7.3. Особые меры безопасности в Интернете</h3></div></div></div>
<p>Когда вы используете безопасные службы, например, <a class="ulink" href="http://ru.wikipedia.org/wiki/SSH" target="_top">SSH</a> вместе с соединениями типа точка-точка,
например по протоколу <a class="ulink" href="http://ru.wikipedia.org/wiki/PPTP" target="_top">PPTP</a>, всё ещё остаются
возможности вклиниться в поток, подбирая пароль из Интернета. Используйте
фаервол (см. <a class="xref" href="#_netfilter_infrastructure" title="5.9. Инфраструктура Netfilter">Раздел 5.9, «Инфраструктура Netfilter»</a>) вместе с
безопасными средствами, это повысит безопасность.</p>
<div class="table">
<a name="listoftoolstoprosecuritymeasures"></a><p class="title"><b>Таблица 4.8. Средства для применения особых мер безопасности</b></p>
<div class="table-contents"><table summary="Средства для применения особых мер безопасности" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/knockd" target="_top">
<code class="literal">knockd</code> </a> <a class="ulink" href="http://bugs.debian.org/knockd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=knockd" target="_top">V:0.16, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/knockd.html" target="_top">164</a></td>
<td align="left">
    служба <code class="literal">knockd</code>(1) и клиент <code class="literal">konck</code>(1):
выполнение действий при приёме определённых пакетов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/denyhosts" target="_top">
<code class="literal">denyhosts</code> </a> <a class="ulink" href="http://bugs.debian.org/denyhosts" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=denyhosts" target="_top">V:2, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/denyhosts.html" target="_top">356</a></td>
<td align="left">
    утилита для помощи в пресечении взлома ssh
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fail2ban" target="_top">
<code class="literal">fail2ban</code> </a> <a class="ulink" href="http://bugs.debian.org/fail2ban" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fail2ban" target="_top">V:4, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fail2ban.html" target="_top">660</a></td>
<td align="left">
    блокирование IP-адресов, соединения с которых приводят к нескольким ошибкам
аутентификации
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libpam-shield" target="_top">
<code class="literal">libpam-shield</code> </a> <a class="ulink" href="http://bugs.debian.org/libpam-shield" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libpam-shield" target="_top">V:0.01, I:0.06</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libpam-shield.html" target="_top">104</a></td>
<td align="left">
    блокирование удалённых взломщиков, пытающихся подобрать пароль
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_securing_the_root_password"></a>4.7.4. Защита пароля root</h3></div></div></div>
<p>Ограничьте возможность доступа к системе с полномочиями суперпользователя
следующими средствами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Не допускайте физического доступа к жёсткому диску.
</li>
<li>
Установите пароль в BIOS Setup и запретите загрузку со сменных носителей
(CD, USB flash etc).
</li>
<li>
Установите пароль на загрузчик GRUB (на GRUB Shell).
</li>
<li>
Запретите редактирование меню GRUB.
</li>
</ul></div>
<p>С физическим доступом к жёсткому диску сбросить пароль root очень просто:</p>
<div class="orderedlist"><ol type="1">
<li>
Установите жёсткий диск на компьютер, загружающийся с CD.
</li>
<li>
Загрузите систему со спасательного диска.
</li>
<li>
Примонтируйте корневой раздел с доступом на запись.
</li>
<li>
Отредактируйте "<code class="literal">/etc/passwd</code>" и создайте вторую запись для
root с пустым паролем.
</li>
</ol></div>
<p>Если вы можете менять меню GRUB (см. <a class="xref" href="#_stage_2_the_boot_loader" title="3.3. Второй этап: загрузчик (boot loader)">Раздел 3.3, «Второй этап: загрузчик (boot loader)»</a>), во время загрузки, это даже проще.</p>
<div class="orderedlist"><ol type="1">
<li>
Загрузите систему с параметрами ядра вроде "<code class="literal">root=/dev/hda6 rw
init=/bin/sh</code>".
</li>
<li>
Отредактируйте "<code class="literal">/etc/passwd</code>" и создайте вторую запись для
root с пустым паролем.
</li>
<li>
Перезагрузите систему.
</li>
</ol></div>
<p>Теперь оболочка root доступна без пароля.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Как только кто-то получает доступ к консоли root, он может делать в системе
всё что угодно. Он может получить хэши паролей других пользователей,
подобрать и пароли, например, с помощью программ из пакетов
<code class="literal">john</code> или <code class="literal">crack</code> (см. <a class="xref" href="#_system_security_and_integrity_check" title="9.6.11. System security and integrity check">Раздел 9.6.11, «System security and integrity check»</a>), и скомпрометировать
другие системы. Вы всегда должны пользоваться паролем для входа в систему.</p>
</div>
<p>Единственный разумный программный метод защиты от этого -- использовать
программно зашифрованный корневой раздел диска (или раздел
"<code class="literal">/etc</code>") с помощью <a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypt</a>
и initramfs (см. <a class="xref" href="#_data_encryption_tips" title="9.4. Советы по шифрованию данных">Раздел 9.4, «Советы по шифрованию данных»</a>). Хотя в этом
случае всегда необходим ввод пароля для загрузки системы.</p>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_network_setup"></a>Глава 5. Настройка сети</h2></div></div></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Общее руководство по использованию сетевых возможностей GNU/Linux: <a class="ulink" href="http://www.tldp.org/LDP/nag2/" target="_top">Linux Network Administrators
Guide</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_basic_network_infrastructure"></a>5.1. Основы сетевой инфраструктуры</h2></div></div></div>
<p>Рассмотрим сетевую инфраструктуру современной системы Debian.</p>
<div class="table">
<a name="listofnetworkconfigurationtools"></a><p class="title"><b>Таблица 5.1. Список средств настройки сети</b></p>
<div class="table-contents"><table summary="Список средств настройки сети" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакеты
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    тип
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ifupdown" target="_top">
<code class="literal">ifupdown</code> </a> <a class="ulink" href="http://bugs.debian.org/ifupdown" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ifupdown" target="_top">V:61, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ifupdown.html" target="_top">228</a></td>
<td align="left">
    config::ifupdown
    </td>
<td align="left">
    стандартизированное средство включения/выключения интерфейсов (специфично
для Debian)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ifplugd" target="_top">
<code class="literal">ifplugd</code> </a> <a class="ulink" href="http://bugs.debian.org/ifplugd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ifplugd" target="_top">V:0.4, I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ifplugd.html" target="_top">344</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    автоматическое управление проводными интерфейсами
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ifupdown-extra" target="_top">
<code class="literal">ifupdown-extra</code> </a> <a class="ulink" href="http://bugs.debian.org/ifupdown-extra" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ifupdown-extra" target="_top">V:0.04, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ifupdown-extra.html" target="_top">124</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    сценарии проверки сети, дополняющие пакет "<code class="literal">ifupdown</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ifmetric" target="_top">
<code class="literal">ifmetric</code> </a> <a class="ulink" href="http://bugs.debian.org/ifmetric" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ifmetric" target="_top">V:0.02, I:0.11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ifmetric.html" target="_top">100</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    средство установки метрик (приоритетов) маршрутов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/guessnet" target="_top">
<code class="literal">guessnet</code> </a> <a class="ulink" href="http://bugs.debian.org/guessnet" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=guessnet" target="_top">V:0.08, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/guessnet.html" target="_top">512</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    сценарий для автоопределения сети, дополняющий "<code class="literal">ifupdown</code>"
и использующий "<code class="literal">/etc/network/interfaces</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ifscheme" target="_top">
<code class="literal">ifscheme</code> </a> <a class="ulink" href="http://bugs.debian.org/ifscheme" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ifscheme" target="_top">V:0.03, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ifscheme.html" target="_top">132</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    сценарии автоопределения сети, дополняющие пакет
"<code class="literal">ifupdown</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ifupdown-scripts-zg2" target="_top">
<code class="literal">ifupdown-scripts-zg2</code> </a> <a class="ulink" href="http://bugs.debian.org/ifupdown-scripts-zg2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ifupdown-scripts-zg2" target="_top">V:0.00, I:0.04</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ifupdown-scripts-zg2.html" target="_top">220</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    сценарии для метода "manual" ifupdown
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/network-manager" target="_top">
<code class="literal">network-manager</code> </a> <a class="ulink" href="http://bugs.debian.org/network-manager" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=network-manager" target="_top">V:25, I:33</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/network-manager.html" target="_top">3272</a></td>
<td align="left">
    config::NM
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/NetworkManager" target="_top">NetworkManager</a>: служба управления
сетевыми подключениями
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/network-manager-gnome" target="_top">
<code class="literal">network-manager-gnome</code> </a> <a class="ulink" href="http://bugs.debian.org/network-manager-gnome" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=network-manager-gnome" target="_top">V:18, I:29</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/network-manager-gnome.html" target="_top">5616</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/NetworkManager" target="_top">NetworkManager</a> (интерфейс
пользователя, GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/network-manager-kde" target="_top">
<code class="literal">network-manager-kde</code> </a> <a class="ulink" href="http://bugs.debian.org/network-manager-kde" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=network-manager-kde" target="_top">V:2, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/network-manager-kde.html" target="_top">264</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/NetworkManager" target="_top">NetworkManager</a> (интерфейс
пользователя, KDE)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cnetworkmanager" target="_top">
<code class="literal">cnetworkmanager</code> </a> <a class="ulink" href="http://bugs.debian.org/cnetworkmanager" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cnetworkmanager" target="_top">V:0.03, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cnetworkmanager.html" target="_top">208</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/NetworkManager" target="_top">NetworkManager</a> (клиент для командной
строки)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wicd" target="_top"> <code class="literal">wicd</code>
</a> <a class="ulink" href="http://bugs.debian.org/wicd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wicd" target="_top">V:0.5, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wicd.html" target="_top">88</a></td>
<td align="left">
    config::wicd
    </td>
<td align="left">
    управление проводными и беспроводными сетевыми подключениями (мета-пакет)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wicd-cli" target="_top">
<code class="literal">wicd-cli</code> </a> <a class="ulink" href="http://bugs.debian.org/wicd-cli" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wicd-cli" target="_top">V:0.04, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wicd-cli.html" target="_top">128</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    управление (бес)проводными сетевыми подключениями (клиент для командной
строки)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wicd-curses" target="_top">
<code class="literal">wicd-curses</code> </a> <a class="ulink" href="http://bugs.debian.org/wicd-curses" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wicd-curses" target="_top">V:0.14, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wicd-curses.html" target="_top">236</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    управление (бес)проводными сетевыми подключениями (клиент Curses/Urwid)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wicd-daemon" target="_top">
<code class="literal">wicd-daemon</code> </a> <a class="ulink" href="http://bugs.debian.org/wicd-daemon" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wicd-daemon" target="_top">V:1.5, I:1.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wicd-daemon.html" target="_top">1780</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    управление (бес)проводными сетевыми подключениями (служба)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wicd-gtk" target="_top">
<code class="literal">wicd-gtk</code> </a> <a class="ulink" href="http://bugs.debian.org/wicd-gtk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wicd-gtk" target="_top">V:1.3, I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wicd-gtk.html" target="_top">772</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    управление (бес)проводными сетевыми подключениями (клиент GTK+)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iptables" target="_top">
<code class="literal">iptables</code> </a> <a class="ulink" href="http://bugs.debian.org/iptables" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iptables" target="_top">V:27, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iptables.html" target="_top">1276</a></td>
<td align="left">
    config::Netfilter
    </td>
<td align="left">
    средства управления для пакетного фильтра и NAT (<a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">Netfilter</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iproute" target="_top">
<code class="literal">iproute</code> </a> <a class="ulink" href="http://bugs.debian.org/iproute" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iproute" target="_top">V:37, I:87</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iproute.html" target="_top">1044</a></td>
<td align="left">
    config::iproute2
    </td>
<td align="left">
<a class="ulink" href="http://www.linuxfoundation.org/en/Net:Iproute2" target="_top">iproute2</a>, IPv6 и другие средства продвинутой
настройки сети: <code class="literal">ip</code>(8), <code class="literal">tc</code>(8) и т.д.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ifrename" target="_top">
<code class="literal">ifrename</code> </a> <a class="ulink" href="http://bugs.debian.org/ifrename" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ifrename" target="_top">V:0.2, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ifrename.html" target="_top">236</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    переименование сетевого интерфейса по заданным правилам:
<code class="literal">ifrename</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ethtool" target="_top">
<code class="literal">ethtool</code> </a> <a class="ulink" href="http://bugs.debian.org/ethtool" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ethtool" target="_top">V:4, I:13</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/ethtool.html" target="_top">208</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    просмотр и настройка параметров устройств Ethernet
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iputils-ping" target="_top">
<code class="literal">iputils-ping</code> </a> <a class="ulink" href="http://bugs.debian.org/iputils-ping" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iputils-ping" target="_top">V:35, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iputils-ping.html" target="_top">132</a></td>
<td align="left">
    test::iproute2
    </td>
<td align="left">
    инструменты для проверки достижимости узла в сети по его <a class="ulink" href="http://en.wikipedia.org/wiki/Hostname" target="_top">имени</a> или <a class="ulink" href="http://ru.wikipedia.org/wiki/IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81" target="_top">IP-адресу</a> (<a class="ulink" href="http://www.linuxfoundation.org/en/Net:Iproute2" target="_top">iproute2</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iputils-arping" target="_top">
<code class="literal">iputils-arping</code> </a> <a class="ulink" href="http://bugs.debian.org/iputils-arping" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iputils-arping" target="_top">V:0.6, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iputils-arping.html" target="_top">72</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    проверка достижимости узла в сети по его <a class="ulink" href="http://ru.wikipedia.org/wiki/ARP" target="_top">ARP</a>-адресу
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iputils-tracepath" target="_top">
<code class="literal">iputils-tracepath</code> </a> <a class="ulink" href="http://bugs.debian.org/iputils-tracepath" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iputils-tracepath" target="_top">V:0.4, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iputils-tracepath.html" target="_top">108</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    отслеживает маршрут, который проходят пакеты по сети IPv4/IPv6
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/net-tools" target="_top">
<code class="literal">net-tools</code> </a> <a class="ulink" href="http://bugs.debian.org/net-tools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=net-tools" target="_top">V:71, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/net-tools.html" target="_top">1016</a></td>
<td align="left">
    config::net-tools
    </td>
<td align="left">
    сетевой инструментарий NET-3 (<a class="ulink" href="http://www.linuxfoundation.org/en/Net:Net-tools" target="_top">net-tools</a>,
настройка IPv4): <code class="literal">ifconfig</code>(8) и т.п.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/inetutils-ping" target="_top">
<code class="literal">inetutils-ping</code> </a> <a class="ulink" href="http://bugs.debian.org/inetutils-ping" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=inetutils-ping" target="_top">V:0.04, I:0.12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/inetutils-ping.html" target="_top">268</a></td>
<td align="left">
    test::net-tools
    </td>
<td align="left">
    проверка сетевой доступности удалённого узла по <a class="ulink" href="http://en.wikipedia.org/wiki/Hostname" target="_top">имени узла</a> или его <a class="ulink" href="http://ru.wikipedia.org/wiki/IP-%D0%B0%D0%B4%D1%80%D0%B5%D1%81" target="_top">IP-адресу</a> (GNU)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/arping" target="_top">
<code class="literal">arping</code> </a> <a class="ulink" href="http://bugs.debian.org/arping" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=arping" target="_top">V:0.5, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/arping.html" target="_top">104</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    проверка сетевой доступности удалённого узла по его <a class="ulink" href="http://ru.wikipedia.org/wiki/ARP" target="_top">ARP</a>-адресу
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/traceroute" target="_top">
<code class="literal">traceroute</code> </a> <a class="ulink" href="http://bugs.debian.org/traceroute" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=traceroute" target="_top">V:13, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/traceroute.html" target="_top">192</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    отслеживает маршрут, который проходят пакеты по сети
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dhcp3-client" target="_top">
<code class="literal">dhcp3-client</code> </a> <a class="ulink" href="http://bugs.debian.org/dhcp3-client" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dhcp3-client" target="_top">V:35, I:94</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dhcp3-client.html" target="_top">60</a></td>
<td align="left">
    config::low-level
    </td>
<td align="left">
    DHCP-клиент
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wpasupplicant" target="_top">
<code class="literal">wpasupplicant</code> </a> <a class="ulink" href="http://bugs.debian.org/wpasupplicant" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wpasupplicant" target="_top">V:28, I:40</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wpasupplicant.html" target="_top">828</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    поддержка WPA и WPA2 (IEEE 802.11i) на стороне клиентского ПО
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wireless-tools" target="_top">
<code class="literal">wireless-tools</code> </a> <a class="ulink" href="http://bugs.debian.org/wireless-tools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wireless-tools" target="_top">V:7, I:22</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wireless-tools.html" target="_top">420</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    инструменты управления беспроводными расширениями Linux
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ppp" target="_top"> <code class="literal">ppp</code>
</a> <a class="ulink" href="http://bugs.debian.org/ppp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ppp" target="_top">V:6, I:25</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/ppp.html" target="_top">1016</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    соединение PPP/PPPoE командой <code class="literal">chat</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pppoeconf" target="_top">
<code class="literal">pppoeconf</code> </a> <a class="ulink" href="http://bugs.debian.org/pppoeconf" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pppoeconf" target="_top">V:0.4, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pppoeconf.html" target="_top">344</a></td>
<td align="left">
    config::helper
    </td>
<td align="left">
    средство помощи в настройке соединения PPPoE
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pppconfig" target="_top">
<code class="literal">pppconfig</code> </a> <a class="ulink" href="http://bugs.debian.org/pppconfig" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pppconfig" target="_top">V:0.2, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pppconfig.html" target="_top">964</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    средство помощи в настройке соединения PPP создаваемого
<code class="literal">chat</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wvdial" target="_top">
<code class="literal">wvdial</code> </a> <a class="ulink" href="http://bugs.debian.org/wvdial" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wvdial" target="_top">V:0.6, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wvdial.html" target="_top">416</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    средство помощи в настройке соединения PPP, создаваемого
<code class="literal">wvdial</code> и <code class="literal">ppp</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mtr-tiny" target="_top">
<code class="literal">mtr-tiny</code> </a> <a class="ulink" href="http://bugs.debian.org/mtr-tiny" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mtr-tiny" target="_top">V:2, I:29</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mtr-tiny.html" target="_top">120</a></td>
<td align="left">
    test::low-level
    </td>
<td align="left">
    отслеживает маршрут, который проходят пакеты по сети (curses)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mtr" target="_top"> <code class="literal">mtr</code>
</a> <a class="ulink" href="http://bugs.debian.org/mtr" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mtr" target="_top">V:0.6, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mtr.html" target="_top">180</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    отслеживает маршрут, который проходят пакеты по сети (curses и GTK+)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnome-nettool" target="_top">
<code class="literal">gnome-nettool</code> </a> <a class="ulink" href="http://bugs.debian.org/gnome-nettool" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnome-nettool" target="_top">V:3, I:33</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnome-nettool.html" target="_top">2848</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    инструмент для вывода информации о сети (GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/nmap" target="_top"> <code class="literal">nmap</code>
</a> <a class="ulink" href="http://bugs.debian.org/nmap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=nmap" target="_top">V:6, I:31</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/nmap.html" target="_top">7112</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    сетевой сканер <a class="ulink" href="http://ru.wikipedia.org/wiki/Nmap" target="_top">Nmap</a> (консольный)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/zenmap" target="_top">
<code class="literal">zenmap</code> </a> <a class="ulink" href="http://bugs.debian.org/zenmap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=zenmap" target="_top">V:0.2, I:1.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/z/zenmap.html" target="_top">2400</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    графическая оболочка для nmap (GTK+)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/knmap" target="_top"> <code class="literal">knmap</code>
</a> <a class="ulink" href="http://bugs.debian.org/knmap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=knmap" target="_top">V:0.09, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/knmap.html" target="_top">712</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    графическая оболочка для nmap (KDE)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tcpdump" target="_top">
<code class="literal">tcpdump</code> </a> <a class="ulink" href="http://bugs.debian.org/tcpdump" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tcpdump" target="_top">V:3, I:23</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tcpdump.html" target="_top">1020</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    анализатор сетевого трафика (<a class="ulink" href="http://ru.wikipedia.org/wiki/Tcpdump" target="_top">Tcpdump</a>, для
консоли)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wireshark" target="_top">
<code class="literal">wireshark</code> </a> <a class="ulink" href="http://bugs.debian.org/wireshark" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wireshark" target="_top">V:1.4, I:9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wireshark.html" target="_top">2052</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    анализатор сетевого трафика (<a class="ulink" href="http://ru.wikipedia.org/wiki/Wireshark" target="_top">Wireshark</a>,
GTK+)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tshark" target="_top">
<code class="literal">tshark</code> </a> <a class="ulink" href="http://bugs.debian.org/tshark" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tshark" target="_top">V:0.5, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tshark.html" target="_top">276</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    анализатор сетевого трафика (для консоли)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/nagios3" target="_top">
<code class="literal">nagios3</code> </a> <a class="ulink" href="http://bugs.debian.org/nagios3" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=nagios3" target="_top">V:1.0, I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/nagios3.html" target="_top">32</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    система мониторинга и управления узлами, службами и сетями (<a class="ulink" href="http://ru.wikipedia.org/wiki/Nagios" target="_top">Nagios</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tcptrace" target="_top">
<code class="literal">tcptrace</code> </a> <a class="ulink" href="http://bugs.debian.org/tcptrace" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tcptrace" target="_top">V:0.05, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tcptrace.html" target="_top">436</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    анализатор информации, собранной с помощью <code class="literal">tcpdump</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/snort" target="_top"> <code class="literal">snort</code>
</a> <a class="ulink" href="http://bugs.debian.org/snort" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=snort" target="_top">V:0.6, I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/snort.html" target="_top">1260</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    гибкая система для определения сетевых атак (<a class="ulink" href="http://ru.wikipedia.org/wiki/Snort" target="_top">Snort</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ntop" target="_top"> <code class="literal">ntop</code>
</a> <a class="ulink" href="http://bugs.debian.org/ntop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ntop" target="_top">V:1.2, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/ntop.html" target="_top">11244</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    показывает использование сети в веб-браузере
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dnsutils" target="_top">
<code class="literal">dnsutils</code> </a> <a class="ulink" href="http://bugs.debian.org/dnsutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dnsutils" target="_top">V:14, I:90</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dnsutils.html" target="_top">408</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    клиентские программы из поставки BIND: <code class="literal">nslookup</code>(8),
<code class="literal">nsupdate</code>(8), <code class="literal">dig</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dlint" target="_top"> <code class="literal">dlint</code>
</a> <a class="ulink" href="http://bugs.debian.org/dlint" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dlint" target="_top">V:0.4, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dlint.html" target="_top">96</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    проверяет информацию о зоне <a class="ulink" href="http://ru.wikipedia.org/wiki/DNS" target="_top">DNS</a> с помощью
запросов к серверу имён
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dnstracer" target="_top">
<code class="literal">dnstracer</code> </a> <a class="ulink" href="http://bugs.debian.org/dnstracer" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dnstracer" target="_top">V:0.10, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dnstracer.html" target="_top">92</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    отслеживает цепочку <a class="ulink" href="http://ru.wikipedia.org/wiki/DNS" target="_top">DNS</a>-серверов вплоть до
авторитетного сервера
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_domain_name"></a>5.1.1. Доменное имя</h3></div></div></div>
<p>Система доменных имён весьма замысловата с точки зрения обычных
пользователей рабочих станций. Рабочая станция может быть мобильной и
выходить в сеть из разных точек, или располагаться за фаерволом с NAT и быть
недоступной из Интернета. В этом случае вы не сможете иметь правильное
доменное имя.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>When you use an invalid domain name, you need to spoof the domain name used
by some programs such as MTA for their proper operation.  See <a class="xref" href="#_the_mail_address_configuration" title="6.3.3. Настройка почтового адреса">Раздел 6.3.3, «Настройка почтового адреса»</a>.</p>
</div>
<p>According to <a class="ulink" href="http://tools.ietf.org/html/rfc2606" target="_top">rfc2606</a>,
"<code class="literal">invalid</code>" seems to be a choice for the <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%BE%D0%BC%D0%B5%D0%BD_%D0%B2%D0%B5%D1%80%D1%85%D0%BD%D0%B5%D0%B3%D0%BE_%D1%83%D1%80%D0%BE%D0%B2%D0%BD%D1%8F" target="_top">top level domain (TLD)</a> to construct domain
names that are sure to be invalid from the Internet.</p>
<p>The <a class="ulink" href="http://ru.wikipedia.org/wiki/Zeroconf" target="_top">mDNS</a> network discovery protocol (<a class="ulink" href="http://ru.wikipedia.org/wiki/Bonjour" target="_top">Apple Bonjour / Apple
Rendezvous</a>, Avahi on Debian) uses <a class="ulink" href="http://en.wikipedia.org/wiki/.local" target="_top">"local"</a> as the <a class="ulink" href="http://en.wikipedia.org/wiki/Pseudo-top-level_domain" target="_top">pseudo-top-level domain</a>.  <a class="ulink" href="http://support.microsoft.com/kb/296250" target="_top">Microsoft also seems to promote
"local" for the TLD of local area network</a>.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>If the DNS service on your LAN uses "<code class="literal">local</code>" as TLD for
your LAN, it may interfare with mDNS.</p>
</div>
<p>Other popular choices for the invalid TLD seem to be
"<code class="literal">localdomain</code>", "<code class="literal">lan</code>",
"<code class="literal">localnet</code>", or "<code class="literal">home</code>" according to my
incoming mail analysis.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_hostname_resolution"></a>5.1.2. Определение имени узла (hostname resolution)</h3></div></div></div>
<p>Определение имени узла поддерживается механизмом <a class="ulink" href="http://en.wikipedia.org/wiki/Name_Service_Switch" target="_top">NSS (Name Service Switch)</a>. Он работает
примерно так:</p>
<div class="orderedlist"><ol type="1">
<li>
Файл "<code class="literal">/etc/nsswitch.conf</code>" содержит запись вроде
"<code class="literal">hosts: files dns</code>", что означает порядок методов
получения имени. (Раньше этот порядок настраивался записью
"<code class="literal">order</code>" в файле "<code class="literal">/etc/host.conf</code>".)
</li>
<li>
Сначала пробуется метод "<code class="literal">files</code>". Если имя узла содержится
в файле "<code class="literal">/etc/hosts</code>", программа возвращают все подходящие
адреса и завершается. (Файл <code class="literal">/etc/hosts</code>" содержит запись
"<code class="literal">multi on</code>".)
</li>
<li>
Пробуется метод "<code class="literal">dns</code>". Если имя узла получено от серверов
<a class="ulink" href="http://ru.wikipedia.org/wiki/DNS" target="_top">DNS</a>, указанных в
"<code class="literal">/etc/resolv.conf</code>", программа возвращает все подходящие
адреса и завершается.
</li>
</ol></div>
<p>Файл "<code class="literal">/etc/hosts</code>" содержит <a class="ulink" href="http://bugs.debian.org/316099" target="_top">IP-адреса, соответствующие именам
узлов</a> и выглядит так:</p>
<pre class="screen">127.0.0.1 localhost
127.0.1.1 &lt;имя_узла&gt;.&lt;имя_домена&gt; &lt;имя_узла&gt;

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts</pre>
<p>Здесь &lt;имя_узла&gt; -- это то имя, которое хранится в
"<code class="literal">/etc/hostname</code>", а &lt;имя_домена&gt; -- это <a class="ulink" href="http://ru.wikipedia.org/wiki/FQDN" target="_top">полное доменное имя (FQDN)</a>
этого узла.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>На мобильных рабочих станциях, не имеющих полного доменного имени, допустимо
поставить фиктивное имя домена верхнего уровня, навроде
"<code class="literal">lan</code>", "<code class="literal">home</code>",
"<code class="literal">invalid</code>", "<code class="literal">localdomain</code>",
"<code class="literal">none</code>" или "<code class="literal">private</code>".</p>
</div>
<p>Файл "<code class="literal">/etc/resolv.conf</code>" -- обычный статичный файл, если
пакет <code class="literal">resolvconf</code> не установлен. Если же установлен, то
это -- символическая ссылка. В любом случае, там содержится информация,
необходимая для работы клиента системы DNS (resolver). Если DNS-сервер
находится по адресу "<code class="literal">192.168.11.1</code>", этот файл должен
содержать такие строки:</p>
<pre class="screen">nameserver 192.168.11.1</pre>
<p>Пакет <code class="literal">resolvconf</code> создаёт символическую ссылку
"<code class="literal">/etc/resolv.conf</code>" и автоматически управляет ей своими
сценариями.</p>
<p>The hostname resolution via Multicast DNS (using <a class="ulink" href="http://ru.wikipedia.org/wiki/Zeroconf" target="_top">Zeroconf</a>, aka <a class="ulink" href="http://ru.wikipedia.org/wiki/Bonjour" target="_top">Apple Bonjour / Apple
Rendezvous</a>) which effectively allows name resolution by common
Unix/Linux programs in the ad-hoc mDNS domain "<code class="literal">local</code>",
can be provided by installing the <code class="literal">libnss-mdns</code> package.
The "<code class="literal">/etc/nsswitch.conf</code>" file should have stanza like
"<code class="literal">hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4</code>"
to enable this functionality.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_network_interface_name"></a>5.1.3. Имя сетевого интерфейса</h3></div></div></div>
<p>Имя сетевого интерфейса, например <code class="literal">eth0</code>, присваивается
каждому устройству ядром Linux с помощью механизма <code class="literal">udev</code>
(см. <a class="xref" href="#_the_udev_system" title="3.5.11. Система udev">Раздел 3.5.11, «Система udev»</a>) как только это устройство
обнаружено. Имя интерфейса в <code class="literal">ifup</code>(8) и
<code class="literal">interfaces</code>(5) называется <span class="strong"><strong>физическим интерфейсом</strong></span> (<span class="strong"><strong>physical interface</strong></span>)</p>
<p>Чтобы при перезагрузке сетевым интерфейсам присваивались правильные имена по
их <a class="ulink" href="http://ru.wikipedia.org/wiki/MAC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81" target="_top">MAC-адресам</a> и т.п., существует файл
"<code class="literal">/etc/udev/rules.d/70-persistent-net.rules</code>". Этот файл
генерируется автоматически программой
"<code class="literal">/lib/udev/write_net_rules</code>", запускаемой из файла с
правилами "<code class="literal">persistent-net-generator.rules</code>". Вы можете
изменять его для изменения правил, по которым имена присваиваются
интерфейсам.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>При редактировании
"<code class="literal">/etc/udev/rules.d/70-persistent-net.rules</code>" держите
каждое правило на отдельной строке и записывайте <a class="ulink" href="http://ru.wikipedia.org/wiki/MAC-%D0%B0%D0%B4%D1%80%D0%B5%D1%81" target="_top">MAC-адрес</a> маленькими буквами. Например, если вы
видите там записи "Firewire device" и "PCI device" то, вероятно, вы хотите
присвоить устройству "PCI device" имя <code class="literal">eth0</code> и настроить
его как основной сетевой интерфейс.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_network_address_range_for_the_lan"></a>5.1.4. Диапазоны сетевых адресов для ЛВС</h3></div></div></div>
<p>Напомним, что в 32-битном адресном пространстве IPv4 для каждого класса
сетей выделены диапазоны адресов для <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9B%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B2%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D0%B5%D1%82%D1%8C" target="_top">локальных сетей (LAN)</a> (согласно <a class="ulink" href="http://tools.ietf.org/html/rfc1918" target="_top">rfc1918</a>). Это гарантирует отсутствие конфликтов с
любыми правильно настроенными адресами в Интернете.</p>
<div class="table">
<a name="listofnetworkaddressranges"></a><p class="title"><b>Таблица 5.2. Список диапазонов сетевых адресов</b></p>
<div class="table-contents"><table summary="Список диапазонов сетевых адресов" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    класс
    </th>
<th align="left">
    адреса сети
    </th>
<th align="left">
    маска сети
    </th>
<th align="left">
    маска сети /бит
    </th>
<th align="left">
    # подсетей
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    A
    </td>
<td align="left">
    10.x.x.x
    </td>
<td align="left">
    255.0.0.0
    </td>
<td align="left">
    /8
    </td>
<td align="left">
    1 
    </td>
</tr>
<tr>
<td align="left">
    B
    </td>
<td align="left">
    172.16.x.x — 172.31.x.x
    </td>
<td align="left">
    255.255.0.0
    </td>
<td align="left">
    /16
    </td>
<td align="left">
    16
    </td>
</tr>
<tr>
<td align="left">
    C
    </td>
<td align="left">
    192.168.0.x — 192.168.255.x
    </td>
<td align="left">
    255.255.255.0
    </td>
<td align="left">
    /24
    </td>
<td align="left">
    256
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Если узлу присвоен один из этих адресов, то этот узел не должен связываться
с глобальной сетью напрямую: он сможет делать это лишь через шлюз,
работающий как прокси-сервер для отдельных служб либо выполняющий <a class="ulink" href="http://ru.wikipedia.org/wiki/NAT" target="_top">трансляцию адресов
(NAT)</a>. Широкополосные роутеры обычно поддерживают трансляцию адресов
для пользователей локальной сети.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_network_device_support"></a>5.1.5. Поддержка сетевых устройств</h3></div></div></div>
<p>Хотя большая часть аппаратного обеспечения поддерживается в системе Debian,
есть некоторые сетевые устройства, требующие не-свободных по <a class="ulink" href="http://www.debian.org/social_contract#guidelines" target="_top">DFSG</a> драйверов. См. <a class="xref" href="#_non_free_hardware_drivers" title="9.7.8. Non-free драйвера устройств">Раздел 9.7.8, «Non-free драйвера устройств»</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_modern_network_configuration_for_desktop"></a>5.2. Современная конфигурация сети для настольного компьютера</h2></div></div></div>
<p>В Debian <code class="literal">squeeze</code> сетевое соединение может управляться
специальной <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B5%D0%BC%D0%BE%D0%BD_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0)" target="_top">службой</a>, такой, как <a class="ulink" href="http://ru.wikipedia.org/wiki/NetworkManager" target="_top">NetworkManager (NM)</a> (пакет network-manager
и др.) или <a class="ulink" href="http://en.wikipedia.org/wiki/Wicd_(Linux_Network_Manager)" target="_top">Wicd</a> (пакет wicd и др.).</p>
<div class="itemizedlist"><ul type="disc">
<li>
Они содержат собственные <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F" target="_top">графические</a> и консольные
программы пользовательского интерфейса.
</li>
<li>
Они включают собственную <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B5%D0%BC%D0%BE%D0%BD_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0)" target="_top">службу</a>, которая и
выполняет все действия.
</li>
<li>
Они позволяют легко подключить вашу систему к Интернету.
</li>
<li>
Они позволяют легко управлять конфигурацией проводных и беспроводных
соединений.
</li>
<li>
Они позволяют нам настраивать сеть независимо от основного пакета
<code class="literal">ifupdown</code>.
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Не используйте эти автоматические средства на серверах. Они предназначены в
первую очередь для пользователей настольных компьютеров и ноутбуков.</p>
</div>
<p>Однако, эти средства настройки сети сами должны быть настроены верно, чтобы
не возникало конфликтов с основным пакетом <code class="literal">ifupdown</code> и его
конфигурационным файлом "<code class="literal">/etc/network/interfaces</code>".</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Some features of these automatic network configuration tools may suffer
regressions.  These are not as robust as the legacy
<code class="literal">ifupdown</code> package.  Check <a class="ulink" href="http://bugs.debian.org/cgi-bin/pkgreport.cgi?package=network-manager" target="_top">BTS of network-manager</a> and <a class="ulink" href="http://bugs.debian.org/cgi-bin/pkgreport.cgi?package=wicd" target="_top">BTS of wicd</a> for current issues and limitations.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_gui_network_configuration_tools"></a>5.2.1. Графические средства настройки сети</h3></div></div></div>
<p>Официальная документация для NM и Wicd в Debian находится в
"<code class="literal">/usr/share/doc/network-manager/README.Debian</code>" и
"<code class="literal">/usr/share/doc/wicd/README.Debian</code>" соответственно.</p>
<p>По существу, настольный компьютер подключается к сети так:</p>
<div class="orderedlist"><ol type="1">
<li>
<p>
Добавьте вашего пользователя, например <code class="literal">foo</code>, в группу
"<code class="literal">netdev</code>" так (либо сделайте это автоматически с <a class="ulink" href="http://ru.wikipedia.org/wiki/D-Bus" target="_top">D-bus</a> в современных окружениях GNOME и KDE):
</p>
<pre class="screen">$ sudo adduser foo netdev</pre>
</li>
<li>
<p>
Оставьте конфигурационный файл "<code class="literal">/etc/network/interfaces</code>"
совсем простым, как здесь:
</p>
<pre class="screen">auto lo
iface lo inet loopback</pre>
</li>
<li>
<p>
Перезапустите NM или Wicd так:
</p>
<pre class="screen">$ sudo /etc/init.d/network-manager restart</pre>
<pre class="screen">$ sudo /etc/init.d/wicd restart</pre>
</li>
<li>
Настройте вашу сеть в графическом интерфейсе.
</li>
</ol></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Для избежания конфликтов с <code class="literal">ifupdown</code>, c помощью NM
управляются лишь те сетевые интерфейсы, которые <span class="strong"><strong>не</strong></span> указаны в
"<code class="literal">/etc/network/interfaces</code>", либо указаны там с параметрами
"<code class="literal">auto …</code>", "<code class="literal">allow-hotplug …</code>" или
"<code class="literal">iface … inet dhcp</code>" (без других параметров).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если вы хотите расширить возможности NM, взгляните на пакеты с модулями для
него: <code class="literal">network-manager-openconnect</code>,
<code class="literal">network-manager-openvpn-gnome</code>,
<code class="literal">network-manager-pptp-gnome</code>,
<code class="literal">mobile-broadband-provider-info</code>,
<code class="literal">gnome-bluetooth</code> и т.д. То же относится и к Wicd.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Эти средства автоматической настройки сети могут оказаться несовместимыми с
эзотерическими конфигурациями традиционного <code class="literal">ifupdown</code>:
см. <a class="xref" href="#_the_basic_network_configuration_with_ifupdown_legacy" title="5.5. Традиционный способ настройки сети с помощью ifupdown">Раздел 5.5, «Традиционный способ настройки сети с помощью ifupdown»</a>
и <a class="xref" href="#_the_advanced_network_configuration_with_ifupdown_legacy" title="5.6. The advanced network configuration with ifupdown (legacy)">Раздел 5.6, «The advanced network configuration with ifupdown (legacy)»</a>.
Проверяйте <a class="ulink" href="http://bugs.debian.org/cgi-bin/pkgreport.cgi?package=network-manager" target="_top">BTS пакета
network-manager</a> и <a class="ulink" href="http://bugs.debian.org/cgi-bin/pkgreport.cgi?package=wicd" target="_top">BTS wicd</a>.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_legacy_network_connection_and_configuration"></a>5.3. Традиционные (legacy) способы настройки сети</h2></div></div></div>
<p>Если метод, описанный в <a class="xref" href="#_the_modern_network_configuration_for_desktop" title="5.2. Современная конфигурация сети для настольного компьютера">Раздел 5.2, «Современная конфигурация сети для настольного компьютера»</a>, не удовлетворяет
вашим потребностям, следует использовать один из традиционных способов
настройки сети с помощью набора простых средств.</p>
<p>Команды для установки соединения разные для каждого способа (см. <a class="xref" href="#_the_network_connection_method_legacy" title="5.4. Традиционный способ установки подключения к сети">Раздел 5.4, «Традиционный способ установки подключения к сети»</a>).</p>
<p>Есть две группы программ для низкоуровневой настройки сети в Linux
(см. <a class="xref" href="#_iproute2_commands" title="5.7.1. Команды iproute2">Раздел 5.7.1, «Команды iproute2»</a>):</p>
<div class="itemizedlist"><ul type="disc">
<li>
Старый набор <a class="ulink" href="http://www.linuxfoundation.org/en/Net:Net-tools" target="_top">net-tools</a>
(<code class="literal">ifconfig</code>(8) и др.) из сетевой подсистемы Linux
NET-3. Большая их часть теперь устарела.
</li>
<li>
Новый набор программ <a class="ulink" href="http://www.linuxfoundation.org/en/Net:Iproute2" target="_top">Linux iproute2</a>
(<code class="literal">ip</code>(8) и др.) -- современная сетевая подсистема Linux.
</li>
</ul></div>
<p>Это мощные средства низкоуровневой настройки сети, но они громоздки для
использования. Поэтому были созданы высокоуровневые системы настройки сети.</p>
<p>Из средств высокоуровневой настройки сети в Debian пакет
<code class="literal">ifupdown</code> является стандартом де факто. С ним можно
поднимать сеть по команде вроде "<code class="literal">ifup eth0</code>". Его
конфигурация находится в файле "<code class="literal">/etc/network/interfaces</code>",
типичное содержимое которого выглядит так:</p>
<pre class="screen">auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp</pre>
<p>Пакет <code class="literal">resolvconf</code> создан как дополнение к системе
<code class="literal">ifupdown</code> для автоматической настройки адресов
DNS-серверов в файле "<code class="literal">/etc/resolv.conf</code>". Теперь большая
часть пакетов Debian, предназначенных для настройки сети, используют пакет
<code class="literal">resolvconf</code>.
(см. "<code class="literal">/usr/share/doc/resolvconf/README.Debian</code>").</p>
<p>Вспомогательные сценарии для пакета <code class="literal">ifupdown</code>, такие как
<code class="literal">ifplugd</code>, <code class="literal">guessnet</code>,
<code class="literal">ifscheme</code> и др., автоматизируют выбор сетевых настроек для
мобильный рабочей станции, подключаемой к различным проводным сетям. Они
сравнительно трудны в настройке, но хорошо взаимодействуют с существующей
конфигурацией <code class="literal">ifupdown</code>.</p>
<p>Все эти средства описываются здесь подробно и с примерами (см. <a class="xref" href="#_the_basic_network_configuration_with_ifupdown_legacy" title="5.5. Традиционный способ настройки сети с помощью ifupdown">Раздел 5.5, «Традиционный способ настройки сети с помощью ifupdown»</a> и <a class="xref" href="#_the_advanced_network_configuration_with_ifupdown_legacy" title="5.6. The advanced network configuration with ifupdown (legacy)">Раздел 5.6, «The advanced network configuration with ifupdown (legacy)»</a>).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_network_connection_method_legacy"></a>5.4. Традиционный способ установки подключения к сети</h2></div></div></div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Способ установки тестового соединения, описанный здесь, предназначен для
тестирования, а не для ежедневного использования. Вам рекомендуется
использовать NM, Wicd или <code class="literal">ifupdown</code> (см. <a class="xref" href="#_the_modern_network_configuration_for_desktop" title="5.2. Современная конфигурация сети для настольного компьютера">Раздел 5.2, «Современная конфигурация сети для настольного компьютера»</a> и <a class="xref" href="#_the_basic_network_configuration_with_ifupdown_legacy" title="5.5. Традиционный способ настройки сети с помощью ifupdown">Раздел 5.5, «Традиционный способ настройки сети с помощью ifupdown»</a>).</p>
</div>
<p>Вот основные способы подключения к сетям с различными схемами подключения (с
разным сетевым оборудованием).</p>
<div class="table">
<a name="listofnetworkcondconnectionpaths"></a><p class="title"><b>Таблица 5.3. Список способов соединения при различных схемах подключения к сети</b></p>
<div class="table-contents"><table summary="Список способов соединения при различных схемах подключения к сети" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    интерфейсы PC
    </th>
<th align="left">
    способ соединения
    </th>
<th align="left">
    схема подключения к сети
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    Последовательный порт (<code class="literal">ppp0</code>)
    </td>
<td align="left">
    PPP
    </td>
<td align="left">
    ⇔ <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D0%B4%D0%B5%D0%BC" target="_top">модем</a> ⇔ телефонная сеть ⇔ точка модемного
доступа ⇔ ISP
    </td>
</tr>
<tr>
<td align="left">
    Ethernet (<code class="literal">eth0</code>)
    </td>
<td align="left">
    PPPoE/DHCP/Static
    </td>
<td align="left">
    ⇔ BB-модем ⇔ BB-служба ⇔ BB точка доступа ⇔ ISP
    </td>
</tr>
<tr>
<td align="left">
    Ethernet (<code class="literal">eth0</code>)
    </td>
<td align="left">
    DHCP/Static
    </td>
<td align="left">
    ⇔ LAN ⇔ BB-роутер с <a class="ulink" href="http://ru.wikipedia.org/wiki/NAT" target="_top">трансляцией
сетевых адресов (NAT)</a> (⇔ BB-модем ...)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вот обзор сценариев настройки для разных способов соединения.</p>
<div class="table">
<a name="listofnetworkcononconfigurations"></a><p class="title"><b>Таблица 5.4. Список конфигураций сетевого соединения</b></p>
<div class="table-contents"><table summary="Список конфигураций сетевого соединения" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    способ соединения
    </th>
<th align="left">
    конфигурация
    </th>
<th align="left">
    необходимые пакеты
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    PPP
    </td>
<td align="left">
<code class="literal">pppconfig</code>
    </td>
<td align="left">
<code class="literal">pppconfig</code>, <code class="literal">ppp</code>
</td>
</tr>
<tr>
<td align="left">
    PPP (другой способ)
    </td>
<td align="left">
<code class="literal">wvdialconf</code>
    </td>
<td align="left">
<code class="literal">ppp</code>, <code class="literal">wvdial</code>
</td>
</tr>
<tr>
<td align="left">
    PPPoE
    </td>
<td align="left">
<code class="literal">pppoeconf</code>
    </td>
<td align="left">
<code class="literal">pppoeconf</code>, <code class="literal">ppp</code>
</td>
</tr>
<tr>
<td align="left">
    DHCP
    </td>
<td align="left">
    описана в "<code class="literal">/etc/dhcp3/dhclient.conf</code>"
    </td>
<td align="left">
                <code class="literal">dhcp3-client</code>
              </td>
</tr>
<tr>
<td align="left">
    статический IP (IPv4)
    </td>
<td align="left">
    описана в "<code class="literal">/etc/network/interfaces</code>"
    </td>
<td align="left">
                <code class="literal">net-tools</code>
              </td>
</tr>
<tr>
<td align="left">
    статический IP (IPv6)
    </td>
<td align="left">
    описана в "<code class="literal">/etc/network/interfaces</code>"
    </td>
<td align="left">
                <code class="literal">iproute</code>
              </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вот расшифровки используемых аббревиатур.</p>
<div class="table">
<a name="listofnetworkconnectionacronyms"></a><p class="title"><b>Таблица 5.5. Список "сетевых" аббревиатур</b></p>
<div class="table-contents"><table summary='Список "сетевых" аббревиатур' border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    аббревиатура
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/POTS" target="_top">POTS</a>
              </td>
<td align="left">
    обычная телефонная линия (plain old telephone service)
    </td>
</tr>
<tr>
<td align="left">
    BB
    </td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Broadband" target="_top">широкополосная передача</a> (broadband)
              </td>
</tr>
<tr>
<td align="left">
    BB-служба
    </td>
<td align="left">
    например DSL, кабельное телевидение или FTTP
    </td>
</tr>
<tr>
<td align="left">
    BB-модем
    </td>
<td align="left">
    то есть <a class="ulink" href="http://en.wikipedia.org/wiki/DSL_modem" target="_top">DSL-модем</a>, <a class="ulink" href="http://en.wikipedia.org/wiki/Cable_modem" target="_top">кабельный модем</a> или <a class="ulink" href="http://ru.wikipedia.org/wiki/PON" target="_top">абонентский оптоволоконный терминал
(ONT)</a>
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9B%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B2%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D0%B5%D1%82%D1%8C" target="_top">LAN</a>
              </td>
<td align="left">
    локальная вычислительная сеть, ЛВС (local area network)
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%BE%D0%B1%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B2%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D1%81%D0%B5%D1%82%D1%8C" target="_top">WAN</a>
              </td>
<td align="left">
    глобальная вычислительная сеть, ГВС (wide area network)
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/DHCP" target="_top">DHCP</a>
              </td>
<td align="left">
    протокол динамической конфигурации узла (dynamic host configuration
protocol)
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Point-to-Point_Protocol" target="_top">PPP</a>
              </td>
<td align="left">
    двухточечный протокол (point-to-point protocol)
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/PPPoE" target="_top">PPPoE</a>
              </td>
<td align="left">
    протокол передачи кадров PPP через Ethernet (point-to-point protocol over
Ethernet)
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82-%D0%BF%D1%80%D0%BE%D0%B2%D0%B0%D0%B9%D0%B4%D0%B5%D1%80" target="_top">ISP</a>
              </td>
<td align="left">
    Интернет-провайдер
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>The WAN connection services via cable TV are generally served by DHCP or
PPPoE.  The ones by ADSL and FTTP are generally served by PPPoE.  You have
to consult your ISP for exact configuration requirements of the WAN
connection.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>When BB-router is used to create home LAN environment, PCs on LAN are
connected to the WAN via BB-router with <a class="ulink" href="http://ru.wikipedia.org/wiki/NAT" target="_top">network address translation
(NAT)</a>.  For such case, PC's network interfaces on the LAN are served
by static IP or DHCP from the BB-router.  BB-router must be configured to
connect the WAN following the instruction by your ISP.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_dhcp_connection_with_the_ethernet"></a>5.4.1. Подключение по DHCP в сети Ethernet</h3></div></div></div>
<p>Типичная современная домашняя или маленькая офисная сеть (LAN) соединяется с
Интернетом (WAN) через широкополосный роутер потребительского класса
(BB-router). Локальная сеть за этим роутером обычно обслуживается <a class="ulink" href="http://ru.wikipedia.org/wiki/DHCP" target="_top">DHCP</a>-сервером, запущенном
на этом роутере.</p>
<p>Если в вашей Ethernet-сети используется <a class="ulink" href="http://ru.wikipedia.org/wiki/DHCP" target="_top">DHCP</a>, просто установите
пакет <code class="literal">dhcp3-client</code>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_static_ip_connection_with_the_ethernet"></a>5.4.2. Статический IP в сети Ethernet</h3></div></div></div>
<p>Не требуется специальных действий для настройки Ethernet-сети со
статическими IP-адресами.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_ppp_connection_with_pppconfig"></a>5.4.3. Настройка PPP-соединения с помощью pppconfig</h3></div></div></div>
<p>Сценарий <code class="literal">pppconfig</code> настраивает <a class="ulink" href="http://ru.wikipedia.org/wiki/Point-to-Point_Protocol" target="_top">PPP</a>-соединение. Вам нужно задать следующие параметры
подключения:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Телефонный номер провайдера
</li>
<li>
Имя пользователя ISP
</li>
<li>
Пароль ISP
</li>
<li>
Скорость порта
</li>
<li>
Последовательный порт, к которому подключен модем
</li>
<li>
Способ аутентификации
</li>
</ul></div>
<div class="table">
<a name="listofconfigurationwithpppconfig"></a><p class="title"><b>Таблица 5.6. Список файлов настройки <a class="ulink" href="http://ru.wikipedia.org/wiki/Point-to-Point_Protocol" target="_top">PPP</a>-соединения,
редактируемых сценарием pppconfig</b></p>
<div class="table-contents"><table summary="Список файлов настройки PPP-соединения,
редактируемых сценарием pppconfig" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/peers/&lt;имя_провайдера&gt;</code>
                </td>
<td align="left">
    <code class="literal">pppconfig</code> создаёт отдельный конфигурационный файл для
<code class="literal">pppd</code> для соединения с заданным провайдером
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/chatscripts/&lt;имя_провайдера&gt;</code>
                </td>
<td align="left">
    <code class="literal">pppconfig</code> создаёт отдельный файл конфигурации дозвона до
провайдера командой <code class="literal">chat</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/options</code>
                </td>
<td align="left">
    Общие параметры выполнения <code class="literal">pppd</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/pap-secret</code>
                </td>
<td align="left">
    Параметры аутентификации по протоколу <a class="ulink" href="http://ru.wikipedia.org/wiki/PAP" target="_top">PAP</a>
(рискованно с точки зрения безопасности)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/chap-secret</code>
                </td>
<td align="left">
    Параметры аутентификации по протоколу <a class="ulink" href="http://ru.wikipedia.org/wiki/CHAP" target="_top">CHAP</a>
(более безопасно)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Если "&lt;имя_провайдера&gt;" -- "<code class="literal">provider</code>", то команды
<code class="literal">pon</code> и <code class="literal">poff</code> можно запускать без
аргументов.</p>
</div>
<p>Вы можете протестировать конфигурацию, используя низкоуровневые средства
настройки:</p>
<pre class="screen">$ sudo pon &lt;isp_name&gt;
...
$ sudo poff &lt;isp_name&gt;</pre>
<p>См. "<code class="literal">/usr/share/doc/ppp/README.Debian.gz</code>"</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_alternative_ppp_connection_with_wvdialconf"></a>5.4.4. Настройка PPP-соединения с помощью wvdialconf</h3></div></div></div>
<p>A different approach to using <code class="literal">pppd</code>(8) is to run it from
<code class="literal">wvdial</code>(1) which comes in the <code class="literal">wvdial</code>
package.  Instead of <code class="literal">pppd</code> running
<code class="literal">chat</code>(8) to dial in and negotiate the connection,
<code class="literal">wvdial</code> does the dialing and initial negotiating and then
starts <code class="literal">pppd</code> to do the rest.</p>
<p>Сценарий <code class="literal">wvdialconf</code> интерактивно настраивает
PPP-соединение. Вам нужно задать параметры подключения:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Телефонный номер провайдера
</li>
<li>
Имя пользователя ISP
</li>
<li>
Пароль ISP
</li>
</ul></div>
<p><code class="literal">wvdial</code> в большинстве случаев успешно устанавливает
соединение и автоматически управляет данными аутентификации.</p>
<div class="table">
<a name="listofconfiguratonwithwvdialconf"></a><p class="title"><b>Таблица 5.7. Список файлов настройки PPP-соединения с помощью wvdialconf</b></p>
<div class="table-contents"><table summary="Список файлов настройки PPP-соединения с помощью wvdialconf" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/peers/wvdial</code>
                </td>
<td align="left">
    <code class="literal">wvdialconf</code> создаёт файл настройки
<code class="literal">pppd</code>, специфичный для <code class="literal">wvdial</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/wvdial.conf</code>
                </td>
<td align="left">
    <code class="literal">wvdialconf</code> создаёт файл настройки дозвона
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/options</code>
                </td>
<td align="left">
    Общие параметры выполнения <code class="literal">pppd</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/pap-secret</code>
                </td>
<td align="left">
    Параметры аутентификации по протоколу <a class="ulink" href="http://ru.wikipedia.org/wiki/PAP" target="_top">PAP</a>
(рискованно с точки зрения безопасности)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/chap-secret</code>
                </td>
<td align="left">
    Параметры аутентификации по протоколу <a class="ulink" href="http://ru.wikipedia.org/wiki/CHAP" target="_top">CHAP</a>
(более безопасно)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вы можете протестировать конфигурацию, используя низкоуровневые средства
настройки:</p>
<pre class="screen">$ sudo wvdial
...
$ sudo killall wvdial</pre>
<p>См. <code class="literal">wvdial</code>(1) и <code class="literal">wvdial.conf</code>(5).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_pppoe_connection_with_pppoeconf"></a>5.4.5. Настройка PPPoE-соединения с помощью pppoeconf</h3></div></div></div>
<p>Если ваш Интернет-провайдер предоставляет вам подключение по PPPoE и вы
хотите подключать ваш компьютер напрямую к глобальной сети (WAN), нужно
настроить на нём подключение по PPPoE. PPPoE означает "PPP поверх
Ethernet". Сценарий <code class="literal">pppoeconf</code> интерактивно настраивает
PPPoE-соединение.</p>
<p>Используются следующие конфигурационные файли.</p>
<div class="table">
<a name="listofconfigurationwithpppoeconf"></a><p class="title"><b>Таблица 5.8. Список конфигурационных файлов для PPPoE-соединения, изменяемых pppoeconf</b></p>
<div class="table-contents"><table summary="Список конфигурационных файлов для PPPoE-соединения, изменяемых pppoeconf" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/peers/dsl-provider</code>
                </td>
<td align="left">
    <code class="literal">pppoeconf</code> генерирует файл настройки для
<code class="literal">pppd</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/options</code>
                </td>
<td align="left">
    Общие параметры выполнения <code class="literal">pppd</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/pap-secret</code>
                </td>
<td align="left">
    Параметры аутентификации по протоколу <a class="ulink" href="http://ru.wikipedia.org/wiki/PAP" target="_top">PAP</a>
(рискованно с точки зрения безопасности)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ppp/chap-secret</code>
                </td>
<td align="left">
    Параметры аутентификации по протоколу <a class="ulink" href="http://ru.wikipedia.org/wiki/CHAP" target="_top">CHAP</a>
(более безопасно)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вы можете протестировать конфигурацию, используя низкоуровневые средства
настройки:</p>
<pre class="screen">$ sudo /sbin/ifconfig eth0 up
$ sudo pon dsl-provider
...
$ sudo poff dsl-provider
$ sudo /sbin/ifconfig eth0 down</pre>
<p>См. "<code class="literal">/usr/share/doc/pppoeconf/README.Debian</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_basic_network_configuration_with_ifupdown_legacy"></a>5.5. Традиционный способ настройки сети с помощью ifupdown</h2></div></div></div>
<p>Для настройки сети <a class="ulink" href="http://ru.wikipedia.org/wiki/TCP/IP" target="_top">TCP/IP</a> в Debian
традиционно используется пакет <code class="literal">ifupdown</code> в качестве
средства верхнего уровня. Есть два основных типичных случая.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Системы с <span class="strong"><strong>динамическим IP-адресом</strong></span>,
например, ноутбуки, следует <span class="strong"><strong>вместе с</strong></span>
пакетом <code class="literal">resolvconf</code>, что позволит легко менять
конфигурацию в зависимости от места подключения (см. <a class="xref" href="#_the_network_interface_served_by_the_dhcp" title="5.5.4. Сетевой интерфейс, обслуживаемый протоколом DHCP">Раздел 5.5.4, «Сетевой интерфейс, обслуживаемый протоколом DHCP»</a>).
</li>
<li>
Системы со <span class="strong"><strong>статическим IP</strong></span>, например
сервера, следует настраивать <span class="strong"><strong>без</strong></span> пакета
<code class="literal">resolvconf</code> и сохранять вашу систему простой (см. <a class="xref" href="#_the_network_interface_with_the_static_ip" title="5.5.5. Сетевой интерфейс со статическим IP-адресом">Раздел 5.5.5, «Сетевой интерфейс со статическим IP-адресом»</a>).
</li>
</ul></div>
<p>Эти традиционные способы настройки очень полезны, если вам нужно создать
продвинутую конфигурацию (см. <a class="xref" href="#_the_basic_network_configuration_with_ifupdown_legacy" title="5.5. Традиционный способ настройки сети с помощью ifupdown">Раздел 5.5, «Традиционный способ настройки сети с помощью ifupdown»</a>).</p>
<p>Пакет <code class="literal">ifupdown</code> предоставляет стандартизированный набор
инструментов для высокоуровневой настройки сети в системе Debian. В этом
разделе мы рассмотрим простую <code class="literal">ifupdown</code> на типичных
примерах.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_command_syntax_simplified"></a>5.5.1. Упрощённый синтаксис команд</h3></div></div></div>
<p>Пакет <code class="literal">ifupdown</code> предоставляет две команды:
<code class="literal">ifup</code>(8) и <code class="literal">ifdown</code>(8). Они изменяют
конфигурацию в соответствии с настройками "/etc/network/interfaces".</p>
<div class="table">
<a name="listofbasicnetwoandswithifupdown"></a><p class="title"><b>Таблица 5.9. Список простых команд ifupdown</b></p>
<div class="table-contents"><table summary="Список простых команд ifupdown" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    действие с файлом
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">ifup eth0</code>
                </td>
<td align="left">
    "поднять" (включить) сетевой интерфейс <code class="literal">eth0</code>,
сконфигурированный записью "<code class="literal">iface eth0</code>" (если такая есть)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ifdown eth0</code>
                </td>
<td align="left">
    "опустить" (выключить) сетевой интерфейс <code class="literal">eth0</code> в
соответствии с его настройками, заданными записью "<code class="literal">iface
eth0</code>" (если такая есть).
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не используйте низкоуровневые средства, такие как
<code class="literal">ifconfig</code>(8) и <code class="literal">ip</code>(8) для настройки
интерфейса в "поднятом" состоянии.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Не существует команды "<code class="literal">ifupdown</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_basic_syntax_of_etc_network_interfaces"></a>5.5.2. Простейший синтаксис "/etc/network/interfaces"</h3></div></div></div>
<p>Синтаксис файла настройки "<code class="literal">/etc/network/interfaces</code>",
подробно описаннный в <code class="literal">interfaces</code>(5), можно обобщить так.</p>
<div class="table">
<a name="list-of-stanzas-in-eni"></a><p class="title"><b>Таблица 5.10. Список записей для "<code class="literal">/etc/network/interfaces</code>"</b></p>
<div class="table-contents"><table summary='Список записей для "/etc/network/interfaces"' border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    запись
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    "<code class="literal">auto &lt;имя_интерфейса&gt;</code>"
    </td>
<td align="left">
    "поднимать" интерфейс с заданным именем при запуске системы
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">allow-auto &lt;имя_интерфейса&gt;</code>"
    </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">allow-hotplug &lt;имя_интерфейса&gt;</code>"
    </td>
<td align="left">
    "поднимать" интерфейс с заданным именем, если ядро определяет "появление"
устройства (hotplug)
    </td>
</tr>
<tr>
<td align="left">
    Строки, начинающиеся с "<code class="literal">iface &lt;имя_конфигурации&gt; …</code>"
    </td>
<td align="left">
    объявляют конфигурацию с заданным именем
    </td>
</tr>
<tr>
<td align="left">
    Строки, начинающиеся с "<code class="literal">mapping &lt;шаблон_имени_интерфейса&gt;
</code>"
    </td>
<td align="left">
    определяет, какой &lt;конфигурации&gt; какое &lt;имя_интерфейса&gt;
соответствует
    </td>
</tr>
<tr>
<td align="left">
    Строки, начинающиеся с "<code class="literal">#</code>"
    </td>
<td align="left">
    являются комментариями и игнорируются (комментарии в конце строк с командами
<span class="strong"><strong>не</strong></span> поддерживаются)
    </td>
</tr>
<tr>
<td align="left">
    Строки, заканчивающиеся символом "<code class="literal">\</code>"
    </td>
<td align="left">
    означают, что запись будет завершена на следующей строке
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Строки, начинающиеся с записи <span class="strong"><strong><code class="literal">iface</code></strong></span>, имеют следующий вид:</p>
<pre class="screen">iface &lt;имя_конфигурации&gt; &lt;семейство_адресов&gt; &lt;метод_получения_адреса&gt;
 &lt;параметр1&gt; &lt;значение1&gt;
 &lt;параметр2&gt; &lt;значение2&gt;
 ...</pre>
<p>В простейшем случае запись <span class="strong"><strong><code class="literal">mapping</code></strong></span> не нужна: имя интерфейса
совпадает с именем конфигурации (см. <a class="xref" href="#_the_mapping_stanza" title="5.6.5. The mapping stanza">Раздел 5.6.5, «The mapping stanza»</a>).</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не создавайте повторных записей "<code class="literal">iface</code>" для интерфейса в
<code class="literal">iface</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_loopback_network_interface"></a>5.5.3. Устройство обратной связи (loopback)</h3></div></div></div>
<p>Следующая запись в "<code class="literal">/etc/network/interfaces</code>" включает
сетевой интерфейс обратной связи <code class="literal">lo</code> во время загрузки
системы (благодаря записи <code class="literal">auto</code>).</p>
<pre class="screen">auto lo
iface lo inet loopback</pre>
<p>Эта запись всегда присутствует в файле
"<code class="literal">/etc/network/interfaces</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_network_interface_served_by_the_dhcp"></a>5.5.4. Сетевой интерфейс, обслуживаемый протоколом DHCP</h3></div></div></div>
<p>Подготовив систему, как описано выше (<a class="xref" href="#_the_dhcp_connection_with_the_ethernet" title="5.4.1. Подключение по DHCP в сети Ethernet">Раздел 5.4.1, «Подключение по DHCP в сети Ethernet»</a>), укажите в файле
"<code class="literal">/etc/network/interfaces</code>" тот сетевой интерфейс, который
должен получать адрес по протоколу DHCP:</p>
<pre class="screen">allow-hotplug eth0
iface eth0 inet dhcp
 hostname "mymachine"</pre>
<p>Когда ядро Linux "узнаёт" о подключении интерфейса <code class="literal">eth0</code> к
сети, ключевое слово <code class="literal">allow-hotplug</code> запускает команду
<code class="literal">ifup</code> для настройки этого интерфейса, а запись
<code class="literal">iface</code> указывает, что нужно использовать DHCP.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_network_interface_with_the_static_ip"></a>5.5.5. Сетевой интерфейс со статическим IP-адресом</h3></div></div></div>
<p>Сетевой интерфейс со статическим IP-адресом настраивается в файле
"<code class="literal">/etc/network/interfaces</code>" примерно так:</p>
<pre class="screen">allow-hotplug eth0
iface eth0 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 dns-domain lan
 dns-nameservers 192.168.11.1</pre>
<p>Когда ядро Linux "узнаёт" о подключении интерфейса <code class="literal">eth0</code> к
сети, ключевое слово <code class="literal">allow-hotplug</code> запускает команду
<code class="literal">ifup</code> для настройки этого интерфейса, а запись
<code class="literal">iface</code> указывает, какой статический IP следует
использовать.</p>
<p>В приведённой конфигурации предполагается следующее:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Диапазон IP-адресов, используемый в локальной сети:
<code class="literal">192.168.11.0</code> -- <code class="literal">192.168.11.255</code>
</li>
<li>
IP-адрес шлюза: <code class="literal">192.168.11.1</code>
</li>
<li>
"наш" IP-адрес: <code class="literal">192.168.11.100</code>
</li>
<li>
Пакет <code class="literal">resolvconf</code> установлен
</li>
<li>
Доменное имя: "<code class="literal">lan</code>"
</li>
<li>
IP-адрес DNS-сервера: <code class="literal">192.168.11.1</code>
</li>
</ul></div>
<p>Если пакет <code class="literal">resolvconf</code> не установлен, адреса DNS-серверов
нужно вручную сохранить в файле "<code class="literal">/etc/resolv.conf</code>",
например:</p>
<pre class="screen">nameserver 192.168.11.1
domain lan</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>IP-адреса в приведённом примере не предназначены для того, чтобы их просто
скопировать. Вам следует выбрать их в соответствии с конфигурацией вашей
сети.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_basics_of_wireless_lan_interface"></a>5.5.6. Основные сведения о настройке беспроводного интерфейса</h3></div></div></div>
<p>The <a class="ulink" href="http://ru.wikipedia.org/wiki/Wireless_LAN" target="_top">wireless LAN (WLAN for
short)</a> provides the fast wireless connectivity through the
spread-spectrum communication of unlicensed radio bands based on the set of
standards called <a class="ulink" href="http://ru.wikipedia.org/wiki/IEEE_802.11" target="_top">IEEE 802.11</a>.</p>
<p>Беспроводные интерфейсы по большей части похожи на Ethernet-интерфейсы, но
для инициализации требуют ID сети и ключи шифрования. Для их настройки
подходят те же высокоуровневые инструменты, что и для интерфейсов Ethernet,
с той лишь разницей, что им присваиваются имена другого вида, как
<code class="literal">eth1</code>, <code class="literal">wlan0</code>, <code class="literal">ath0</code>,
<code class="literal">wifi0</code> и др. -- в зависимости от используемых драйверов.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>The <code class="literal">wmaster0</code> device is the master device which is an
internal device used only by <a class="ulink" href="http://en.wikipedia.org/wiki/SoftMAC" target="_top">SoftMAC</a> with new
<a class="ulink" href="http://linuxwireless.org/" target="_top">mac80211 API of Linux</a>.</p>
</div>
<p>Вот некоторые сокращения, связанные с беспроводными сетями.</p>
<div class="table">
<a name="listofacronymsforwlan"></a><p class="title"><b>Таблица 5.11. Список "беспроводных" аббревиатур</b></p>
<div class="table-contents"><table summary='Список "беспроводных" аббревиатур' border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    аббревиатура
    </th>
<th align="left">
    расшифровка
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    NWID
    </td>
<td align="left">
    Network ID
    </td>
<td align="left">
    16-битный ID сети, использовавшийся в сетях <a class="ulink" href="http://en.wikipedia.org/wiki/WaveLAN" target="_top">WaveLAN</a> до создания стандарта 802.11 (давно
устарело)
    </td>
</tr>
<tr>
<td align="left">
    (E)SSID
    </td>
<td align="left">
    (Extended) <a class="ulink" href="http://en.wikipedia.org/wiki/Service_set_identifier" target="_top">Service Set
Identifier</a>
    </td>
<td align="left">
    сетевое имя <a class="ulink" href="http://en.wikipedia.org/wiki/Wireless_access_point" target="_top">беспроводной точки
доступа (AP)</a>, при подключении к которой образуется <a class="ulink" href="http://ru.wikipedia.org/wiki/IEEE_802.11" target="_top">беспроводная ЛВС 802.11</a>; Domain ID
    </td>
</tr>
<tr>
<td align="left">
    WEP, (WEP2)
    </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/WEP" target="_top">Wired Equivalent Privacy</a>
                </td>
<td align="left">
    1st generation 64-bit (128-bit) wireless encryption standard with 40-bit key
(deprecated)
    </td>
</tr>
<tr>
<td align="left">
    WPA
    </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/WPA" target="_top">Wi-Fi Protected Access</a>
                </td>
<td align="left">
    2nd generation wireless encryption standard (most of 802.11i), compatible
with WEP
    </td>
</tr>
<tr>
<td align="left">
    WPA2
    </td>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/IEEE_802.11i" target="_top">Wi-Fi Protected Access 2</a>
                </td>
<td align="left">
    3rd generation wireless encryption standard (full 802.11i), non-compatible
with WEP
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Выбор протокола обычно ограничен возможностями используемой точки доступа.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_wireless_lan_interface_with_wpa_wpa2"></a>5.5.7. The wireless LAN interface with WPA/WPA2</h3></div></div></div>
<p>You need to install the <code class="literal">wpasupplicant</code> package to support
the WLAN with the new WPA/WPA2.</p>
<p>Для использования <a class="ulink" href="http://ru.wikipedia.org/wiki/DHCP" target="_top">DHCP</a> в беспроводной сети,
запись в файле "<code class="literal">/etc/network/interfaces</code>" должна быть
такой:</p>
<pre class="screen">allow-hotplug ath0
iface ath0 inet dhcp
 wpa-ssid homezone
 # hexadecimal psk is encoded from a plaintext passphrase
 wpa-psk 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f</pre>
<p>См. "<code class="literal">/usr/share/doc/wpasupplicant/README.modes.gz</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_wireless_lan_interface_with_wep"></a>5.5.8. The wireless LAN interface with WEP</h3></div></div></div>
<p>Для этого нужен пакет <code class="literal">wireless-tools</code>, поддерживающий
устаревшее шифрование WEP. (Ваша точка доступа всё ещё может требовать этого
небезопасного способа шифрования, однако это лучше, чем ничего.)</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Заметьте, что ваш обмен данными через беспроводную сеть с WEP может быть
"подслушан".</p>
</div>
<p>Для использования <a class="ulink" href="http://ru.wikipedia.org/wiki/DHCP" target="_top">DHCP</a> в беспроводной сети,
запись в файле "<code class="literal">/etc/network/interfaces</code>" должна быть
такой:</p>
<pre class="screen">allow-hotplug eth0
iface eth0 inet dhcp
 wireless-essid Home
 wireless-key1 0123-4567-89ab-cdef
 wireless-key2 12345678
 wireless-key3 s:password
 wireless-defaultkey 2
 wireless-keymode open</pre>
<p>См. "<code class="literal">/usr/share/doc/wireless-tools/README.Debian</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_ppp_connection"></a>5.5.9. PPP-соединение</h3></div></div></div>
<p>Сначала вам следует настроить PPP-соединение (см. <a class="xref" href="#_the_ppp_connection_with_pppconfig" title="5.4.3. Настройка PPP-соединения с помощью pppconfig">Раздел 5.4.3, «Настройка PPP-соединения с помощью pppconfig»</a>). Теперь добавьте в файл
"<code class="literal">/etc/network/interfaces</code>" запись для основного
PPP-интерфейса <code class="literal">ppp0</code>:</p>
<pre class="screen">iface ppp0 inet ppp
 provider &lt;имя_провайдера&gt;</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_alternative_ppp_connection"></a>5.5.10. PPP-соединение с wvdial</h3></div></div></div>
<p>Сначала настройте соединение с помощью <code class="literal">wvdial</code> (см. <a class="xref" href="#_the_alternative_ppp_connection_with_wvdialconf" title="5.4.4. Настройка PPP-соединения с помощью wvdialconf">Раздел 5.4.4, «Настройка PPP-соединения с помощью wvdialconf»</a>). Теперь
добавьте в файл "<code class="literal">/etc/network/interfaces</code>" запись для
основного PPP-интерфейса <code class="literal">ppp0</code>:</p>
<pre class="screen">iface ppp0 inet wvdial</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_pppoe_connection"></a>5.5.11. PPPoE-соединение</h3></div></div></div>
<p>Если подключение к Интернету устанавливается по PPPoE, настройте сначала
PPPoE-соединение (см. <a class="xref" href="#_the_pppoe_connection_with_pppoeconf" title="5.4.5. Настройка PPPoE-соединения с помощью pppoeconf">Раздел 5.4.5, «Настройка PPPoE-соединения с помощью pppoeconf»</a>). Теперь добавьте в файл
"<code class="literal">/etc/network/interfaces</code>" запись для физического
интерфейса, через который происходит подключение (здесь:
<code class="literal">eth0</code>) и для подключения по PPPoE (iface dsl).</p>
<pre class="screen">allow-hotplug eth0
iface eth0 inet manual
 pre-up /sbin/ifconfig eth0 up
 up ifup ppp0=dsl
 down ifdown ppp0=dsl
 post-down /sbin/ifconfig eth0 down
# The following is used internally only
iface dsl inet ppp
 provider dsl-provider</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_network_configuration_state_of_ifupdown"></a>5.5.12. Состояние подключения с ifupdown</h3></div></div></div>
<p>В файле "<code class="literal">/etc/network/run/ifstate</code>" хранится <span class="strong"><strong>предполагаемый</strong></span> список активных сетевых подключений,
обслуживаемых системой ifupdown. То есть, даже если соединение установить не
получилось, оно будет перечислено в этом файле.</p>
<p>Соединение не может использоваться как часть <a class="ulink" href="http://ru.wikipedia.org/wiki/IP#.D0.92.D0.B5.D1.80.D1.81.D0.B8.D1.8F_4" target="_top">сети
IPV4</a>, если команда <code class="literal">ifconfig</code>(8) не выдаёт
необходимый список адресов в отдельной строчке, вот такой:</p>
<pre class="screen">  inet addr:192.168.11.2  Bcast:192.168.11.255  Mask:255.255.255.0</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Для Ethernet-устройств, через которые устанавливается PPPoE-соединение,
IP-адреса не являются необходимостью, и такая строчка может отсутствовать.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_basic_network_reconfiguration"></a>5.5.13. Изменение настроек сети (простейший случай)</h3></div></div></div>
<p>Чтобы попытаться изменить настройки интерфейса, например,
<code class="literal">eth0</code>, следует сначала выключить его командой <span class="strong"><strong><code class="literal">sudo ifdown eth0</code></strong></span>. Так запись об
<code class="literal">eth0</code> будет исключена из файла
"<code class="literal">/etc/network/run/ifstate</code>". (Сообщение об ошибке может
появиться, если <code class="literal">eth0</code> уже выключено либо настроено
неверно. Так что, в любом случае стоит попробовать эту команду, если у вас
простая однопользовательская рабочая станция.)</p>
<p>Теперь вы можете отредактировать файл
"<code class="literal">/etc/network/interfaces</code>" и изменить настройки интерфейса
<code class="literal">eth0</code>.</p>
<p>После этого можно включить интерфейс <code class="literal">eth0</code> командой
<span class="strong"><strong><code class="literal">sudo ifup eth0</code></strong></span>.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете (пере)подключить сетевой интерфейс одной командой: <span class="strong"><strong><code class="literal">sudo ifdown eth0;sudo ifup eth0</code></strong></span>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_ifupdown_extra_package"></a>5.5.14. Пакет ifupdown-extra</h3></div></div></div>
<p>Пакет <code class="literal">ifupdown-extra</code> предназначен для использования
вместе с пакетом <code class="literal">ifupdown</code> и предоставляет средства для
тестирования соединения.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Команда <code class="literal">network-test</code>(1) предназначена для использования в
командной строке.
</li>
<li>
Автоматизированные сценарии выполняются при каждом запуске команды
<code class="literal">ifup</code>.
</li>
</ul></div>
<p>Команда <code class="literal">network-test</code> освобождает вас от необходимости
выполнять низкоуровневые команды для поиска возникшей проблемы.</p>
<p>Автоматизированные сценарии устанавливаются в
"<code class="literal">/etc/network/*/</code>" и выполняют следующие задачи:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Проверка соединения в кабеле (линк)
</li>
<li>
Проверка наличия такого же IP-адреса в сети
</li>
<li>
Настройка статичных маршрутов в указанных в
"<code class="literal">/etc/network/routes</code>"
</li>
<li>
Проверка доступности маршрутизатора
</li>
<li>
Запись результатов проверок в "<code class="literal">/var/log/syslog</code>"
</li>
</ul></div>
<p>Эти записи в системном журнале очень полезны для выявления источника проблем
на удалённой системе.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>The automatic behavior of the <code class="literal">ifupdown-extra</code> package is
configurable with the "<code class="literal">/etc/default/network-test</code>". Some
of these automatic checks slow down the system boot-up a little bit since it
takes some time to listen for <a class="ulink" href="http://ru.wikipedia.org/wiki/ARP" target="_top">ARP</a> replies.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_advanced_network_configuration_with_ifupdown_legacy"></a>5.6. The advanced network configuration with ifupdown (legacy)</h2></div></div></div>
<p>Функциональность пакета <code class="literal">ifupdown</code> может быть гораздо
больше, чем это было описано выше (<a class="xref" href="#_the_basic_network_configuration_with_ifupdown_legacy" title="5.5. Традиционный способ настройки сети с помощью ifupdown">Раздел 5.5, «Традиционный способ настройки сети с помощью ifupdown»</a>).</p>
<p>Описанное здесь совсем необязательно для обычной настройки. Я, будучи
ленивым минималистом, прибегаю к ним редко.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Если вы не в состоянии настроить соединение так, как это описано в <a class="xref" href="#_the_basic_network_configuration_with_ifupdown_legacy" title="5.5. Традиционный способ настройки сети с помощью ifupdown">Раздел 5.5, «Традиционный способ настройки сети с помощью ifupdown»</a>, то вы
лишь усугубите себе ситуацию, воспользовавшись описанным здесь.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_ifplugd_package"></a>5.6.1. Пакет ifplugd</h3></div></div></div>
<p>The <code class="literal">ifplugd</code> package is older automatic network
configuration tool which can manage only Ethernet connections. This solves
unplugged/replugged Ethernet cable issues for mobile PC etc.  If you have
<a class="ulink" href="http://ru.wikipedia.org/wiki/NetworkManager" target="_top">NetworkManager</a> or <a class="ulink" href="http://en.wikipedia.org/wiki/Wicd_(Linux_Network_Manager)" target="_top">Wicd</a> (see <a class="xref" href="#_the_modern_network_configuration_for_desktop" title="5.2. Современная конфигурация сети для настольного компьютера">Раздел 5.2, «Современная конфигурация сети для настольного компьютера»</a>) installed, you do
not need this package.</p>
<p>This package runs <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%94%D0%B5%D0%BC%D0%BE%D0%BD_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0)" target="_top">daemon</a> and replaces
<span class="strong"><strong>auto</strong></span> or <span class="strong"><strong>allow-hotplug</strong></span> functionalities (see <a class="xref" href="#list-of-stanzas-in-eni" title='Таблица 5.10. Список записей для "/etc/network/interfaces"'>Таблица 5.10, «Список записей для "<code class="literal">/etc/network/interfaces</code>"»</a>) and starts interfaces upon their
connection to the network.</p>
<p>Here is how to use the <code class="literal">ifplugd</code> package for the internal
Ethernet port, e.g. <code class="literal">eth0</code>.</p>
<div class="orderedlist"><ol type="1">
<li>
Remove stanza in "<code class="literal">/etc/network/interfaces</code>":
"<code class="literal">auto eth0</code>" or "<code class="literal">allow-hotplug eth0</code>".
</li>
<li>
Оставьте в файле "<code class="literal">/etc/network/interfaces</code>" записи
"<code class="literal">iface eth0 inet …</code>" и "<code class="literal">mapping …</code>".
</li>
<li>
Установите пакет <code class="literal">ifplugd</code>.
</li>
<li>
Запустите "<code class="literal">sudo dpkg-reconfigure ifplugd</code>".
</li>
<li>
Put <code class="literal">eth0</code> as the "static interfaces to be watched by
ifplugd".
</li>
</ol></div>
<p>Теперь перенастройка сетевого интерфейса будет работать как вам нужно.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
Upon power-on or upon hardware discovery, the interface is not brought up by
itself.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
Quick boot process without the long DHCP timeout.
</li>
<li>
No funny activated interface without proper IPv4 address (see <a class="xref" href="#_the_network_configuration_state_of_ifupdown" title="5.5.12. Состояние подключения с ifupdown">Раздел 5.5.12, «Состояние подключения с ifupdown»</a>).
</li>
</ul></div>
</li>
<li>
Когда появляется линк, интерфейс настраивается и включается.
</li>
<li>
Спустя некоторое время после пропадания линка (отключения кабеля), интерфейс
автоматически отключается.
</li>
<li>
При включении другого кабеля (в другой сети), интерфейс перестраивается для
нового сетевого окружения.
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>The arguments for the <code class="literal">ifplugd</code>(8) command can set its
behaviors such as the delay for reconfiguring interfaces.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_ifmetric_package"></a>5.6.2. Пакет ifmetric</h3></div></div></div>
<p>Пакет <code class="literal">ifmeric</code> позволяет манипулировать метриками
(приоритетами) сетевых маршрутов даже при использовании DHCP.</p>
<p>The following sets the <code class="literal">eth0</code> interface to be preferred
over the <code class="literal">wlan0</code> interface.</p>
<div class="orderedlist"><ol type="1">
<li>
Установите пакет <code class="literal">ifmetric</code>.
</li>
<li>
Add an option line with "<code class="literal">metric 0</code>" just below the
"<code class="literal">iface eth0 inet dhcp</code>" line.
</li>
<li>
Add an option line with "<code class="literal">metric 1</code>" just below the
"<code class="literal">iface wlan0 inet dhcp</code>" line.
</li>
</ol></div>
<p>The metric 0 means the highest priority route and is the default one.  The
larger metric value means lower priority routes. The IP address of the
active interface with the lowest metric value becomes the originating
one. See <code class="literal">ifmetric</code>(8).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_virtual_interface"></a>5.6.3. Виртуальный интерфейс</h3></div></div></div>
<p>На одном физическиом Ethernet-интерфейсе можно настроить несколько
виртуальных интерфейсов с разными IP-адресами. Часто это делается для
подулючения к нескольким IP-подсетям. Другое применение -- web-хостинг с
использованием виртуальных узлов на одном сетевом интерфейсе.</p>
<p>Допустим, что у вас:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Единственный Ethernet-интерфейс вашего узла подключен к
Ethernet-концентратору (к хабу, не к роутеру).
</li>
<li>
Хаб подключен как к локальной сети, так и к Интернету.
</li>
<li>
В локальной сети используются адреса <code class="literal">192.168.0.x/24</code>.
</li>
<li>
Ваш узел получает IP-адрес для <code class="literal">eth0</code> по DHCP и с этого
адреса выходит в Интернет.
</li>
<li>
Адрес вашего узла в локальной сети статический --
<code class="literal">192.168.0.1</code>; виртуальный интерфейс для локальной сети --
<code class="literal">eth0:0</code>.
</li>
</ul></div>
<p>Следующие записи в "<code class="literal">/etc/network/interfaces</code>" позволят вам
это настроить.</p>
<pre class="screen">iface eth0 inet dhcp
 metric 0
iface eth0:0 inet static
 address 192.168.0.1
 netmask 255.255.255.0
 network 192.168.0.0
 broadcast 192.168.0.255
 metric 1</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Although this configuration example with <a class="ulink" href="http://ru.wikipedia.org/wiki/NAT" target="_top">network address translation
(NAT)</a> using <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter/iptables</a> (see <a class="xref" href="#_netfilter_infrastructure" title="5.9. Инфраструктура Netfilter">Раздел 5.9, «Инфраструктура Netfilter»</a>) can provide cheap router for the LAN
with only single interface, there is no real firewall capability with such
set up.  You should use 2 physical interfaces with NAT to secure the local
network from the Internet.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_advanced_command_syntax"></a>5.6.4. The advanced command syntax</h3></div></div></div>
<p>The <code class="literal">ifupdown</code> package offers advanced network
configuration using the <span class="strong"><strong>network
configuration</strong></span> name and the <span class="strong"><strong>network
interface</strong></span> name.  I use slightly different terminology from one
used in <code class="literal">ifup</code>(8) and <code class="literal">interfaces</code>(5).</p>
<div class="table">
<a name="listofterminologornetworkdevices"></a><p class="title"><b>Таблица 5.12. List of terminology for network devices</b></p>
<div class="table-contents"><table summary="List of terminology for network devices" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    manpage terminology
    </th>
<th align="left">
    my terminology
    </th>
<th align="left">
    examples in the following text
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">имя <span class="strong"><strong>физического интерфейса</strong></span>
    </td>
<td align="left">имя <span class="strong"><strong>сетевого интерфейса</strong></span>
    </td>
<td align="left">
<code class="literal">lo</code>, <code class="literal">eth0</code>,
<code class="literal">&lt;имя_интерфейса&gt;</code>
</td>
<td align="left">
    name given by the Linux kernel (using <code class="literal">udev</code> mechanism)
    </td>
</tr>
<tr>
<td align="left">
<span class="strong"><strong>logical interface</strong></span> name
    </td>
<td align="left">имя <span class="strong"><strong>сетевой конфигурации</strong></span>
    </td>
<td align="left">
<code class="literal">config1</code>, <code class="literal">config2</code>,
<code class="literal">&lt;config_name&gt;</code>
</td>
<td align="left">
    name token following <span class="strong"><strong><code class="literal">iface</code></strong></span> in the
"<code class="literal">/etc/network/interfaces</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Basic network configuration commands in <a class="xref" href="#_the_command_syntax_simplified" title="5.5.1. Упрощённый синтаксис команд">Раздел 5.5.1, «Упрощённый синтаксис команд»</a> require the <span class="strong"><strong>network configuration</strong></span> name token of the <span class="strong"><strong><code class="literal">iface</code></strong></span> stanza to match the
<span class="strong"><strong>network interface</strong></span> name in the
"<code class="literal">/etc/network/interfaces</code>".</p>
<p>Advanced network configuration commands enables separation of the <span class="strong"><strong>network configuration</strong></span> name and the <span class="strong"><strong>network interface</strong></span> name in the
"<code class="literal">/etc/network/interfaces</code>" as the following.</p>
<div class="table">
<a name="listofadvancedneandswithifupdown"></a><p class="title"><b>Таблица 5.13. List of advanced network configuration commands with ifupdown</b></p>
<div class="table-contents"><table summary="List of advanced network configuration commands with ifupdown" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    действие с файлом
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">ifup eth0=config1</code>
                </td>
<td align="left">
    bring up a network interface <code class="literal">eth0</code> with the configuration
<code class="literal">config1</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ifdown eth0=config1</code>
                </td>
<td align="left">
    bring down a network interface <code class="literal">eth0</code> with the
configuration <code class="literal">config1</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ifup eth0</code>
                </td>
<td align="left">
    bring up a network interface <code class="literal">eth0</code> with the configuration
selected by <span class="strong"><strong><code class="literal">mapping</code></strong></span>
stanza
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ifdown eth0</code>
                </td>
<td align="left">
    bring down a network interface <code class="literal">eth0</code> with the
configuration selected by <span class="strong"><strong><code class="literal">mapping</code></strong></span> stanza
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_mapping_stanza"></a>5.6.5. The mapping stanza</h3></div></div></div>
<p>We skipped explaining the <span class="strong"><strong><code class="literal">mapping</code></strong></span> stanza in the
"<code class="literal">/etc/network/interfaces</code>" in <a class="xref" href="#_the_basic_syntax_of_etc_network_interfaces" title='5.5.2. Простейший синтаксис "/etc/network/interfaces"'>Раздел 5.5.2, «Простейший синтаксис "/etc/network/interfaces"»</a> to avoid
complication.  This stanza has the following syntax.</p>
<pre class="screen">mapping &lt;interface_name_glob&gt;
 script &lt;script_name&gt;
 map &lt;script_input1&gt;
 map &lt;script_input2&gt;
 map ...</pre>
<p>This provides advanced feature to the
"<code class="literal">/etc/network/interfaces</code>" file by automating the choice
of the configuration with the mapping script specified by
<code class="literal">&lt;script_name&gt;</code>.</p>
<p>Let's follow the execution of the following.</p>
<pre class="screen">$ sudo ifup eth0</pre>
<p>When the "<code class="literal">&lt;interface_name_glob&gt;</code>" matches
"<code class="literal">eth0</code>", this execution produces the execution of the
following command to configure <code class="literal">eth0</code> automatically.</p>
<pre class="screen">$ sudo ifup eth0=$(echo -e '&lt;script_input1&gt; \n &lt;script_input2&gt; \n ...' | &lt;script_name&gt; eth0)</pre>
<p>Here, script input lines with "<code class="literal">map</code>" are optional and can
be repeated.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>The glob for <span class="strong"><strong><code class="literal">mapping</code></strong></span>
stanza works like shell filename glob (see <a class="xref" href="#_shell_glob" title="1.5.6. Шаблоны для имён файлов: shell glob">Раздел 1.5.6, «Шаблоны для имён файлов: shell glob»</a>).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_manually_switchable_network_configuration"></a>5.6.6. Переключение между различными конфигурациями сети вручную</h3></div></div></div>
<p>Здесь описано, как вручную переключаться между несколькими конфигурациями
сети без перезаписи файла "<code class="literal">/etc/network/interfaces</code>", как
описано в <a class="xref" href="#_the_basic_network_reconfiguration" title="5.5.13. Изменение настроек сети (простейший случай)">Раздел 5.5.13, «Изменение настроек сети (простейший случай)»</a>.</p>
<p>Все конфигурации, которые могут вам потребоваться, находятся в одном и том
же файле "<code class="literal">/etc/network/interfaces</code>", вот так:</p>
<pre class="screen">auto lo
iface lo inet loopback

iface config1 inet dhcp
 hostname "mymachine"

iface config2 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 dns-domain lan
 dns-nameservers 192.168.11.1

iface pppoe inet manual
 pre-up /sbin/ifconfig eth0 up
 up ifup ppp0=dsl
 down ifdown ppp0=dsl
 post-down /sbin/ifconfig eth0 down

# The following is used internally only
iface dsl inet ppp
 provider dsl-provider

iface pots inet ppp
 provider provider</pre>
<p>Please note the <span class="strong"><strong>network configuration
name</strong></span> which is the token after <span class="strong"><strong><code class="literal">iface</code></strong></span> does not use the token for
the <span class="strong"><strong>network interface name</strong></span>.  Also, there
are no <span class="strong"><strong><code class="literal">auto</code></strong></span> stanza nor
<span class="strong"><strong><code class="literal">allow-hotplug</code></strong></span> stanza
to start the network interface <code class="literal">eth0</code> automatically upon
events.</p>
<p>Теперь вы готовы переключать конфигурации сети.</p>
<p>Переместим ваш компьютер в сеть с DHCP. Вы можете "поднять" <span class="strong"><strong>сетевой интерфейс</strong></span> (физический интерфейс)
<code class="literal">eth0</code>, присвоив ему имя <span class="strong"><strong>сетевой
конфигурации</strong></span> (логическое имя интерфейса)
<code class="literal">config1</code>:</p>
<pre class="screen">$ sudo ifup eth0=config1
Password:
...</pre>
<p>Интерфейс <code class="literal">eth0</code> "поднят", настроен по DHCP и подключен к
локальной сети.</p>
<pre class="screen">$ sudo ifdown eth0=config1
...</pre>
<p>Интерфейс <code class="literal">eth0</code> выключен и отключен от локальной сети.</p>
<p>Переместим ваш компьютер в сеть со статическими IP-адресами. Вы "поднимаете"
<span class="strong"><strong>сетевой интерфейс</strong></span>
<code class="literal">eth0</code>, присваивая ему имя <span class="strong"><strong>сетевой
конфигурации</strong></span> <code class="literal">config2</code> так:</p>
<pre class="screen">$ sudo ifup eth0=config2
...</pre>
<p>Интерфейс <code class="literal">eth0</code> включен, настроен со статическим
IP-адресом и подключен к сети. Дополнительные параметры, заданные ключевыми
словами <code class="literal">dns-*</code>, настраивают содержимое файла
"<code class="literal">/etc/resolv.conf</code>", которым всё же лучше управлять, если
установлен пакет <code class="literal">resolvconf</code>.</p>
<pre class="screen">$ sudo ifdown eth0=config2
...</pre>
<p>Интерфейс <code class="literal">eth0</code> выключен и отключен от сети.</p>
<p>Подключим ваш компьютер к PPPoE-модему. Вы включаете <span class="strong"><strong>сетевой интерфейс</strong></span> <code class="literal">eth0</code>,
устанавливая <span class="strong"><strong>имя сетевой конфигурации</strong></span>
<code class="literal">pppoe</code>:</p>
<pre class="screen">$ sudo ifup eth0=pppoe
...</pre>
<p>Интерфейс <code class="literal">eth0</code> включен, настроен для PPPoE-соединения с
провайдером.</p>
<pre class="screen">$ sudo ifdown eth0=pppoe
...</pre>
<p>Интерфейс <code class="literal">eth0</code> выключен и отключен.</p>
<p>Подключим ваш компьютер к обычному телефонному модему. Вы можете "поднять"
<span class="strong"><strong>сетевой интерфейс</strong></span>
<code class="literal">ppp0</code>, присвоив ему <span class="strong"><strong>имя сетевой
конфигурации</strong></span> <code class="literal">pots</code>:</p>
<pre class="screen">$ sudo ifup ppp0=pots
...</pre>
<p>Интерфейс <code class="literal">ppp0</code> "поднят" и подключен к Интернету по PPP.</p>
<pre class="screen">$ sudo ifdown ppp0=pots
...</pre>
<p>Интерфейс <code class="literal">ppp0</code> выключен и отключен от Интернета.</p>
<p>You should check the "<code class="literal">/etc/network/run/ifstate</code>" file for
the current network configuration state of the <code class="literal">ifupdown</code>
system.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>You may need to adjust numbers at the end of <code class="literal">eth*</code>,
<code class="literal">ppp*</code>, etc. if you have multiple network interfaces.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_scripting_with_the_ifupdown_system"></a>5.6.7. Подключение своих сценариев к системе ifupdown</h3></div></div></div>
<p>Система <code class="literal">ifupdown</code> автоматически выполняет сценарии,
установленные в "<code class="literal">/etc/network/*/</code>" и устанавливает для них
переменные среды окружения.</p>
<div class="table">
<a name="listofenvironmenheifupdownsystem"></a><p class="title"><b>Таблица 5.14. Список переменных среды окружения, устанавливаемых системой ifupdown</b></p>
<div class="table-contents"><table summary="Список переменных среды окружения, устанавливаемых системой ifupdown" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    переменная окружения
    </th>
<th align="left">
    описание передаваемого значения
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    "<code class="literal">$IFACE</code>"
    </td>
<td align="left">
    имя физического интерфейса, с которым сейчас выполняются действия
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">$LOGICAL</code>"
    </td>
<td align="left">
    логическое имя (имя конфигурации) обрабатываемого сейчас интерфейса
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">$ADDRFAM</code>"
    </td>
<td align="left">
    &lt;семейство_адресов&gt; интерфейса (напр. inet)
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">$METHOD</code>"
    </td>
<td align="left">
    &lt;имя_метода&gt; интерфейса (напр. "static")
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">$MODE</code>"
    </td>
<td align="left">
    "start", если выполняется <code class="literal">ifup</code>; "stop", если выполняется
<code class="literal">ifdown</code>
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">$PHASE</code>"
    </td>
<td align="left">
    as per "<code class="literal">$MODE</code>", but with finer granularity,
distinguishing the <code class="literal">pre-up</code>, <code class="literal">post-up</code>,
<code class="literal">pre-down</code> and <code class="literal">post-down</code> phases
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">$VERBOSITY</code>"
    </td>
<td align="left">
    показывает, задан ли ключ "<code class="literal">--verbose</code>": 1 если да, 0 если
нет
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">$PATH</code>"
    </td>
<td align="left">
    путь поиска команд:
"<code class="literal">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</code>"
    </td>
</tr>
<tr>
<td align="left">
    "<code class="literal">$IF_&lt;имя_параметра_iface&gt;</code>"
    </td>
<td align="left">
    значение соответствующего параметра в записи <span class="strong"><strong><code class="literal">iface</code></strong></span>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Here, each environment variable, "<code class="literal">$IF_&lt;OPTION&gt;</code>", is
created from the name for the corresponding option such as &lt;option1&gt;
and &lt;option2&gt; by prepending "<code class="literal">$IF_</code>", converting the
case to the upper case, replacing hyphens to underscores, and discarding
non-alphanumeric characters.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>&lt;семейство_адресов&gt;, &lt;метод_получения_адреса&gt;, &lt;параметр1&gt;
и &lt;параметр2&gt; описаны в <a class="xref" href="#_the_basic_syntax_of_etc_network_interfaces" title='5.5.2. Простейший синтаксис "/etc/network/interfaces"'>Раздел 5.5.2, «Простейший синтаксис "/etc/network/interfaces"»</a>.</p>
</div>
<p>The <code class="literal">ifupdown-extra</code> package (see <a class="xref" href="#_the_ifupdown_extra_package" title="5.5.14. Пакет ifupdown-extra">Раздел 5.5.14, «Пакет ifupdown-extra»</a>) uses these environment variables to
extend the functionality of the <code class="literal">ifupdown</code> package.  The
<code class="literal">ifmetric</code> package (see <a class="xref" href="#_the_ifmetric_package" title="5.6.2. Пакет ifmetric">Раздел 5.6.2, «Пакет ifmetric»</a>) installs the
"<code class="literal">/etc/network/if-up.d/ifmetric</code>" script which sets the
metric via the "<code class="literal">$IF_METRIC</code>" variable.  The
<code class="literal">guessnet</code> package (see <a class="xref" href="#_mapping_with_guessnet" title="5.6.8. Mapping with guessnet">Раздел 5.6.8, «Mapping with guessnet»</a>), which provides simple and powerful
framework for the auto-selection of the network configuration via the
mapping mechanism, also uses these.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>For more specific examples of custom network configuration scripts using
these environment variables, you should check example scripts in
"<code class="literal">/usr/share/doc/ifupdown/examples/*</code>" and scripts used in
<code class="literal">ifscheme</code> and <code class="literal">ifupdown-scripts-zg2</code>
packages.  These additional scripts have some overlaps of functionalities
with basic <code class="literal">ifupdown-extra</code> and <code class="literal">guessnet</code>
packages.  If you install these additional scripts, you should customize
these scripts to avoid interferences.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_mapping_with_guessnet"></a>5.6.8. Mapping with guessnet</h3></div></div></div>
<p>Instead of manually choosing configuration as described in <a class="xref" href="#_the_manually_switchable_network_configuration" title="5.6.6. Переключение между различными конфигурациями сети вручную">Раздел 5.6.6, «Переключение между различными конфигурациями сети вручную»</a>, you can use the
mapping mechanism described in <a class="xref" href="#_the_mapping_stanza" title="5.6.5. The mapping stanza">Раздел 5.6.5, «The mapping stanza»</a> to
select network configuration automatically with custom scripts.</p>
<p>The <code class="literal">guessnet-ifupdown</code>(8) command provided by the
<code class="literal">guessnet</code> package is designed to be used as a mapping
script and provides powerful framework to enhance the
<code class="literal">ifupdown</code> system.</p>
<div class="itemizedlist"><ul type="disc">
<li>
You list test condition as the value for <span class="strong"><strong><code class="literal">guessnet</code></strong></span> options for each
network configuration under <span class="strong"><strong><code class="literal">iface</code></strong></span> stanza.
</li>
<li>
Mapping choses the <span class="strong"><strong><code class="literal">iface</code></strong></span> with first non-ERROR
result as the network configuration.
</li>
</ul></div>
<p>This dual usage of the "<code class="literal">/etc/network/interfaces</code>" file by
the mapping script, <code class="literal">guessnet-ifupdown</code>, and the original
network configuration infrastructure, <code class="literal">ifupdown</code>, does not
cause negative impacts since <span class="strong"><strong><code class="literal">guessnet</code></strong></span> options only export
extra environment variables to scripts run by the
<code class="literal">ifupdown</code> system.  See details in
<code class="literal">guessnet-ifupdown</code>(8).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>When multiple <span class="strong"><strong><code class="literal">guessnet</code></strong></span>
option lines are required in "<code class="literal">/etc/network/interfaces</code>",
use option lines started with <span class="strong"><strong><code class="literal">guessnet1</code></strong></span>, <span class="strong"><strong><code class="literal">guessnet2</code></strong></span>, and so on, since the
<code class="literal">ifupdown</code> package does not allow starting strings of
option lines to be repeated.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_low_level_network_configuration"></a>5.7. Низкоуровневая настройка сети</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_iproute2_commands"></a>5.7.1. Команды iproute2</h3></div></div></div>
<p><a class="ulink" href="http://www.linuxfoundation.org/en/Net:Iproute2" target="_top">Iproute2</a> commands offer complete low-level
network configuration capabilities. Here is a translation table from
obsolete <a class="ulink" href="http://www.linuxfoundation.org/en/Net:Net-tools" target="_top">net-tools</a> commands to new <a class="ulink" href="http://www.linuxfoundation.org/en/Net:Iproute2" target="_top">iproute2</a> etc. commands.</p>
<div class="table">
<a name="translationtableiprouteccommands"></a><p class="title"><b>Таблица 5.15. Таблица соответствия старых команд из <code class="literal">net-tools</code> и новых
из <code class="literal">iproute2</code></b></p>
<div class="table-contents"><table summary="Таблица соответствия старых команд из net-tools и новых
из iproute2" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    устаревшая из net-tools
    </th>
<th align="left">
    новая из iproute2 и т.п.
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<code class="literal">ifconfig</code>(8)
    </td>
<td align="left">
                  <code class="literal">ip addr</code>
                </td>
<td align="left">
    настройка адреса и протокола (IP или IPv6)
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">route</code>(8)
    </td>
<td align="left">
                  <code class="literal">ip route</code>
                </td>
<td align="left">
    таблица маршрутизации
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">arp</code>(8)
    </td>
<td align="left">
                  <code class="literal">ip neigh</code>
                </td>
<td align="left">
    таблицы ARP или NDISC
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ipmaddr</code>
                </td>
<td align="left">
                  <code class="literal">ip maddr</code>
                </td>
<td align="left">
    широковещательные адреса
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">iptunnel</code>
                </td>
<td align="left">
                  <code class="literal">ip tunnel</code>
                </td>
<td align="left">
    туннелирование поверх IP
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">nameif</code>(8)
    </td>
<td align="left">
<code class="literal">ifrename</code>(8)
    </td>
<td align="left">
    переименование сетевого интерфейса
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">mii-tool</code>(8)
    </td>
<td align="left">
<code class="literal">ethtool</code>(8)
    </td>
<td align="left">
    настройки Ethernet-устройства
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>См. <code class="literal">ip</code>(8) и <a class="ulink" href="http://www.policyrouting.org/iproute2.doc.html" target="_top">IPROUTE2 Utility Suite Howto</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_safe_low_level_network_operations"></a>5.7.2. Безопасные низкоуровневые операции с сетью</h3></div></div></div>
<p>Вы можете безопасно использовать следующие низкоуровневые команды, поскольку
они не изменяют сетевой конфигурации.</p>
<div class="table">
<a name="listoflowlevelnetworkcommands"></a><p class="title"><b>Таблица 5.16. Список низкоуровневых сетевых команд</b></p>
<div class="table-contents"><table summary="Список низкоуровневых сетевых команд" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">ifconfig</code>
                </td>
<td align="left">
    отобразить информацию об активных интерфейсах и их адресах
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ip addr show</code>
                </td>
<td align="left">
    отобразить информацию об активных интерфейсах и их адресах
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">route -n</code>
                </td>
<td align="left">
    вывести таблицу маршрутов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ip route show</code>
                </td>
<td align="left">
    вывести таблицу маршрутов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">arp</code>
                </td>
<td align="left">
    вывести текущее содержимое <a class="ulink" href="http://ru.wikipedia.org/wiki/ARP" target="_top">ARP</a>-таблиц
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ip neigh</code>
                </td>
<td align="left">
    вывести текущее содержимое <a class="ulink" href="http://ru.wikipedia.org/wiki/ARP" target="_top">ARP</a>-таблиц
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">plog</code>
                </td>
<td align="left">
    вывести журнал службы ppp
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ping yahoo.com</code>
                </td>
<td align="left">
    проверить связь с "<code class="literal">yahoo.com</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">whois yahoo.com</code>
                </td>
<td align="left">
    проверить, кто зарегистрировал "<code class="literal">yahoo.com</code>" в базе
доменных имён
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">traceroute yahoo.com</code>
                </td>
<td align="left">
    отследить маршрут до "<code class="literal">yahoo.com</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tracepath yahoo.com</code>
                </td>
<td align="left">
    отследить маршрут до "<code class="literal">yahoo.com</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">mtr yahoo.com</code>
                </td>
<td align="left">
    trace the Internet connection to "<code class="literal">yahoo.com</code>" (repeatedly)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dig [@dns-server.com] example.com [{a|mx|any}]</code>
                </td>
<td align="left">
    проверка <a class="ulink" href="http://ru.wikipedia.org/wiki/DNS" target="_top">DNS</a>-записи о домене
"<code class="literal">example.com</code>" на сервере
"<code class="literal">dns-server.com</code>"; получить записи типа
"<code class="literal">a</code>", "<code class="literal">mx</code>" или "<code class="literal">any</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">iptables -L -n</code>
                </td>
<td align="left">
    вывести список правил фаервола
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">netstat -a</code>
                </td>
<td align="left">
    вывести список открытых портов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">netstat -l --inet</code>
                </td>
<td align="left">
    вывести список портов, ожидающих соединения (listening)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">netstat -ln --tcp</code>
                </td>
<td align="left">
    вывести список TCP-портов, ожидающих соединения
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">dlint example.com</code>
                </td>
<td align="left">
    check DNS zone information of "<code class="literal">example.com</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Некоторые из этих низкоуровневых средств располагаются в
"<code class="literal">/sbin/</code>". Вам может потребоваться задавать полный путь
для запуска команды (напр., "<code class="literal">/sbin/ifconfig</code>") либо
добавить "<code class="literal">/sbin</code>" в переменную "<code class="literal">$PATH</code>"
в вашем "<code class="literal">~/.bashrc</code>".</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_network_optimization"></a>5.8. Оптимизация сети</h2></div></div></div>
<p>Общие вопросы оптимизации сети выходят далеко за пределы этого документа. Я
лишь коснусь того, что может пригодиться для соединения потребительского
класса.</p>
<div class="table">
<a name="listofnetworkoptimizationtools"></a><p class="title"><b>Таблица 5.17. Список средств оптимизации сети</b></p>
<div class="table-contents"><table summary="Список средств оптимизации сети" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакеты
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iftop" target="_top"> <code class="literal">iftop</code>
</a> <a class="ulink" href="http://bugs.debian.org/iftop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iftop" target="_top">V:1.2, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iftop.html" target="_top">72</a></td>
<td align="left">
    display bandwidth usage information on an network interface
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iperf" target="_top"> <code class="literal">iperf</code>
</a> <a class="ulink" href="http://bugs.debian.org/iperf" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iperf" target="_top">V:0.5, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iperf.html" target="_top">200</a></td>
<td align="left">
    Internet Protocol bandwidth measuring tool
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apt-spy" target="_top">
<code class="literal">apt-spy</code> </a> <a class="ulink" href="http://bugs.debian.org/apt-spy" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apt-spy" target="_top">V:0.17, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apt-spy.html" target="_top">204</a></td>
<td align="left">
    write a "<code class="literal">/etc/apt/sources.list</code>" file based on bandwidth
tests
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ifstat" target="_top">
<code class="literal">ifstat</code> </a> <a class="ulink" href="http://bugs.debian.org/ifstat" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ifstat" target="_top">V:0.2, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ifstat.html" target="_top">88</a></td>
<td align="left">
    InterFace STATistics Monitoring
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bmon" target="_top"> <code class="literal">bmon</code>
</a> <a class="ulink" href="http://bugs.debian.org/bmon" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bmon" target="_top">V:0.2, I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bmon.html" target="_top">188</a></td>
<td align="left">
    portable bandwidth monitor and rate estimator
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ethstatus" target="_top">
<code class="literal">ethstatus</code> </a> <a class="ulink" href="http://bugs.debian.org/ethstatus" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ethstatus" target="_top">V:0.10, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/ethstatus.html" target="_top">84</a></td>
<td align="left">
    script that quickly measures network device throughput
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bing" target="_top"> <code class="literal">bing</code>
</a> <a class="ulink" href="http://bugs.debian.org/bing" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bing" target="_top">V:0.08, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bing.html" target="_top">96</a></td>
<td align="left">
    empirical stochastic bandwidth tester
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bwm-ng" target="_top">
<code class="literal">bwm-ng</code> </a> <a class="ulink" href="http://bugs.debian.org/bwm-ng" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bwm-ng" target="_top">V:0.2, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bwm-ng.html" target="_top">152</a></td>
<td align="left">
    small and simple console-based bandwidth monitor
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ethstats" target="_top">
<code class="literal">ethstats</code> </a> <a class="ulink" href="http://bugs.debian.org/ethstats" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ethstats" target="_top">V:0.04, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/ethstats.html" target="_top">52</a></td>
<td align="left">
    console-based Ethernet statistics monitor
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ipfm" target="_top"> <code class="literal">ipfm</code>
</a> <a class="ulink" href="http://bugs.debian.org/ipfm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ipfm" target="_top">V:0.04, I:0.17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ipfm.html" target="_top">156</a></td>
<td align="left">
    bandwidth analysis tool
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_finding_optimal_mtu"></a>5.8.1. Поиск оптимальной величины MTU</h3></div></div></div>
<p>The <a class="ulink" href="http://ru.wikipedia.org/wiki/MTU" target="_top">Maximum Transmission Unit
(MTU)</a> value can be determined experimentally with
<code class="literal">ping</code>(8) with "<code class="literal">-M do</code>" option which
sends ICMP packets with data size starting from 1500 (with offset of 28
bytes for the IP+ICMP header) and finding the largest size without IP
fragmentation.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ ping -c 1 -s $((1500-28)) -M do www.debian.org
PING www.debian.org (194.109.137.218) 1472(1500) bytes of data.
From 192.168.11.2 icmp_seq=1 Frag needed and DF set (mtu = 1454)

--- www.debian.org ping statistics ---
0 packets transmitted, 0 received, +1 errors</pre>
<p>Попробовать 1454 вместо 1500</p>
<p>Вы видите, что <code class="literal">ping</code>(8) успешно прошёл с MTU=1454.</p>
<p>This process is <a class="ulink" href="http://en.wikipedia.org/wiki/Path_MTU_discovery" target="_top">Path MTU (PMTU)
discovery</a> (<a class="ulink" href="http://tools.ietf.org/html/rfc1191" target="_top">RFC1191</a>) and the
<code class="literal">tracepath</code>(8) command can automate this.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>The above example with PMTU value of 1454 is for my previous FTTP provider
which used <a class="ulink" href="http://en.wikipedia.org/wiki/Asynchronous_Transfer_Mode" target="_top">Asynchronous Transfer
Mode</a> (ATM) as its backbone network and served its clients with the
<a class="ulink" href="http://ru.wikipedia.org/wiki/PPPoE" target="_top">PPPoE</a>.  The actual PMTU value depends on your
environment, e.g., 1500 for the my new FTTP provider.</p>
</div>
<div class="table">
<a name="basicguidelinesoeoptimalmtuvalue"></a><p class="title"><b>Таблица 5.18. Стандартные оптимальные значения MTU</b></p>
<div class="table-contents"><table summary="Стандартные оптимальные значения MTU" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    сетевое окружение
    </th>
<th align="left">
    MTU
    </th>
<th align="left">
    объяснение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    Модемное POTS (IP:PPP)
    </td>
<td align="left">
    576
    </td>
<td align="left">
    стандарт
    </td>
</tr>
<tr>
<td align="left">
    Ethernet (IP: DHCP или статический)
    </td>
<td align="left">
    1500
    </td>
<td align="left">
    стандарт и значение по умолчанию
    </td>
</tr>
<tr>
<td align="left">
    Ethernet (IP: PPPoE)
    </td>
<td align="left">
    1492 (=1500-8)
    </td>
<td align="left">
    2 байта на заголовок PPP и 6 байт на заголовок PPPoE
    </td>
</tr>
<tr>
<td align="left">
    Ethernet link (ISP's backbone: ATM, IP: DHCP or fixed)
    </td>
<td align="left">
    1462 (=48*31-18-8)
    </td>
<td align="left">
    author's speculation: 18 for Ethernet header, 8 for SAR trailer
    </td>
</tr>
<tr>
<td align="left">
    Ethernet link (ISP's backbone: ATM, IP: PPPoE)
    </td>
<td align="left">
    1454 (=48*31-8-18-8)
    </td>
<td align="left">
    see "<a class="ulink" href="http://www.mynetwatchman.com/kb/ADSL/pppoemtu.htm" target="_top">Optimal MTU
configuration for PPPoE ADSL Connections</a>" for rationale
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>In addtion to these basic guide lines, you should know the following.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Any use of tunneling methods (<a class="ulink" href="http://ru.wikipedia.org/wiki/VPN" target="_top">VPN</a> etc.) may
reduce optimal MTU further by their overheads.
</li>
<li>
The MTU value should not exceed the experimentally determined PMTU value.
</li>
<li>
The bigger MTU value is generally better when other limitations are met.
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_setting_mtu"></a>5.8.2. Установка MTU</h3></div></div></div>
<p>Вот пример, как изменить значение MTU по умолчанию с 1500 на 1454.</p>
<p>For the DHCP (see <a class="xref" href="#_the_network_interface_served_by_the_dhcp" title="5.5.4. Сетевой интерфейс, обслуживаемый протоколом DHCP">Раздел 5.5.4, «Сетевой интерфейс, обслуживаемый протоколом DHCP»</a>), you can replace
pertinent <span class="strong"><strong><code class="literal">iface</code></strong></span> stanza
lines in the "<code class="literal">/etc/network/interfaces</code>" with the
following.</p>
<pre class="screen">iface eth0 inet dhcp
 hostname "mymachine"
 pre-up /sbin/ifconfig $IFACE mtu 1454</pre>
<p>For the static IP (see <a class="xref" href="#_the_network_interface_with_the_static_ip" title="5.5.5. Сетевой интерфейс со статическим IP-адресом">Раздел 5.5.5, «Сетевой интерфейс со статическим IP-адресом»</a>), you can replace
pertinent
<span class="emphasis"><em>'</em></span><code class="literal">iface</code><span class="emphasis"><em>'</em></span> stanza
lines in the "<code class="literal">/etc/network/interfaces</code>" with the
following.</p>
<pre class="screen">iface eth0 inet static
 address 192.168.11.100
 netmask 255.255.255.0
 broadcast 192.168.11.255
 gateway 192.168.11.1
 mtu 1454
 dns-domain lan
 dns-nameservers 192.168.11.1</pre>
<p>For the direct PPPoE (see <a class="xref" href="#_the_pppoe_connection_with_pppoeconf" title="5.4.5. Настройка PPPoE-соединения с помощью pppoeconf">Раздел 5.4.5, «Настройка PPPoE-соединения с помощью pppoeconf»</a>), you can replace pertinent
"<code class="literal">mtu</code>" line in the
"<code class="literal">/etc/ppp/peers/dsl-provider</code>" with the following.</p>
<pre class="screen">mtu 1454</pre>
<p>The <a class="ulink" href="http://en.wikipedia.org/wiki/Maximum_segment_size" target="_top">maximum segment size</a> (MSS) is
used as an alternative measure of packet size.  The relationship between MSS
and MTU are the following.</p>
<div class="itemizedlist"><ul type="disc">
<li>
MSS = MTU - 40 для IPv4
</li>
<li>
MSS = MTU - 60 для IPv6
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>The <code class="literal">iptables</code>(8) (see <a class="xref" href="#_netfilter_infrastructure" title="5.9. Инфраструктура Netfilter">Раздел 5.9, «Инфраструктура Netfilter»</a>) based optimization can clamp packet
size by the MSS and is useful for the router.  See "TCPMSS" in
<code class="literal">iptables</code>(8).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_wan_tcp_optimization"></a>5.8.3. WAN TCP optimization</h3></div></div></div>
<p>The TCP throughput can be maximized by adjusting TCP buffer size parameters
as described in "<a class="ulink" href="http://dsd.lbl.gov/TCP-tuning/" target="_top">TCP Tuning Guide</a>" and
"<a class="ulink" href="http://en.wikipedia.org/wiki/TCP_tuning" target="_top">TCP tuning</a>" for the modern high-bandwidth
and high-latency WAN.  So far, the current Debian default settings serve
well even for my LAN connected by the fast 1G bps FTTP service.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_netfilter_infrastructure"></a>5.9. Инфраструктура Netfilter</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">Netfilter</a> provides infrastructure for
<a class="ulink" href="http://en.wikipedia.org/wiki/Stateful_firewall" target="_top">stateful firewall</a> and <a class="ulink" href="http://ru.wikipedia.org/wiki/NAT" target="_top">network address translation
(NAT)</a> with <a class="ulink" href="http://ru.wikipedia.org/wiki/Linux_(%D1%8F%D0%B4%D1%80%D0%BE)" target="_top">Linux kernel</a> modules
(see <a class="xref" href="#_the_kernel_module_initialization" title="3.5.12. Загрузка модулей ядра">Раздел 3.5.12, «Загрузка модулей ядра»</a>).</p>
<div class="table">
<a name="listoffirewalltools"></a><p class="title"><b>Таблица 5.19. Список средств для фаервола</b></p>
<div class="table-contents"><table summary="Список средств для фаервола" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакеты
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iptables" target="_top">
<code class="literal">iptables</code> </a> <a class="ulink" href="http://bugs.debian.org/iptables" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iptables" target="_top">V:27, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iptables.html" target="_top">1276</a></td>
<td align="left">
    средства управления для <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iptstate" target="_top">
<code class="literal">iptstate</code> </a> <a class="ulink" href="http://bugs.debian.org/iptstate" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iptstate" target="_top">V:0.13, I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iptstate.html" target="_top">152</a></td>
<td align="left">
    монитор состояния <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter</a> (похож на
<code class="literal">top</code>(1))
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/shorewall-perl" target="_top">
<code class="literal">shorewall-perl</code> </a> <a class="ulink" href="http://bugs.debian.org/shorewall-perl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=shorewall-perl" target="_top">V:0.14, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/shorewall-perl.html" target="_top">76</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Shorewall" target="_top">Shoreline Firewall</a>, генератор
конфигурационного файла для <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter</a>;
написан на Perl и рекомендован для <code class="literal">lenny</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/shorewall-shell" target="_top">
<code class="literal">shorewall-shell</code> </a> <a class="ulink" href="http://bugs.debian.org/shorewall-shell" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=shorewall-shell" target="_top">I:1.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/shorewall-shell.html" target="_top">76</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Shorewall" target="_top">Shoreline Firewall</a>, генератор
конфигурационного файла для <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter</a>;
сценарий оболочки, альтернативный вариант для <code class="literal">lenny</code>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Основная программа управления для <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter</a>
-- <code class="literal">iptables</code>(8). Вы можете вручную настроить <a class="ulink" href="http://ru.wikipedia.org/wiki/Netfilter" target="_top">netfilter</a> из оболочки, сохранить состояние
фаервола командой <code class="literal">iptables-save</code>(8), и восстанавливать его
во время загрузки системы командой <code class="literal">iptables-restore</code>(8).</p>
<p>Вспомогательные сценарии навроде <a class="ulink" href="http://ru.wikipedia.org/wiki/Shorewall" target="_top">shorewall</a>
облегчают этот процесс.</p>
<p>См. документацию на <a class="ulink" href="http://www.netfilter.org/documentation/" target="_top">http://www.netfilter.org/documentation/</a>
(или в "<code class="literal">/usr/share/doc/iptables/html/</code>").</p>
<div class="itemizedlist"><ul type="disc">
<li>
            <a class="ulink" href="http://www.netfilter.org/documentation/HOWTO/networking-concepts-HOWTO.html" target="_top">Linux Networking-concepts
HOWTO</a>
          </li>
<li>
            <a class="ulink" href="http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html" target="_top">Linux 2.4 Packet Filtering
HOWTO</a>
          </li>
<li>
            <a class="ulink" href="http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html" target="_top">Linux 2.4 NAT HOWTO</a>
          </li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Хотя это было написано во времена Linux-ядер <span class="strong"><strong>2.4</strong></span>, оно по-прежнему актуально для современных
Linux-ядер <span class="strong"><strong>2.6</strong></span>.</p>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_network_applications"></a>Глава 6. Сетевые приложения</h2></div></div></div>
<p>Установив подключение к сети (см. <a class="xref" href="#_network_setup" title="Глава 5. Настройка сети">Глава 5, <i>Настройка сети</i></a>), вы
можете запускать различные сетевые приложения.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_web_browsers"></a>6.1. Web-браузеры</h2></div></div></div>
<p>Есть много пакетов с <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%91%D1%80%D0%B0%D1%83%D0%B7%D0%B5%D1%80" target="_top">web-браузерами</a> для
доступа по протоколу <a class="ulink" href="http://ru.wikipedia.org/wiki/HTTP" target="_top">HTTP</a>.</p>
<div class="table">
<a name="listofwebbrowsers"></a><p class="title"><b>Таблица 6.1. Список web-браузеров</b></p>
<div class="table-contents"><table summary="Список web-браузеров" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    тип
    </th>
<th align="left">
    описание web-браузера
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iceweasel" target="_top">
<code class="literal">iceweasel</code> </a> <a class="ulink" href="http://bugs.debian.org/iceweasel" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iceweasel" target="_top">V:28, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iceweasel.html" target="_top">3820</a></td>
<td align="left">
    X
    </td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Iceweasel" target="_top">переименованный</a> браузер <a class="ulink" href="http://ru.wikipedia.org/wiki/Mozilla_Firefox" target="_top">Mozilla Firefox</a>
              </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iceape-browser" target="_top">
<code class="literal">iceape-browser</code> </a> <a class="ulink" href="http://bugs.debian.org/iceape-browser" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iceape-browser" target="_top">V:1.4, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iceape-browser.html" target="_top">36484</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Iceweasel" target="_top">переименованный</a> браузер <a class="ulink" href="http://ru.wikipedia.org/wiki/Mozilla_Foundation" target="_top">Mozilla</a>, удалён в связи с его небезопасностью
(<a class="ulink" href="http://bugs.debian.org/505565" target="_top">bug#505565</a>)</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/epiphany-browser" target="_top">
<code class="literal">epiphany-browser</code> </a> <a class="ulink" href="http://bugs.debian.org/epiphany-browser" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=epiphany-browser" target="_top">V:13, I:34</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/epiphany-browser.html" target="_top">1060</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Epiphany" target="_top">Epiphany</a> для <a class="ulink" href="http://ru.wikipedia.org/wiki/GNOME" target="_top">GNOME</a>, соответствует рекомендациям <a class="ulink" href="http://ru.wikipedia.org/wiki/HIG" target="_top">HIG</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/galeon" target="_top">
<code class="literal">galeon</code> </a> <a class="ulink" href="http://bugs.debian.org/galeon" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=galeon" target="_top">V:1.0, I:1.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/galeon.html" target="_top">1776</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Galeon" target="_top">Galeon</a> для <a class="ulink" href="http://ru.wikipedia.org/wiki/GNOME" target="_top">GNOME</a>,
вытеснен <a class="ulink" href="http://ru.wikipedia.org/wiki/Epiphany" target="_top">Epiphany</a>
</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/konqueror" target="_top">
<code class="literal">konqueror</code> </a> <a class="ulink" href="http://bugs.debian.org/konqueror" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=konqueror" target="_top">V:9, I:16</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/konqueror.html" target="_top">3584</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Konqueror" target="_top">Konqueror</a> для <a class="ulink" href="http://ru.wikipedia.org/wiki/KDE" target="_top">KDE</a>
</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/w3m" target="_top"> <code class="literal">w3m</code>
</a> <a class="ulink" href="http://bugs.debian.org/w3m" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=w3m" target="_top">V:21, I:84</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/w3m.html" target="_top">1972</a></td>
<td align="left">
    текстовый
    </td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/W3m" target="_top">w3m</a>
              </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lynx" target="_top"> <code class="literal">lynx</code>
</a> <a class="ulink" href="http://bugs.debian.org/lynx" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lynx" target="_top">I:23</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lynx.html" target="_top">252</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Lynx" target="_top">Lynx</a>
              </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/elinks" target="_top">
<code class="literal">elinks</code> </a> <a class="ulink" href="http://bugs.debian.org/elinks" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=elinks" target="_top">V:2, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/elinks.html" target="_top">1448</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/ELinks" target="_top">ELinks</a>
              </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/links" target="_top"> <code class="literal">links</code>
</a> <a class="ulink" href="http://bugs.debian.org/links" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=links" target="_top">V:3, I:9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/links.html" target="_top">1380</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Links" target="_top">Links</a> (только текстовый)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/links2" target="_top">
<code class="literal">links2</code> </a> <a class="ulink" href="http://bugs.debian.org/links2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=links2" target="_top">V:0.7, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/links2.html" target="_top">3288</a></td>
<td align="left">
    графический
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Links" target="_top">Links</a> (консольный, графический, не требует X
Window)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_browser_configuration"></a>6.1.1. Настройка браузера</h3></div></div></div>
<p>Некоторые браузеры поддерживают следующие специальные строки адреса URL, по
которым можно открыть их настройки.</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">about:</code>"
</li>
<li>
"<code class="literal">about:config</code>"
</li>
<li>
"<code class="literal">about:plugins</code>"
</li>
</ul></div>
<p>Debian offers many free browser plugin packages in the main archive area
which can handle not only <a class="ulink" href="http://en.wikipedia.org/wiki/Java_(software_platform)" target="_top">Java (software
platform)</a> and <a class="ulink" href="http://ru.wikipedia.org/wiki/Adobe_Flash" target="_top">Flash</a> but also <a class="ulink" href="http://ru.wikipedia.org/wiki/MPEG-1" target="_top">MPEG</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/MPEG-2" target="_top">MPEG2</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/MPEG-4" target="_top">MPEG4</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/DivX" target="_top">DivX</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Windows_Media_Video" target="_top">Windows Media Video (.wmv)</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/QuickTime" target="_top">QuickTime (.mov)</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/MP3" target="_top">MP3
(.mp3)</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Vorbis" target="_top">Ogg/Vorbis</a> files, DVDs,
VCDs, etc.  Debian also offers helper programs to install non-free browser
plugin packages as contrib or non-free archive area.</p>
<div class="table">
<a name="listofbrowserpluginpackages"></a><p class="title"><b>Таблица 6.2. Список пакетов с дополнениями (plugin) для браузеров</b></p>
<div class="table-contents"><table summary="Список пакетов с дополнениями (plugin) для браузеров" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    область (area)
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/icedtea6-plugin" target="_top">
<code class="literal">icedtea6-plugin</code> </a> <a class="ulink" href="http://bugs.debian.org/icedtea6-plugin" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=icedtea6-plugin" target="_top">V:0.7, I:1.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/icedtea6-plugin.html" target="_top">208</a></td>
<td align="left">
    main
    </td>
<td align="left">
    модуль поддержки Java; создан на основе OpenJDK и IcedTea
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sun-java6-plugin" target="_top">
<code class="literal">sun-java6-plugin</code> </a> <a class="ulink" href="http://bugs.debian.org/sun-java6-plugin" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sun-java6-plugin" target="_top">I:11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sun-java6-plugin.html" target="_top">100</a></td>
<td align="left">
    non-free
    </td>
<td align="left">
    модуль поддержки Java для Sun Java SE 6 (только для i386)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mozilla-plugin-gnash" target="_top">
<code class="literal">mozilla-plugin-gnash</code> </a> <a class="ulink" href="http://bugs.debian.org/mozilla-plugin-gnash" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mozilla-plugin-gnash" target="_top">V:2, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mozilla-plugin-gnash.html" target="_top">60</a></td>
<td align="left">
    main
    </td>
<td align="left">
    модуль поддержки Flash, на основе Gnash
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/flashplugin-nonfree" target="_top">
<code class="literal">flashplugin-nonfree</code> </a> <a class="ulink" href="http://bugs.debian.org/flashplugin-nonfree" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=flashplugin-nonfree" target="_top">V:1.0, I:13</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/flashplugin-nonfree.html" target="_top">132</a></td>
<td align="left">
    contrib
    </td>
<td align="left">
    вспомогательный пакет для установки Adobe Flash Player (только для i386 и
amd64)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mozilla-plugin-vlc" target="_top">
<code class="literal">mozilla-plugin-vlc</code> </a> <a class="ulink" href="http://bugs.debian.org/mozilla-plugin-vlc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mozilla-plugin-vlc" target="_top">V:3, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mozilla-plugin-vlc.html" target="_top">128</a></td>
<td align="left">
    main
    </td>
<td align="left">
    мультимедиа-модуль на основе <a class="ulink" href="http://en.wikipedia.org/wiki/VLC_media_player" target="_top">VLC</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/totem-mozilla" target="_top">
<code class="literal">totem-mozilla</code> </a> <a class="ulink" href="http://bugs.debian.org/totem-mozilla" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=totem-mozilla" target="_top">V:21, I:34</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/totem-mozilla.html" target="_top">564</a></td>
<td align="left">
    main
    </td>
<td align="left">
    мультимедиа-модуль на основе <a class="ulink" href="http://ru.wikipedia.org/wiki/Totem" target="_top">проигрывателя Totem</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gecko-mediaplayer" target="_top">
<code class="literal">gecko-mediaplayer</code> </a> <a class="ulink" href="http://bugs.debian.org/gecko-mediaplayer" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gecko-mediaplayer" target="_top">V:0.6, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gecko-mediaplayer.html" target="_top">724</a></td>
<td align="left">
    main
    </td>
<td align="left">
    мультимедиа-модуль на основе <a class="ulink" href="http://ru.wikipedia.org/wiki/MPlayer" target="_top">MPlayer</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/nspluginwrapper" target="_top">
<code class="literal">nspluginwrapper</code> </a> <a class="ulink" href="http://bugs.debian.org/nspluginwrapper" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=nspluginwrapper" target="_top">V:3, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/nspluginwrapper.html" target="_top">472</a></td>
<td align="left">
    contrib
    </td>
<td align="left">
    "обёртка" для запуска дополнений Netscape (созданных для i386) на amd64
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Хотя использование этих пакетов гораздо проще, дополнения можно по-прежнему
установить вручную, скопировав файлы "*.so" в соответствующий каталог,
например, "<code class="literal">/usr/lib/iceweasel/plugins/</code>" и перезапустив
браузер.</p>
</div>
<p>Некоторые web-сайты отказывают в соединении, основываясь на строке
идентификации браузера (user-agent string). Можно попробовать решить эту
проблему, <a class="ulink" href="http://www.mozilla.org/unix/customizing.html#prefs" target="_top">"подделав" эту
строчку</a>. Например, можно добавить в файлы настройки типа
"<code class="literal">~/.gnome2/epiphany/mozilla/epiphany/user.js</code>" или
"<code class="literal">~/.mozilla/firefox/*.default/user.js</code>" следующую
переменную:</p>
<pre class="screen">user_pref{"general.useragent.override","Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)"};</pre>
<p>Можно также изменить эту переменную, набрав адрес
"<code class="literal">about:config</code>" и изменив настройки через web-интерфейс.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Однако, "подделанная" таким образом строка идентификации может приводить к
<a class="ulink" href="https://bugzilla.mozilla.org/show_bug.cgi?id=83376" target="_top">ошибкам в работе Java</a></p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_mail_system"></a>6.2. Почтовая система</h2></div></div></div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Если вы настраиваете почтовый сервер для обмена почтой напрямую через
Интернет, вам следовало бы знать побольше, чем можно почерпнуть из этого
элементарного документа.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Описанные здесь примеры конфигурации подходят лишь для обычного настольного
компьютера, подключенного к Интернету через провайдера потребительского
класса.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_modern_mail_service_basics"></a>6.2.1. Основы современной почтовой службы</h3></div></div></div>
<p>Из-за проблемы спама (нежелательной и непрошенной почты), многие
Интернет-провайдеры, предоставляющие подключение к Интернету конечным
пользователям, принимают ответные меры:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Служба "смартхост" (smarthost) для своих пользователей, пересылающая
сообщения, использующая порт 587 (message submission, <a class="ulink" href="http://tools.ietf.org/html/rfc4409" target="_top">rfc4409</a>) и проверяющая пароль (<a class="ulink" href="http://en.wikipedia.org/wiki/SMTP-AUTH" target="_top">SMTP-авторизация</a>, <a class="ulink" href="http://tools.ietf.org/html/rfc4954" target="_top">rfc4954</a>).
</li>
<li>
Соединения на <a class="ulink" href="http://ru.wikipedia.org/wiki/SMTP" target="_top">SMTP</a>-порт (25) из внутренних сетей
провайдера в Интернет блокируются. (Кроме собственного почтового сервера
провайдера.) 
</li>
<li>
Соединения на <a class="ulink" href="http://ru.wikipedia.org/wiki/SMTP" target="_top">SMTP</a>-порт (25) сервера входящей
почты провайдера с некоторых подозрительных узлов внешних сетей
блокируются. (Узлы с динамическими IP-адресами, подключенные через
провайдеров потребительского класса, блокируются в числе первых.)
</li>
</ul></div>
<p>Настраивая почтовую систему или решая проблемы с доставкой почты, вам нужно
помнить об этих новых ограничениях.</p>
<p>В свете этих ограничений и враждебной ситуации в Интернете, некоторые
независимые провайдеры почтовых сервисов, как Yahoo.com и Gmail.com,
предлагают защищённый почтовый сервис, с которым можно соединиться отовсюду
в Интернете по протоколам <a class="ulink" href="http://ru.wikipedia.org/wiki/TLS" target="_top">TLS и его предшественнику,
SSL</a>.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Служба "смартхост" для их пользователей доступна на порту 465 (SMTP/SSL)
либо 587 (message submission) по паролю (SMTP-авторизация).
</li>
<li>
Входящая почта доступна на порту TLS/POP3 (995) по <a class="ulink" href="http://ru.wikipedia.org/wiki/POP3" target="_top">POP3</a>.
</li>
</ul></div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Представляется нереалистичным держать свой SMTP-сервер в сети
потребительского класса, чтобы посылать почту напрямую на удалённые
узлы. Скорее всего, в соединении будет отказано. Вам следует использовать
смартхост либо вашего интернет-провайдера, либо независимого
почтового. Простоты ради, в примерах этой главы подразумевается, что
смартхост расположен по адресу "<code class="literal">smtp.hostname.dom</code>",
доступен на порту 587 (message submission) и требует <a class="ulink" href="http://en.wikipedia.org/wiki/SMTP-AUTH" target="_top">SMTP-авторизации</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_mail_configuration_strategy_for_workstation"></a>6.2.2. Стратегия настройки почты на рабочей станции</h3></div></div></div>
<p>Простейшая конфигурация: почта посылается на смартхост провайдера и
принимается с POP3-сервера провайдера почтовым клиентом пользователя (MUA,
см. <a class="xref" href="#_mail_user_agent_mua" title="6.4. Почтовая программа пользователя (MUA)">Раздел 6.4, «Почтовая программа пользователя (MUA)»</a>). Этот тип конфигурации популярен
среди пользователей полнофункциональных графических почтовых клиентов, таких
как <code class="literal">icedove</code>(1) или <code class="literal">evolution</code>(1). Если
вам нужно фильтровать/сортировать почту, воспользуйтесь соответствующими
функциями почтового клиента. В этом случае локальная почтовый сервер (MTA,
см. <a class="xref" href="#_mail_user_agent_mua" title="6.4. Почтовая программа пользователя (MUA)">Раздел 6.4, «Почтовая программа пользователя (MUA)»</a>) должен заниматься только
доставкой локальной почты (внутри вашей системы).</p>
<p>Альтернативный вариант: почта через локальный почтовый сервер (MTA)
пользователя пересылается на смартхост провайдера, а принимается с
POP3-сервера провайдера программой для получения почты (см. <a class="xref" href="#_the_remote_mail_retrieval_and_forward_utility" title="6.5. Средства доставки и перенаправления почты">Раздел 6.5, «Средства доставки и перенаправления почты»</a>), сохраняющей её
в локальный почтовый ящик. Если нужно фильтровать почту, используйте агент
доставки почты (MDA), поддерживающий фильтрацию, для раскладывания почты по
отдельным ящикам (см. <a class="xref" href="#_mail_delivery_agent_mda_with_filter" title="6.6. Агент доставки (MDA) с поддержкой фильтрации">Раздел 6.6, «Агент доставки (MDA) с поддержкой фильтрации»</a>). Этот тип конфигурации
популярен среди пользователей простых консольных почтовых агентов, как
<code class="literal">mutt</code>(1) или <code class="literal">gnus</code>(1), хотя она возможна
с любым почтовым агентом (см. <a class="xref" href="#_mail_user_agent_mua" title="6.4. Почтовая программа пользователя (MUA)">Раздел 6.4, «Почтовая программа пользователя (MUA)»</a>). В
этом случае локальный почтовый сервер (MTA, см. <a class="xref" href="#_mail_transport_agent_mta" title="6.3. Почтовый сервер (MTA)">Раздел 6.3, «Почтовый сервер (MTA)»</a>) должен отправлять почту на смартхост
и заниматься локальной доставкой. Поскольку мобильные рабочие станции не
имеют настоящего доменного имени (FQDN), локальный MTA должен скрывать и
подделывать локальное почтовое имя в исходящей почте, чтобы избежать ошибок
доставки (см. <a class="xref" href="#_the_mail_address_configuration" title="6.3.3. Настройка почтового адреса">Раздел 6.3.3, «Настройка почтового адреса»</a>).</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете захотеть настроить MUA/MDA с <a class="ulink" href="http://ru.wikipedia.org/wiki/Maildir" target="_top">Maildir</a> и сохранять сообщения где-то в домашнем
каталоге.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_mail_transport_agent_mta"></a>6.3. Почтовый сервер (MTA)</h2></div></div></div>
<p>Популярные на рабочих станциях MTA входят в пакеты
<code class="literal">exim4-*</code> и <code class="literal">postfix</code> (можно установить
один из двух). Любого из них более чем достаточно.</p>
<div class="table">
<a name="listofbasicmailtesforworkstation"></a><p class="title"><b>Таблица 6.3. Список основных пакетов для MTA на рабочей станции</b></p>
<div class="table-contents"><table summary="Список основных пакетов для MTA на рабочей станции" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exim4-daemon-light" target="_top">
<code class="literal">exim4-daemon-light</code> </a> <a class="ulink" href="http://bugs.debian.org/exim4-daemon-light" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exim4-daemon-light" target="_top">V:60, I:66</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exim4-daemon-light.html" target="_top">1016</a></td>
<td align="left">
    почтовый сервер Exim4 (MTA по умолчанию в Debian)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exim4-base" target="_top">
<code class="literal">exim4-base</code> </a> <a class="ulink" href="http://bugs.debian.org/exim4-base" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exim4-base" target="_top">V:62, I:68</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exim4-base.html" target="_top">1688</a></td>
<td align="left">
    документация Exim4 (text) и общие файлы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exim4-doc-html" target="_top">
<code class="literal">exim4-doc-html</code> </a> <a class="ulink" href="http://bugs.debian.org/exim4-doc-html" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exim4-doc-html" target="_top">I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exim4-doc-html.html" target="_top">3452</a></td>
<td align="left">
    документация Exim4 (html)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exim4-doc-info" target="_top">
<code class="literal">exim4-doc-info</code> </a> <a class="ulink" href="http://bugs.debian.org/exim4-doc-info" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exim4-doc-info" target="_top">I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exim4-doc-info.html" target="_top">556</a></td>
<td align="left">
    документация Exim4 (info)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/postfix" target="_top">
<code class="literal">postfix</code> </a> <a class="ulink" href="http://bugs.debian.org/postfix" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=postfix" target="_top">V:18, I:20</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/postfix.html" target="_top">3492</a></td>
<td align="left">
    почтовый сервер Postfix (альтернативный MTA)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/postfix-doc" target="_top">
<code class="literal">postfix-doc</code> </a> <a class="ulink" href="http://bugs.debian.org/postfix-doc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=postfix-doc" target="_top">I:1.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/postfix-doc.html" target="_top">3420</a></td>
<td align="left">
    документация Postfix (html+text)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sasl2-bin" target="_top">
<code class="literal">sasl2-bin</code> </a> <a class="ulink" href="http://bugs.debian.org/sasl2-bin" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sasl2-bin" target="_top">V:2, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sasl2-bin.html" target="_top">448</a></td>
<td align="left">
    реализация API Cyrus SASL (дополняет SMTP-авторизацию в postfix)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cyrus-sasl2-doc" target="_top">
<code class="literal">cyrus-sasl2-doc</code> </a> <a class="ulink" href="http://bugs.debian.org/cyrus-sasl2-doc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cyrus-sasl2-doc" target="_top">I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cyrus-sasl2-doc.html" target="_top">284</a></td>
<td align="left">
    Cyrus SASL -- документация
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Хотя, судя по статистике popcon, <code class="literal">exim4-*</code> в несколько раз
популярней, чем <code class="literal">postfix</code>, это не значит, что последним не
пользуются разработчики Debian. На системе серверов Debian используется как
<code class="literal">exim4</code>, так и <code class="literal">postfix</code>. <a class="ulink" href="http://wiki.debian.org/DefaultMTA" target="_top">Анализ заголовков почтовых сообщений</a>,
отправленных в списки рассылки разработчиками Debian также указывает на
популярность обоих MTA.</p>
<p><code class="literal">exim4</code> известен своим низким потреблением памяти и
гибкостью в настройке. <code class="literal">postfix</code> компактен, быстр, прост и
безопасен. Оба идут с кучей документации, оба хороши и качеством, и
лицензией.</p>
<p>Однако, в Debian доступен широкий выбор MTA различного свойства и калибра.</p>
<div class="table">
<a name="listofchoicesforsindebianarchive"></a><p class="title"><b>Таблица 6.4. Список пакетов с MTA в Debian</b></p>
<div class="table-contents"><table summary="Список пакетов с MTA в Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    какие возможности, на что нацелен
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exim4-daemon-light" target="_top">
<code class="literal">exim4-daemon-light</code> </a> <a class="ulink" href="http://bugs.debian.org/exim4-daemon-light" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exim4-daemon-light" target="_top">V:60, I:66</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exim4-daemon-light.html" target="_top">1016</a></td>
<td align="left">
    всё
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/postfix" target="_top">
<code class="literal">postfix</code> </a> <a class="ulink" href="http://bugs.debian.org/postfix" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=postfix" target="_top">V:18, I:20</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/postfix.html" target="_top">3492</a></td>
<td align="left">
    всё (безопасность)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exim4-daemon-heavy" target="_top">
<code class="literal">exim4-daemon-heavy</code> </a> <a class="ulink" href="http://bugs.debian.org/exim4-daemon-heavy" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exim4-daemon-heavy" target="_top">V:1.8, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exim4-daemon-heavy.html" target="_top">1132</a></td>
<td align="left">
    всё (гибкость)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sendmail-bin" target="_top">
<code class="literal">sendmail-bin</code> </a> <a class="ulink" href="http://bugs.debian.org/sendmail-bin" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sendmail-bin" target="_top">V:2, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sendmail-bin.html" target="_top">2032</a></td>
<td align="left">
    всё (только если вы уже владеете темой)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/nullmailer" target="_top">
<code class="literal">nullmailer</code> </a> <a class="ulink" href="http://bugs.debian.org/nullmailer" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=nullmailer" target="_top">V:0.7, I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/nullmailer.html" target="_top">436</a></td>
<td align="left">
    маленький, без локальной почты
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ssmtp" target="_top"> <code class="literal">ssmtp</code>
</a> <a class="ulink" href="http://bugs.debian.org/ssmtp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ssmtp" target="_top">V:1.1, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/ssmtp.html" target="_top">0</a></td>
<td align="left">
    маленький, без локальной почты
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/courier-mta" target="_top">
<code class="literal">courier-mta</code> </a> <a class="ulink" href="http://bugs.debian.org/courier-mta" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=courier-mta" target="_top">V:0.15, I:0.16</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/courier-mta.html" target="_top">12316</a></td>
<td align="left">
    переполненный (web-интерфейс и т.п.)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xmail" target="_top"> <code class="literal">xmail</code>
</a> <a class="ulink" href="http://bugs.debian.org/xmail" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xmail" target="_top">V:0.14, I:0.17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xmail.html" target="_top">836</a></td>
<td align="left">
    лёгкий
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/masqmail" target="_top">
<code class="literal">masqmail</code> </a> <a class="ulink" href="http://bugs.debian.org/masqmail" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=masqmail" target="_top">V:0.04, I:0.05</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/masqmail.html" target="_top">728</a></td>
<td align="left">
    лёгкий
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/esmtp" target="_top"> <code class="literal">esmtp</code>
</a> <a class="ulink" href="http://bugs.debian.org/esmtp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=esmtp" target="_top">V:0.09, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/esmtp.html" target="_top">172</a></td>
<td align="left">
    лёгкий
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/esmtp-run" target="_top">
<code class="literal">esmtp-run</code> </a> <a class="ulink" href="http://bugs.debian.org/esmtp-run" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=esmtp-run" target="_top">V:0.08, I:0.12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/esmtp-run.html" target="_top">64</a></td>
<td align="left">
    лёгкий (расширение совместимости с sendmail для <code class="literal">esmtp</code>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/msmtp" target="_top"> <code class="literal">msmtp</code>
</a> <a class="ulink" href="http://bugs.debian.org/msmtp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=msmtp" target="_top">V:0.3, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/msmtp.html" target="_top">340</a></td>
<td align="left">
    лёгкий
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/msmtp-mta" target="_top">
<code class="literal">msmtp-mta</code> </a> <a class="ulink" href="http://bugs.debian.org/msmtp-mta" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=msmtp-mta" target="_top">V:0.11, I:0.14</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/msmtp-mta.html" target="_top">32</a></td>
<td align="left">
    лёгкий (расширение совместимости с sendmail для <code class="literal">msmtp</code>)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_configuration_of_exim4"></a>6.3.1. Настройка exim4</h3></div></div></div>
<p>Для отправки почты через смартхост (пере)настройте пакеты
<code class="literal">exim4-*</code> так:</p>
<pre class="screen">$ sudo /etc/init.d/exim4 stop
$ sudo dpkg-reconfigure exim4-config</pre>
<p>В меню "Общий тип почтовой конфигурации" выберите "отправка почты через
smarthost; приём по SMTP или через fetchmail".</p>
<p>Введите "Почтовое имя системы". Это полное доменное имя (FQDN), используемое
по умолчанию (см. <a class="xref" href="#_the_hostname_resolution" title="5.1.2. Определение имени узла (hostname resolution)">Раздел 5.1.2, «Определение имени узла (hostname resolution)»</a>).</p>
<p>Оставьте "IP-адреса, с которых следует ожидать входящие соединения SMTP" в
значении по умолчанию: "127.0.0.1 ; ::1".</p>
<p>Сотрите содержимое "Других мест назначения, для которых должна приниматься
почта".</p>
<p>Сотрите содержимое "Машин, для которых доступна релейная передача почты".</p>
<p>Установите "IP-адрес или имя хоста являющегося исходящим smarthost":
"smtp.hostname.dom:587".</p>
<p>На вопрос "Скрывать локальное почтовое имя в исходящей почте?" ответьте
"Нет". (Вместо этого используйте "<code class="literal">/etc/email-addresses</code>",
как описано в <a class="xref" href="#_the_mail_address_configuration" title="6.3.3. Настройка почтового адреса">Раздел 6.3.3, «Настройка почтового адреса»</a>.)</p>
<p>Ответьте на "Сокращать количество DNS-запросов до минимума (дозвон по
требованию)?" так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
"Нет", если ваша система соединяется с Интернетом во время загрузки.
</li>
<li>
"Да", если система <span class="strong"><strong>не</strong></span> соединяется с
Интернетом во время загрузки.
</li>
</ul></div>
<p>Установите "Метод доставки локальной почты": "mbox формат в /var/mail/".</p>
<p>"Разделить конфигурацию на маленькие файлы?" -- "Да".</p>
<p>Создайте записи о пароле для смартхоста, отредактировав
"<code class="literal">/etc/exim4/passwd.client</code>".</p>
<pre class="screen">$ sudo vim /etc/exim4/passwd.client
 ...
$ cat /etc/exim4/passwd.client
^smtp.*\.hostname\.dom:username@hostname.dom:password</pre>
<p>Запустите <code class="literal">exim4</code> так:</p>
<pre class="screen">$ sudo /etc/init.d/exim4 start</pre>
<p>Имя узла в "<code class="literal">/etc/exim4/passwd.client</code>" должно быть
настоящим (не "alias"). Проверьте настоящее имя узла так:</p>
<pre class="screen">$ host smtp.hostname.dom
smtp.hostname.dom is an alias for smtp99.hostname.dom.
smtp99.hostname.dom has address 123.234.123.89</pre>
<p>Я использую регулярное выражение в
"<code class="literal">/etc/exim4/passwd.client</code>" для решения вопроса с alias
узла. SMTP-авторизация, вероятно, продолжит работать, даже если провайдер
изменит имя узла, на который указывает alias.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Вам следует выполнить <code class="literal">update-exim4.conf</code>(8) после
изменения фалов настройки <code class="literal">exim4</code> вручную (настройки
хранятся в "<code class="literal">/etc/exim4/</code>").</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p><code class="literal">exim4</code> запускается долго при загрузке системы, если при
настройке на вопрос "Сокращать количество DNS-запросов до минимума (дозвон
по требованию)?" ответить "Нет", и система <span class="strong"><strong>не</strong></span> подключается к Интернету во время загрузки.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Пожалуйста, прочтите официальное руководство:
"<code class="literal">/usr/share/doc/exim4-base/README.Debian.gz</code>" и
<code class="literal">update-exim4.conf</code>(8).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Можно создать "<code class="literal">/etc/exim4/exim4.conf.localmacros</code>" и
добавить туда макросы. Например, для <a class="ulink" href="http://www.yahoo.com/" target="_top">Yahoo</a> в
нём нужны "<code class="literal">MAIN_TLS_ENABLE = true</code>" и
<code class="literal">MAIN_TLS_ENABLE = true</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если вам нужен лёгкий MTA для ноутбука, поддерживающий ваш
"<code class="literal">/etc/aliases</code>", подумайте о настройке
<code class="literal">exim4</code>(8) со следующими параметрами в
"<code class="literal">/etc/default/exim4</code>":
"<code class="literal">QUEUERUNNER='queueonly'</code>",
"<code class="literal">QUEUERUNNER='queueonly'</code>", и т.п.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_configuration_of_postfix_with_sasl"></a>6.3.2. Настройка postfix с SASL</h3></div></div></div>
<p>Для настройки отправки почты через смартхост прочтите сначала <a class="ulink" href="http://www.postfix.org/documentation.html" target="_top">документацию postfix</a> и ключевые
справочные страницы.</p>
<div class="table">
<a name="listofimportantpstfixmanualpages"></a><p class="title"><b>Таблица 6.5. Список важных справочных страниц по postfix</b></p>
<div class="table-contents"><table summary="Список важных справочных страниц по postfix" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<code class="literal">postfix</code>(1)
    </td>
<td align="left">
    управляющая программа Postfix
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">postconf</code>(1)
    </td>
<td align="left">
    средство настройки Postfix
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">postconf</code>(5)
    </td>
<td align="left">
    параметры конфигурации Postfix
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">postmap</code>(1)
    </td>
<td align="left">
    Postfix lookup table maintenance
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">postalias</code>(1)
    </td>
<td align="left">
    поддержка базы псевдонимов (alias) в Postfix
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>(Пере)настройте <code class="literal">postfix</code> и <code class="literal">sasl2-bin</code>
такими командами:</p>
<pre class="screen">$ sudo /etc/init.d/postfix stop
$ sudo dpkg-reconfigure postfix</pre>
<p>В меню "Общий тип почтовой настройки" выберите "Интернет со smart-хостом".</p>
<p>Установите "Релейный хост SMTP (пусто, если нет):" --
"<code class="literal">[smtp.hostname.dom]:587</code>" и настройте его так:</p>
<pre class="screen">$ sudo postconf -e 'smtp_sender_dependent_authentication = yes'
$ sudo postconf -e 'smtp_sasl_auth_enable = yes'
$ sudo postconf -e 'smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd'
$ sudo postconf -e 'smtp_sasl_type = cyrus'
$ sudo vim /etc/postfix/sasl_passwd</pre>
<p>Создайте записи о паролях для смартхоста:</p>
<pre class="screen">$ cat /etc/postfix/sasl_passwd
[smtp.hostname.dom]:587     пользователь:пароль
$ sudo postmap hush:/etc/postfix/sasl_passwd</pre>
<p>Запустите <code class="literal">postfix</code>:</p>
<pre class="screen">$ sudo /etc/init.d/postfix start</pre>
<p>В диалоге <code class="literal">dpkg-reconfigure</code> и в
"<code class="literal">/etc/postfix/sasl_passwd</code>" квадратные скобки вокруг
адреса смартхоста означают, что нужно, не проверяя MX-запись, сразу
использовать заданное имя узла. См. "Enabling SASL authentication in the
Postfix SMTP client" в <code class="literal">/etc/postfix/sasl_passwd</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_mail_address_configuration"></a>6.3.3. Настройка почтового адреса</h3></div></div></div>
<p>Есть несколько <a class="ulink" href="http://www.debian.org/doc/debian-policy/ch-customized-programs#s-mail-transport-agents" target="_top">файлов
настройки почтового адреса для почтового сервера (MTA), агента доставки
(MDA) и почтового клиента (MUA)</a>.</p>
<div class="table">
<a name="listofmailaddresnfigurationfiles"></a><p class="title"><b>Таблица 6.6. Список файлов для настройки почтового адреса</b></p>
<div class="table-contents"><table summary="Список файлов для настройки почтового адреса" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл
    </th>
<th align="left">
    действие
    </th>
<th align="left">
    приложение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/etc/mailname</code>
                </td>
<td align="left">
    имя узла по умолчанию для (исходящей) почты
    </td>
<td align="left">
    специфичен для Debian, <code class="literal">mailname</code>(5)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/email-addresses</code>
                </td>
<td align="left">
    имя узла, "подставляемое" в исходящую почту
    </td>
<td align="left">специфичен для <code class="literal">exim</code>(8),
<code class="literal">exim4-config_files</code>(5)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/postfix/generic</code>
                </td>
<td align="left">
    имя узла, "подставляемое" в исходящую почту
    </td>
<td align="left">специфичен для <code class="literal">postfix</code>(1), активируется после выполнения
<code class="literal">postmap</code>(1)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/aliases</code>
                </td>
<td align="left">
    псевдонимы учётных записей; для входящей почты
    </td>
<td align="left">
    общий, активируется после выполнения <code class="literal">newaliases</code>(1)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p><span class="strong"><strong>Почтовое имя системы</strong></span> (mailname) в
"<code class="literal">/etc/mailname</code>" -- это, как правило, полное доменное имя
(FQDN), указывающее на один из IP-адресов узла. На мобильных рабочих
станциях, где имя узла не связано с IP-адресом, установите почтовое имя в
значение, выводимое командой "<code class="literal">hostname -f</code>". (Это
безопасный выбор, работающий как с <code class="literal">exim4-*</code>, так и с
<code class="literal">postfix</code>.)</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>The contents of "<code class="literal">/etc/mailname</code>" is used by many non-MTA
programs for their default behavior. For <code class="literal">mutt</code>, set
"<code class="literal">hostname</code>" and "<code class="literal">from</code>" variables in
<code class="literal">~/muttrc</code> file to override the <span class="strong"><strong>mailname</strong></span> value.  For programs in the
<code class="literal">devscripts</code> package, such as <code class="literal">bts</code>(1) and
<code class="literal">dch</code>(1), export environment variables
"<code class="literal">$DEBFULLNAME</code>" and "<code class="literal">$DEBEMAIL</code>" to
override it.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>The <code class="literal">popularity-contest</code> package normally send mail from
root account with FQDN.  You need to set <code class="literal">MAILFROM</code> in
<code class="literal">/etc/popularity-contest.conf</code> as described in the
<code class="literal">/usr/share/popularity-contest/default.conf</code> file.
Otherwise, your mail will be rejected by the smarthost SMTP server. Although
this is tedious, this approach is safer than rewriting the source address
for all mails from root by MTA and should be used for other daemons and cron
scripts.</p>
</div>
<p>При установке <span class="strong"><strong>почтового адреса системы</strong></span>
(mailname) в значение, выдаваемое "<code class="literal">hostname -f</code>",
"подстановку" адреса почтовым сервером можно настроить так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Для <code class="literal">exim4</code>(8) -- в файле
"<code class="literal">/etc/email-addresses</code>" так, как описано в
<code class="literal">exim4-config_files</code>(5).
</li>
<li>
Для <code class="literal">postfix</code>(1) -- в файле
"<code class="literal">/etc/postfix/generic</code>" так, как описано в
<code class="literal">generic</code>(5).
</li>
</ul></div>
<p>Для <code class="literal">postfix</code> нужны следующие дополнительные действия:</p>
<pre class="screen"># postmap hash:/etc/postfix/generic
# postconf -e 'smtp_generic_maps = hash:/etc/postfix/generic'
# postfix reload</pre>
<p>Вы можете проверить конфигурацию почтового адреса так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">exim</code>(8) с ключами <code class="literal">-brw, -bf, -bF, -bV,
…</code>
</li>
<li>
<code class="literal">postmap</code>(1) с ключом <code class="literal">-q</code>
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Exim идёт с несколькими вспомогательными программами, такими как
<code class="literal">exiqgrep</code>(8) и
<code class="literal">exipick</code>(8). "<code class="literal">dpkg -L exim4-base|grep
man8/</code>" поможет найти доступные команды.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basic_mta_operations"></a>6.3.4. Основные операции с MTA</h3></div></div></div>
<p>Есть несколько простейших команд для MTA. Некоторые из них выполняются через
совместимый с <code class="literal">sendmail</code>(1) интерфейс.</p>
<div class="table">
<a name="listofbasicmtaoperation"></a><p class="title"><b>Таблица 6.7. Список основных операций MTA</b></p>
<div class="table-contents"><table summary="Список основных операций MTA" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда exim
    </th>
<th align="left">
    команда postfix
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">sendmail</code>
                </td>
<td align="left">
                  <code class="literal">sendmail</code>
                </td>
<td align="left">
    прочитать сообщения со стандартного ввода (stdin) и заняться их доставкой
(<code class="literal">-bm</code>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">mailq</code>
                </td>
<td align="left">
                  <code class="literal">mailq</code>
                </td>
<td align="left">
    list the mail queue with status and queue ID (<code class="literal">-bp</code>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">newaliases</code>
                </td>
<td align="left">
                  <code class="literal">newaliases</code>
                </td>
<td align="left">
    инициализировать базу псевдонимов (<code class="literal">-I</code>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">exim4 -q</code>
                </td>
<td align="left">
                  <code class="literal">postqueue -f</code>
                </td>
<td align="left">
    попытаться доставить ожидающую почту (<code class="literal">-q</code>)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">exim4 -qf</code>
                </td>
<td align="left">
                  <code class="literal">postsuper -r ALL deferred; postqueue -f</code>
                </td>
<td align="left">
    попытаться доставить всю почту
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">exim4 -qff</code>
                </td>
<td align="left">
                  <code class="literal">postsuper -r ALL; postqueue -f</code>
                </td>
<td align="left">
    попытаться доставить даже "замороженную" почту
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">exim4 -Mg ID_очереди</code>
                </td>
<td align="left">
                  <code class="literal">postsuper -h ID_очереди</code>
                </td>
<td align="left">
    "заморозить" одно сообщение по его ID в очереди
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">exim4 -Mrm ID_очереди</code>
                </td>
<td align="left">
                  <code class="literal">postsuper -d ID_очереди</code>
                </td>
<td align="left">
    удалить одно сообщение по его ID в очереди
    </td>
</tr>
<tr>
<td align="left">
    N/A
    </td>
<td align="left">
                  <code class="literal">postsuper -d ALL</code>
                </td>
<td align="left">
    удалить все сообщения
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Хорошей идеей может быть доставка всей почты по команде из сценария в
"<code class="literal">/etc/ppp/ip-up.d/</code>".</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_mail_user_agent_mua"></a>6.4. Почтовая программа пользователя (MUA)</h2></div></div></div>
<p>Если вы подписаны на списки рассылки Debian, хорошей мыслью может быть
использование такой почтовой программы, как <code class="literal">mutt</code> или
<code class="literal">gnus</code>. Эти программы работают правильно и являются
стандартами де факто среди участников.</p>
<div class="table">
<a name="listofmailuseragentmua"></a><p class="title"><b>Таблица 6.8. Список почтовых программ пользователя (MUA)</b></p>
<div class="table-contents"><table summary="Список почтовых программ пользователя (MUA)" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    тип
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/iceweasel" target="_top">
<code class="literal">iceweasel</code> </a> <a class="ulink" href="http://bugs.debian.org/iceweasel" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=iceweasel" target="_top">V:28, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/iceweasel.html" target="_top">3820</a></td>
<td align="left">
    GUI, X (<a class="ulink" href="http://ru.wikipedia.org/wiki/Iceweasel" target="_top">"переименованная"</a> <a class="ulink" href="http://ru.wikipedia.org/wiki/Mozilla_Firefox" target="_top">Mozilla Firefox</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/evolution" target="_top">
<code class="literal">evolution</code> </a> <a class="ulink" href="http://bugs.debian.org/evolution" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=evolution" target="_top">V:18, I:35</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/evolution.html" target="_top">4716</a></td>
<td align="left">
    X GUI program (part of a groupware suite)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/icedove" target="_top">
<code class="literal">icedove</code> </a> <a class="ulink" href="http://bugs.debian.org/icedove" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=icedove" target="_top">V:8, I:13</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/icedove.html" target="_top">38840</a></td>
<td align="left">
    GUI, X (<a class="ulink" href="http://ru.wikipedia.org/wiki/Iceweasel" target="_top">"переименованная"</a> <a class="ulink" href="http://ru.wikipedia.org/wiki/Mozilla_Thunderbird" target="_top">Mozilla Thunderbird</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mutt" target="_top"> <code class="literal">mutt</code>
</a> <a class="ulink" href="http://bugs.debian.org/mutt" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mutt" target="_top">V:31, I:83</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mutt.html" target="_top">6004</a></td>
<td align="left">
    текстовая почтовая программа (как правило, используется вместе с
<code class="literal">vim</code>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnus" target="_top"> <code class="literal">gnus</code>
</a> <a class="ulink" href="http://bugs.debian.org/gnus" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnus" target="_top">V:0.06, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnus.html" target="_top">6453</a></td>
<td align="left">
    гибкая почтовая программа для <code class="literal">(x)emacs</code>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basic_mua_8212_mutt"></a>6.4.1. Простая почтовая программа -- Mutt</h3></div></div></div>
<p>Настройте "<code class="literal">~/.muttrc</code>" как в примере ниже, чтобы
использовать <code class="literal">mutt</code> в качестве почтовой программы вместе с
<code class="literal">vim</code>.</p>
<pre class="screen">#
# User configuration file to override /etc/Muttrc
#
# spoof source mail address
set use_from
set hostname=example.dom
set from="Name Surname &lt;username@example.dom&gt;"
set signature="~/.signature"

# vim: "gq" to reformat quotes
set editor="vim -c 'set tw=72 et ft=mail'"

# "mutt" goes to Inbox, while "mutt -y" lists mailboxes
set mbox_type=Maildir           # use qmail Maildir format for creating mbox
set mbox=~/Mail                 # keep all mail boxes in $HOME/Mail/
set spoolfile=+Inbox            # mail delivered to $HOME/Mail/Inbox
set record=+Outbox              # save fcc mail to $HOME/Mail/Outbox
set postponed=+Postponed        # keep postponed in $HOME/Mail/postponed
set move=no                     # do not move Inbox items to mbox
set quit=ask-yes                # do not quit by "q" only
set delete=yes                  # always delete w/o asking while exiting
set fcc_clear                   # store fcc as non encrypted

# Mailboxes in Maildir (automatic update)
mailboxes `cd ~/Mail; /bin/ls -1|sed -e 's/^/+/' | tr "\n" " "`
unmailboxes Maillog *.ev-summary

## Default
#set index_format="%4C %Z %{%b %d} %-15.15L (%4l) %s"
## Thread index with senders (collapse)
set index_format="%4C %Z %{%b %d} %-15.15n %?M?(#%03M)&amp;(%4l)? %s"

## Default
#set folder_format="%2C %t %N %F %2l %-8.8u %-8.8g %8s %d %f"
## just folder names
set folder_format="%2C %t %N %f"</pre>
<p>Добавьте следующие строки в "<code class="literal">/etc/mailcap</code>" или в
"<code class="literal">~/.mailcap</code>" для отображения почты в формате HTML и для
"разворачивания" в письме вложений MS Word.</p>
<pre class="screen">text/html; lynx -force_html %s; needsterminal;
application/msword; /usr/bin/antiword '%s'; copiousoutput; description="Microsoft Word Text"; nametemplate=%s.doc</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Mutt "умеет" быть <a class="ulink" href="http://ru.wikipedia.org/wiki/IMAP" target="_top">IMAP</a>-клиентом и преобразовать
формат почтового ящика. Вы можете пометить (tag) сообщения клавишами
"<code class="literal">t</code>", "<code class="literal">T</code>" и т.п. Эти помеченные
сообщения можно копировать между разными файлами с почтой
("<code class="literal">;C</code>") и удалять одним движением
("<code class="literal">;d</code>").</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_remote_mail_retrieval_and_forward_utility"></a>6.5. Средства доставки и перенаправления почты</h2></div></div></div>
<p>Хотя <code class="literal">fetchmail</code>(1) был де факто стандартом программы
доставки почты в GNU/Linux, автор сейчас предпочитает
<code class="literal">getmail</code>(1). Если вы хотите отклонять некоторые письма до
их загрузки ради экономии пропускной способности канала, вам могут
пригодиться <code class="literal">mailfilter</code> или <code class="literal">mpop</code>. Какая
бы ни использовалось программа получения почты, неплохо перенаправлять
полученную почту агенту доставки и фильтрации, например,
<code class="literal">maildrop</code>.</p>
<div class="table">
<a name="listofremotemailforwardutilities"></a><p class="title"><b>Таблица 6.9. Список средств получения и перенаправления почты</b></p>
<div class="table-contents"><table summary="Список средств получения и перенаправления почты" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fetchmail" target="_top">
<code class="literal">fetchmail</code> </a> <a class="ulink" href="http://bugs.debian.org/fetchmail" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fetchmail" target="_top">V:2, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fetchmail.html" target="_top">2568</a></td>
<td align="left">
    получение почты (POP3, APOP, IMAP) (устарел)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/getmail4" target="_top">
<code class="literal">getmail4</code> </a> <a class="ulink" href="http://bugs.debian.org/getmail4" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=getmail4" target="_top">V:0.3, I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/getmail4.html" target="_top">668</a></td>
<td align="left">
    получение почты (POP3); фильтрация по регулярным выражениям
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mailfilter" target="_top">
<code class="literal">mailfilter</code> </a> <a class="ulink" href="http://bugs.debian.org/mailfilter" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mailfilter" target="_top">V:0.01, I:0.07</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mailfilter.html" target="_top">332</a></td>
<td align="left">
    получение почты (POP3); фильтрация по регулярным выражениям
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mpop" target="_top"> <code class="literal">mpop</code>
</a> <a class="ulink" href="http://bugs.debian.org/mpop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mpop" target="_top">V:0.02, I:0.08</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mpop.html" target="_top">324</a></td>
<td align="left">
    получение почты (POP3); MDA; фильтрация
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_getmail_configuration"></a>6.5.1. Настройка getmail</h3></div></div></div>
<p>Настройки <code class="literal">getmail</code>(1) описаны в <a class="ulink" href="http://pyropus.ca/software/getmail/documentation.html" target="_top">документации getmail</a>. Вот моя
конфигурация для получения почты с нескольких POP3-аккаунтов.</p>
<p>Создайте такой сценарий "<code class="literal">/usr/local/bin/getmails</code>":</p>
<pre class="screen">#!/bin/sh
set -e
if [ -f $HOME/.getmail/running ]; then
  echo "getmail is already running ... (if not, remove $HOME/.getmail/running)" &gt;&amp;2
  pgrep -l "getmai[l]"
  exit 1
else
  echo "getmail has not been running ... " &gt;&amp;2
fi
if [ -f $HOME/.getmail/stop ]; then
  echo "do not run getmail ... (if not, remove $HOME/.getmail/stop)" &gt;&amp;2
  exit
fi
if [ "x$1" = "x-l" ]; then
  exit
fi
rcfiles="/usr/bin/getmail"
for file in $HOME/.getmail/config/* ; do
  rcfiles="$rcfiles --rcfile $file"
done
date -u &gt; $HOME/.getmail/running
eval "$rcfiles $@"
rm $HOME/.getmail/running</pre>
<p>И настройте его так:</p>
<pre class="screen">$ sudo chmod 755 /usr/local/bin/getmails
$ mkdir -m 0700 $HOME/.getmail
$ mkdir -m 0700 $HOME/.getmail/config
$ mkdir -m 0700 $HOME/.getmail/log</pre>
<p>Create configuration files
"<code class="literal">$HOME/.getmail/config/pop3_name</code>" for each POP3 accounts
as the following.</p>
<pre class="screen">[retriever]
type = SimplePOP3SSLRetriever
server = pop.example.com
username =  pop3_name@example.com
password = secret

[destination]
type = MDA_external
path = /usr/bin/maildrop
unixfrom = True

[options]
verbose = 0
delete = True
delivered_to = False
message_log = ~/.getmail/log/pop3_name.log</pre>
<p>И настройте его так:</p>
<pre class="screen">$ chmod 0600 $HOME/.getmail/config/*</pre>
<p>Назначьте запуск "<code class="literal">/usr/local/bin/getmails</code>" по расписанию
каждые 15 минут с помощью <code class="literal">cron</code>(8), выполнив
"<code class="literal">sudo crontab -e -u &lt;имя_пользователя&gt;</code>" и добавив
такую строчку:</p>
<pre class="screen">5,20,35,50 * * * * /usr/local/bin/getmails --quiet</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Problems of POP3 access may not come from <code class="literal">getmail</code>. Some
popular free POP3 services may be violating the POP3 protocol and their SPAM
filter may not be perfect.  For example, they may delete messages just after
receiving RETR command before receiving DELE command and may quarantined
messages into Spam mailbox.  You should minimize damages by configuring them
to archive accessed messages and not to delete them. See also <a class="ulink" href="http://mail.google.com/support/bin/answer.py?answer=13291&amp;topic=1555" target="_top">"Some mail was not downloaded"</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_fetchmail_configuration"></a>6.5.2. Настройка fetchmail</h3></div></div></div>
<p>Конфигурация <code class="literal">fetchmail</code>(1) хранится в файлах
"<code class="literal">/etc/default/fetchmail</code>",
"<code class="literal">/etc/fetchmailrc</code>" и
"<code class="literal">$HOME/.fetchmailrc</code>". Примеры смотрите в
"<code class="literal">/usr/share/doc/fetchmail/examples/fetchmailrc.example</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_mail_delivery_agent_mda_with_filter"></a>6.6. Агент доставки (MDA) с поддержкой фильтрации</h2></div></div></div>
<p>Большинство почтовых серверов (MTA), например <code class="literal">postfix</code> и
<code class="literal">exim4</code>, могут выполнять функции MDA (агента доставки
почты). Существуют также специальные агенты доставки с возможностью
фильтрации.</p>
<p>Хотя <code class="literal">procmail</code>(1) был "де факто" стандартом агента
доставки с поддержкой фильтрации, автор сейчас предпочитает
<code class="literal">maildrop</code>(1). Независимо от ваших средств фильтрации,
хорошая мысль -- настроить систему на доставку отфильтрованной почты в
каталог <a class="ulink" href="http://ru.wikipedia.org/wiki/Maildir" target="_top">Maildir в стиле qmail</a>.</p>
<div class="table">
<a name="listofmdawithfilter"></a><p class="title"><b>Таблица 6.10. Список агентов доставки (MDA) с поддержкой фильтрации</b></p>
<div class="table-contents"><table summary="Список агентов доставки (MDA) с поддержкой фильтрации" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/procmail" target="_top">
<code class="literal">procmail</code> </a> <a class="ulink" href="http://bugs.debian.org/procmail" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=procmail" target="_top">V:19, I:84</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/procmail.html" target="_top">368</a></td>
<td align="left">
    MDA с фильтрацией (старый)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mailagent" target="_top">
<code class="literal">mailagent</code> </a> <a class="ulink" href="http://bugs.debian.org/mailagent" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mailagent" target="_top">V:0.3, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mailagent.html" target="_top">1692</a></td>
<td align="left">
    MDA с фильтром на Perl
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/maildrop" target="_top">
<code class="literal">maildrop</code> </a> <a class="ulink" href="http://bugs.debian.org/maildrop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=maildrop" target="_top">V:0.3, I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/maildrop.html" target="_top">1000</a></td>
<td align="left">
    MDA со структурированным языком фильтрации
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_maildrop_configuration"></a>6.6.1. Настройка maildrop</h3></div></div></div>
<p>Настройка <code class="literal">maildrop</code>(1) описана в <a class="ulink" href="http://www.courier-mta.org/maildrop/maildropfilter.html" target="_top">документации maildropfilter</a>. Вот
пример конфигурационного файла "<code class="literal">$HOME/.mailfilter</code>".</p>
<pre class="screen"># Local configuration
MAILROOT="$HOME/Mail"
# set this to /etc/mailname contents
MAILHOST="example.dom"
logfile $HOME/.maildroplog

# rules are made to override the earlier value by the later one.

# mailing list mails ?
if (     /^Precedence:.*list/:h || /^Precedence:.*bulk/:h )
{
    # rules for mailing list mails
    # default mailbox for mails from mailing list
    MAILBOX="Inbox-list"
    # default mailbox for mails from debian.org
    if ( /^(Sender|Resent-From|Resent-Sender): .*debian.org/:h )
    {
        MAILBOX="service.debian.org"
    }
    # default mailbox for mails from bugs.debian.org (BTS)
    if ( /^(Sender|Resent-From|Resent-sender): .*@bugs.debian.org/:h )
    {
        MAILBOX="bugs.debian.org"
    }
    # mailbox for each properly maintained mailing list with "List-Id: foo" or "List-Id: ...&lt;foo.bar&gt;"
    if ( /^List-Id: ([^&lt;]*&lt;)?([^&lt;&gt;]*)&gt;?/:h )
    {
        MAILBOX="$MATCH2"
    }
}
else
{
    # rules for non-mailing list mails
    # default incoming box
    MAILBOX="Inbox-unusual"
    # local mails
    if ( /Envelope-to: .*@$MAILHOST/:h )
    {
        MAILBOX="Inbox-local"
    }
    # html mails (99% spams)
    if ( /DOCTYPE html/:b ||\
         /^Content-Type: text\/html/ )
    {
        MAILBOX="Inbox-html"
    }
    # blacklist rule for spams
    if ( /^X-Advertisement/:h ||\
         /^Subject:.*BUSINESS PROPOSAL/:h ||\
         /^Subject:.*URGENT.*ASISSTANCE/:h ||\
         /^Subject: *I NEED YOUR ASSISTANCE/:h )
    {
        MAILBOX="Inbox-trash"
    }
    # whitelist rule for normal mails
    if ( /^From: .*@debian.org/:h ||\
         /^(Sender|Resent-From|Resent-Sender): .*debian.org/:h ||\
         /^Subject: .*(debian|bug|PATCH)/:h )
    {
        MAILBOX="Inbox"
    }
    # whiltelist rule for BTS related mails
    if ( /^Subject: .*Bug#.*/:h ||\
         /^(To|Cc): .*@bugs.debian.org/:h )
    {
        MAILBOX="bugs.debian.org"
    }
    # whitelist rule for getmails cron mails
    if ( /^Subject: Cron .*getmails/:h )
    {
        MAILBOX="Inbox-getmails"
    }
}

# check existance of $MAILBOX
`test -d $MAILROOT/$MAILBOX`
if ( $RETURNCODE == 1 )
{
    # create maildir mailbox for $MAILBOX
    `maildirmake $MAILROOT/$MAILBOX`
}
# deliver to maildir $MAILBOX
to "$MAILROOT/$MAILBOX/"
exit</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>В отличие от <code class="literal">procmail</code>, <code class="literal">maildrop</code> не
создаёт недостающих каталогов maildir автоматически. Вам нужно создать их
вручную командой <code class="literal">maildirmake</code>(1), как показано в примере
"<code class="literal">$HOME/.mailfilter</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_procmail_configuration"></a>6.6.2. Настройка procmail</h3></div></div></div>
<p>Вот похожая конфигурация <code class="literal">procmail</code>(1), хранящаяся в
"<code class="literal">$HOME/.procmailrc</code>".</p>
<pre class="screen">MAILDIR=$HOME/Maildir
DEFAULT=$MAILDIR/Inbox/
LOGFILE=$MAILDIR/Maillog
# clearly bad looking mails: drop them into X-trash and exit
:0
* 1^0 ^X-Advertisement
* 1^0 ^Subject:.*BUSINESS PROPOSAL
* 1^0 ^Subject:.*URGENT.*ASISSTANCE
* 1^0 ^Subject: *I NEED YOUR ASSISTANCE
X-trash/

# Delivering mailinglist messages
:0
* 1^0 ^Precedence:.*list
* 1^0 ^Precedence:.*bulk
* 1^0 ^List-
* 1^0 ^X-Distribution:.*bulk
{
:0
* 1^0 ^Return-path:.*debian-devel-admin@debian.or.jp
jp-debian-devel/

:0
* ^Resent-Sender.*debian-user-request@lists.debian.org
debian-user/

:0
* ^Resent-Sender.*debian-devel-request@lists.debian.org
debian-devel/

:0
* ^Resent-Sender.*debian-announce-request@lists.debian.org
debian-announce

:0
mailing-list/
}

:0
Inbox/</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_redeliver_mbox_contents"></a>6.6.3. Перераспределение содержимого mbox</h3></div></div></div>
<p>You need to manually deliver mails to the sorted mailboxes in your home
directory from "<code class="literal">/var/mail/&lt;username&gt;</code>" if your home
directory became full and <code class="literal">procmail</code>(1) failed.  After
making disk space in the home directory, run the following.</p>
<pre class="screen"># /etc/init.d/${MAILDAEMON} stop
# formail -s procmail &lt;/var/mail/&lt;имя_пользователя&gt;
# /etc/init.d/${MAILDAEMON} start</pre>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_pop3_imap4_server"></a>6.7. Сервер POP3/IMAP4</h2></div></div></div>
<p>If you are to run a private server on LAN, you may consider to run <a class="ulink" href="http://ru.wikipedia.org/wiki/POP3" target="_top">POP3</a> / <a class="ulink" href="http://ru.wikipedia.org/wiki/IMAP" target="_top">IMAP4</a> server for
delivering mail to LAN clients.</p>
<div class="table">
<a name="listofpopdimapeservers"></a><p class="title"><b>Таблица 6.11. Список серверов POP3/IMAP4</b></p>
<div class="table-contents"><table summary="Список серверов POP3/IMAP4" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    тип
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/qpopper" target="_top">
<code class="literal">qpopper</code> </a> <a class="ulink" href="http://bugs.debian.org/qpopper" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=qpopper" target="_top">V:1.1, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/qpopper.html" target="_top">636</a></td>
<td align="left">
    POP3
    </td>
<td align="left">
    BSD POP3-сервер с некоторыми расширениями
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/courier-pop" target="_top">
<code class="literal">courier-pop</code> </a> <a class="ulink" href="http://bugs.debian.org/courier-pop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=courier-pop" target="_top">V:1.7, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/courier-pop.html" target="_top">244</a></td>
<td align="left">
    POP3
    </td>
<td align="left">
    почтовый сервер Courier -- POP3-сервер (поддерживается только maildir)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ipopd" target="_top"> <code class="literal">ipopd</code>
</a> <a class="ulink" href="http://bugs.debian.org/ipopd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ipopd" target="_top">V:0.11, I:0.19</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ipopd.html" target="_top">212</a></td>
<td align="left">
    POP3
    </td>
<td align="left">
    POP2 и POP3-сервер Вашингтонского университета
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cyrus-pop3d-2.2" target="_top">
<code class="literal">cyrus-pop3d-2.2</code> </a> <a class="ulink" href="http://bugs.debian.org/cyrus-pop3d-2.2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cyrus-pop3d-2.2" target="_top">V:0.18, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cyrus-pop3d-2.2.html" target="_top">852</a></td>
<td align="left">
    POP3
    </td>
<td align="left">
    почтовая система Cyrus (поддержка POP3)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xmail" target="_top"> <code class="literal">xmail</code>
</a> <a class="ulink" href="http://bugs.debian.org/xmail" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xmail" target="_top">V:0.14, I:0.17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xmail.html" target="_top">836</a></td>
<td align="left">
    POP3
    </td>
<td align="left">
    почтовый сервер ESMTP/POP3
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/courier-imap" target="_top">
<code class="literal">courier-imap</code> </a> <a class="ulink" href="http://bugs.debian.org/courier-imap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=courier-imap" target="_top">V:3, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/courier-imap.html" target="_top">1624</a></td>
<td align="left">
    IMAP
    </td>
<td align="left">
    почтовый сервер Courier -- IMAP-сервер (поддерживается только maildir)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/uw-imapd" target="_top">
<code class="literal">uw-imapd</code> </a> <a class="ulink" href="http://bugs.debian.org/uw-imapd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=uw-imapd" target="_top">V:0.7, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/uw-imapd.html" target="_top">280</a></td>
<td align="left">
    IMAP
    </td>
<td align="left">
    IMAP-сервер Вашингтонского университета
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cyrus-imapd-2.2" target="_top">
<code class="literal">cyrus-imapd-2.2</code> </a> <a class="ulink" href="http://bugs.debian.org/cyrus-imapd-2.2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cyrus-imapd-2.2" target="_top">V:0.4, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cyrus-imapd-2.2.html" target="_top">2632</a></td>
<td align="left">
    IMAP
    </td>
<td align="left">
    почтовая система Cyrus (поддержка IMAP)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_print_server_and_utility"></a>6.8. The print server and utility</h2></div></div></div>
<p>In the old Unix-like system, the BSD <a class="ulink" href="http://ru.wikipedia.org/wiki/Line_Printer_Daemon" target="_top">Line
printer daemon</a> was the standard.  Since the standard print out
format of the free software is PostScript on the Unix like system, some
filter system was used along with <a class="ulink" href="http://en.wikipedia.org/wiki/Ghostscript" target="_top">Ghostscript</a> to enable printing to the
non-PostScript printer.</p>
<p>Recently, <a class="ulink" href="http://ru.wikipedia.org/wiki/Common_UNIX_Printing_System" target="_top">Common UNIX Printing
System</a> (CUPS) is the new de facto standard.  The CUPS uses <a class="ulink" href="http://ru.wikipedia.org/wiki/Internet_Printing_Protocol" target="_top">Internet Printing Protocol</a>
(IPP). The IPP is now supported by other OSs such as Windows XP and Mac OS X
and has became new cross-platform de facto standard for remote printing with
bi-directional communication capability.</p>
<p>The standard printable data format for the application on the Debian system
is the <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PostScript (PS)</a> which is a page
description language.  The data in PS format is fed into the Ghostscript
PostScript interpreter to produce the printable data specific to the
printer.  See <a class="xref" href="#_ghostscript" title="11.3.1. Ghostscript">Раздел 11.3.1, «Ghostscript»</a>.</p>
<p>Thanks to the file format dependent auto-conversion feature of the CUPS
system, simply feeding any data to the <code class="literal">lpr</code> command should
generate the expected print output. (In CUPS, <code class="literal">lpr</code> can be
enabled by installing the <code class="literal">cups-bsd</code> package.)</p>
<p>The Debian system has some notable packages for the print servers and
utilities.</p>
<div class="table">
<a name="listofprintserversandutilities"></a><p class="title"><b>Таблица 6.12. List of print servers and utilities</b></p>
<div class="table-contents"><table summary="List of print servers and utilities" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    порт
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lpr" target="_top"> <code class="literal">lpr</code>
</a> <a class="ulink" href="http://bugs.debian.org/lpr" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lpr" target="_top">V:2, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lpr.html" target="_top">440</a></td>
<td align="left">
    printer (515)
    </td>
<td align="left">
    BSD lpr/lpd (<a class="ulink" href="http://ru.wikipedia.org/wiki/Line_Printer_Daemon" target="_top">Line printer daemon</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lprng" target="_top"> <code class="literal">lprng</code>
</a> <a class="ulink" href="http://bugs.debian.org/lprng" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lprng" target="_top">V:0.6, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lprng.html" target="_top">2904</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    , , (Enhanced)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cups" target="_top"> <code class="literal">cups</code>
</a> <a class="ulink" href="http://bugs.debian.org/cups" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cups" target="_top">V:33, I:44</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cups.html" target="_top">15492</a></td>
<td align="left">
    IPP (631)
    </td>
<td align="left">
    Internet Printing CUPS server
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cups-client" target="_top">
<code class="literal">cups-client</code> </a> <a class="ulink" href="http://bugs.debian.org/cups-client" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cups-client" target="_top">V:16, I:46</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cups-client.html" target="_top">924</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/System_V_printing_system" target="_top">System V printer commands</a> for
CUPS: <code class="literal">lp</code>(1), <code class="literal">lpstat</code>(1),
<code class="literal">lpoptions</code>(1), <code class="literal">cancel</code>(1),
<code class="literal">lpmove</code>(8), <code class="literal">lpinfo</code>(8),
<code class="literal">lpadmin</code>(8), …
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cups-bsd" target="_top">
<code class="literal">cups-bsd</code> </a> <a class="ulink" href="http://bugs.debian.org/cups-bsd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cups-bsd" target="_top">V:7, I:41</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cups-bsd.html" target="_top">420</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Line_Printer_Daemon" target="_top">BSD printer commands</a> for CUPS:
<code class="literal">lpr</code>(1), <code class="literal">lpq</code>(1),
<code class="literal">lprm</code>(1), <code class="literal">lpc</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cups-driver-gutenprint" target="_top">
<code class="literal">cups-driver-gutenprint</code> </a> <a class="ulink" href="http://bugs.debian.org/cups-driver-gutenprint" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cups-driver-gutenprint" target="_top">V:8, I:38</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cups-driver-gutenprint.html" target="_top">1212</a></td>
<td align="left">
    Not applicable
    </td>
<td align="left">
    printer drivers for CUPS
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can configure CUPS system by pointing your web browser to "<a class="ulink" href="http://localhost:631/" target="_top">http://localhost:631/</a>" .</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_remote_access_server_and_utility_ssh"></a>6.9. Сервер удалённого доступа и утилиты для него (SSH)</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/SSH" target="_top">Secure SHell</a> (SSH) -- это <span class="strong"><strong>защищённый</strong></span> способ соединения в Интернете. Свободная
версия SSH называется <a class="ulink" href="http://www.openssh.org/" target="_top">OpenSSH</a> и доступна в
пакетах <code class="literal">openssh-client</code> и
<code class="literal">openssh-server</code>.</p>
<div class="table">
<a name="listofremoteaccerverandutilities"></a><p class="title"><b>Таблица 6.13. Сервер и утилиты для удалённого доступа</b></p>
<div class="table-contents"><table summary="Сервер и утилиты для удалённого доступа" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    средство
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openssh-client" target="_top">
<code class="literal">openssh-client</code> </a> <a class="ulink" href="http://bugs.debian.org/openssh-client" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openssh-client" target="_top">V:52, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openssh-client.html" target="_top">2208</a></td>
<td align="left">
<code class="literal">ssh</code>(1)
    </td>
<td align="left">
    клиент защищённой оболочки
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openssh-server" target="_top">
<code class="literal">openssh-server</code> </a> <a class="ulink" href="http://bugs.debian.org/openssh-server" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openssh-server" target="_top">V:69, I:82</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openssh-server.html" target="_top">804</a></td>
<td align="left">
<code class="literal">sshd</code>(8)
    </td>
<td align="left">
    сервер защищённой оболочки
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ssh-askpass-fullscreen" target="_top">
<code class="literal">ssh-askpass-fullscreen</code> </a> <a class="ulink" href="http://bugs.debian.org/ssh-askpass-fullscreen" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ssh-askpass-fullscreen" target="_top">V:0.09, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/ssh-askpass-fullscreen.html" target="_top">92</a></td>
<td align="left">
<code class="literal">ssh-askpass-fullscreen</code>(1)
    </td>
<td align="left">
    запрашивает у пользователя секретную фразу (pass phrase) для ssh-add
(GNOME2)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ssh-askpass" target="_top">
<code class="literal">ssh-askpass</code> </a> <a class="ulink" href="http://bugs.debian.org/ssh-askpass" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ssh-askpass" target="_top">V:0.8, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/ssh-askpass.html" target="_top">156</a></td>
<td align="left">
<code class="literal">ssh-askpass</code>(1)
    </td>
<td align="left">
    запрашивает у пользователя секретную фразу (pass phrase) для ssh-add (X,
GUI)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Если ваш SSH-сервер доступен из Интернета, прочтите <a class="xref" href="#_extra_security_measures_for_the_internet" title="4.7.3. Особые меры безопасности в Интернете">Раздел 4.7.3, «Особые меры безопасности в Интернете»</a>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Пользуйтесь программой <code class="literal">screen</code>(1) чтобы ваша удалённая
оболочка "выживала" в случае обрывов соединения (см. <a class="xref" href="#_the_screen_program" title="9.1. Программа screen">Раздел 9.1, «Программа screen»</a>).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basics_of_ssh"></a>6.9.1. Основы SSH</h3></div></div></div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Если сервер OpenSSH должен запускаться и работать, то файл
"<code class="literal">/etc/ssh/sshd_not_to_be_run</code>" должен отсутствовать.</p>
</div>
<p>SSH поддерживает два протокола аутентификации.</p>
<div class="table">
<a name="listofsshauthenttocolsandmethods"></a><p class="title"><b>Таблица 6.14. Список протоколов и методов аутентификации в SSH</b></p>
<div class="table-contents"><table summary="Список протоколов и методов аутентификации в SSH" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    протокол SSH
    </th>
<th align="left">
    метод авторизации
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    SSH-1
    </td>
<td align="left">
    "<code class="literal">RSAAuthentication</code>"
    </td>
<td align="left">
    аутентификация по ключу RSA
    </td>
</tr>
<tr>
<td align="left">
    , ,
    </td>
<td align="left">
    "<code class="literal">RhostsAuthentication</code>"
    </td>
<td align="left">
    аутентификация по "<code class="literal">.rhosts</code>" (небезопасно, выключено)
    </td>
</tr>
<tr>
<td align="left">
    , ,
    </td>
<td align="left">
    "<code class="literal">RhostsRSAAuthentication</code>"
    </td>
<td align="left">
    аутентификация по "<code class="literal">.rhosts</code>" вместе с RSA (выключено)
    </td>
</tr>
<tr>
<td align="left">
    , ,
    </td>
<td align="left">
    "<code class="literal">ChallengeResponseAuthentication</code>"
    </td>
<td align="left">
    аутентификация вызова-ответа (challenge-response) RSA
    </td>
</tr>
<tr>
<td align="left">
    , ,
    </td>
<td align="left">
    "<code class="literal">PasswordAuthentication</code>"
    </td>
<td align="left">
    аутентификация по паролю
    </td>
</tr>
<tr>
<td align="left">
    SSH-2
    </td>
<td align="left">
    "<code class="literal">PubkeyAuthentication</code>"
    </td>
<td align="left">
    аутентификация по общедоступному ключу
    </td>
</tr>
<tr>
<td align="left">
    , ,
    </td>
<td align="left">
    "<code class="literal">HostbasedAuthentication</code>"
    </td>
<td align="left">
    "<code class="literal">~/.rhosts</code>" or "<code class="literal">/etc/hosts.equiv</code>"
based host authentication combined with public key client host
authentication (disabled)
    </td>
</tr>
<tr>
<td align="left">
    , ,
    </td>
<td align="left">
    "<code class="literal">ChallengeResponseAuthentication</code>"
    </td>
<td align="left">
    challenge-response authentication
    </td>
</tr>
<tr>
<td align="left">
    , ,
    </td>
<td align="left">
    "<code class="literal">PasswordAuthentication</code>"
    </td>
<td align="left">
    аутентификация по паролю
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Будьте внимательны к этим различиями, если используемая система -- не
Debian.</p>
</div>
<p>Подробнее смотрите в
"<code class="literal">/usr/share/doc/ssh/README.Debian.gz</code>",
<code class="literal">ssh</code>(1), <code class="literal">sshd</code>(8),
<code class="literal">ssh-agent</code>(1) и <code class="literal">ssh-keygen</code>(1).</p>
<p>Вот ключевые конфигурационные файлы.</p>
<div class="table">
<a name="listofsshconfigurationfiles"></a><p class="title"><b>Таблица 6.15. Список конфигурационных файлов SSH</b></p>
<div class="table-contents"><table summary="Список конфигурационных файлов SSH" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файл конфигурации
    </th>
<th align="left">
    описание конфигурационного файла
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">/etc/ssh/ssh_config</code>
                </td>
<td align="left">
    настройки SSH-клиента по умолчанию, см. <code class="literal">ssh_config</code>(5)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">/etc/ssh/sshd_config</code>
                </td>
<td align="left">
    конфигурация SSH-сервера по умолчанию, см. <code class="literal">sshd_config</code>(5)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">~/.ssh/authorized_keys</code>
                </td>
<td align="left">
    общедоступные ключи SSH, которые клиенты используют для соединения с этой
учётной записью на этом сервере
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">~/.ssh/identity</code>
                </td>
<td align="left">
    секретный ключ SSH-1 RSA этого пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">~/.ssh/id_rsa</code>
                </td>
<td align="left">
    секретный ключ SSH-2 RSA этого пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">~/.ssh/id_dsa</code>
                </td>
<td align="left">
    секретный ключ SSH-2 DSQ этого пользователя
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>О том, как использовать общедоступные и секретные ключи SSH читайте в
<code class="literal">ssh-keygen</code>(1), <code class="literal">ssh-add</code>(1) и
<code class="literal">ssh-agent</code>(1).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Внимательно перепроверяйте настройки -- тестируйте соединение. В случае
любых проблем используйте "<code class="literal">ssh -v</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can change the pass phrase to encrypt local secret SSH keys later with
"<code class="literal">ssh-keygen -p</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can add options to the entries in
"<code class="literal">~/.ssh/authorized_keys</code>" to limit hosts and to run
specific commands.  See <code class="literal">sshd</code>(8) for details.</p>
</div>
<p>The following starts an <code class="literal">ssh</code>(1) connection from a client.</p>
<div class="table">
<a name="listofsshclientstartupexamples"></a><p class="title"><b>Таблица 6.16. Список примеров запуска SSH-клиента</b></p>
<div class="table-contents"><table summary="Список примеров запуска SSH-клиента" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">ssh username@hostname.domain.ext</code>
                </td>
<td align="left">
    соединиться в режиме по умолчанию
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ssh -v username@hostname.domain.ext</code>
                </td>
<td align="left">
    соединиться в режиме по умолчанию с выводом отладочных сообщений
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ssh -1 username@hostname.domain.ext</code>
                </td>
<td align="left">
    принудительно использовать протокол первой версии для соединения 
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ssh -1 -o RSAAuthentication=no -l username
hostname.domain.ext</code>
                </td>
<td align="left">
    использовать SSH первой версии, авторизоваться по паролю
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">ssh -o PreferredAuthentications=password -l username
hostname.domain.ext</code>
                </td>
<td align="left">
    использовать SSH-2, авторизоваться по паролю
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>If you use the same user name on the local and the remote host, you can
eliminate typing "<code class="literal">username@</code>".  Even if you use different
user name on the local and the remote host, you can eliminate it using
"<code class="literal">~/.ssh/config</code>".  For <a class="ulink" href="http://alioth.debian.org/" target="_top">Debian Alioth service</a> with account name
"<code class="literal">foo-guest</code>", you set "<code class="literal">~/.ssh/config</code>"
to contain the following.</p>
<pre class="screen">Host alioth.debian.org svn.debian.org git.debian.org
    User foo-guest</pre>
<p>For the user, <code class="literal">ssh</code>(1) functions as a smarter and more
secure <code class="literal">telnet</code>(1).  Unlike <code class="literal">telnet</code>
command, <code class="literal">ssh</code> command does not bomb on the
<code class="literal">telnet</code> escape character (initial default CTRL-]).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_port_forwarding_for_smtp_pop3_tunneling"></a>6.9.2. Port forwarding for SMTP/POP3 tunneling</h3></div></div></div>
<p>To establish a pipe to connect to port 25 of
<code class="literal">remote-server</code> from port 4025 of
<code class="literal">localhost</code>, and to port 110 of
<code class="literal">remote-server</code> from port 4110 of
<code class="literal">localhost</code> through <code class="literal">ssh</code>, execute on the
local host as the following.</p>
<pre class="screen"># ssh -q -L 4025:remote-server:25 4110:remote-server:110 username@remote-server</pre>
<p>This is a secure way to make connections to SMTP/POP3 servers over the
Internet.  Set the "<code class="literal">AllowTcpForwarding</code>" entry to
"<code class="literal">yes</code>" in "<code class="literal">/etc/ssh/sshd_config</code>" of the
remote host.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_connecting_without_remote_passwords"></a>6.9.3. Соединение без ввода пароля</h3></div></div></div>
<p>Можно избавиться от запоминания паролей удалённых систем, если использовать
"<code class="literal">RSAAuthentication</code>" (для SSH-1) или
<code class="literal">RSAAuthentication</code>" (для SSH-2).</p>
<p>Добавьте в файл "<code class="literal">/etc/ssh/sshd_config</code>" удалённой системы
соответствующие настройки: "<code class="literal">RSAAuthentication yes</code>" или
"<code class="literal">PubkeyAuthentication yes</code>".</p>
<p>Сгенерируйте ключи аутентификации локально и установите общедоступный ключ
(public key) на удалённую систему так:</p>
<div class="itemizedlist"><ul type="disc"><li>
"<code class="literal">RSAAuthentication</code>": ключ RSA для SSH-1 (осуждается,
вытеснено другими методами)
</li></ul></div>
<pre class="screen">$ ssh-keygen
$ cat .ssh/identity.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</pre>
<div class="itemizedlist"><ul type="disc"><li>
"<code class="literal">PubkeyAuthentication</code>": ключ RSA для SSH-2
</li></ul></div>
<pre class="screen">$ ssh-keygen -t rsa
$ cat .ssh/id_rsa.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</pre>
<div class="itemizedlist"><ul type="disc"><li>
"<code class="literal">PubkeyAuthentication</code>": ключ DSA для SSH-2 (осуждается за
низкую скорость)
</li></ul></div>
<pre class="screen">$ ssh-keygen -t dsa
$ cat .ssh/id_dsa.pub | ssh user1@remote "cat - &gt;&gt;.ssh/authorized_keys"</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Ключи DSA для SSH-2 меньше и они медленные. К тому же нет больше причин
"обходить" патент RSA, который завершился. DSA означает <a class="ulink" href="http://ru.wikipedia.org/wiki/DSA" target="_top">Digital Signature Algorithm</a>, он
медленный. См. также <a class="ulink" href="http://www.debian.org/security/2008/dsa-1571" target="_top">DSA-1571-1</a>.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Чтобы "<code class="literal">HostbasedAuthentication</code>" работала в SSH-2, нужно
установить параметр <code class="literal">HostbasedAuthentication</code>" в значение
"<code class="literal">yes</code>" в файлах "<code class="literal">/etc/ssh/sshd_config</code>"
на сервере и "<code class="literal">/etc/ssh/ssh_config</code>" или
"<code class="literal">~/.ssh/config</code>" на узле клиента.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_dealing_with_alien_ssh_clients"></a>6.9.4. SSH-клиенты для других ОС</h3></div></div></div>
<p>Существуют несколько свободных <a class="ulink" href="http://ru.wikipedia.org/wiki/SSH" target="_top">SSH</a>-клиентов для
других платформ.</p>
<div class="table">
<a name="listoffreesshcliorotherplatforms"></a><p class="title"><b>Таблица 6.17. Список свободных SSH-клиентов для других платформ</b></p>
<div class="table-contents"><table summary="Список свободных SSH-клиентов для других платформ" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    окружение
    </th>
<th align="left">
    свободная программа SSH
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    Windows
    </td>
<td align="left">
    puTTY (<a class="ulink" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/" target="_top">http://www.chiark.greenend.org.uk/~sgtatham/putty/</a>)
(GPL)
    </td>
</tr>
<tr>
<td align="left">
    Windows (cygwin)
    </td>
<td align="left">
    SSH в cygwin (<a class="ulink" href="http://www.cygwin.com/" target="_top">http://www.cygwin.com/</a>) (GPL)
    </td>
</tr>
<tr>
<td align="left">
    Macintosh Classic
    </td>
<td align="left">
    macSSH (<a class="ulink" href="http://www.macssh.com/" target="_top">http://www.macssh.com/</a>)
(GPL)
    </td>
</tr>
<tr>
<td align="left">
    Mac OS X
    </td>
<td align="left">
    OpenSSH; используйте <code class="literal">ssh</code> в приложении "Terminal" (GPL)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_setting_up_ssh_agent"></a>6.9.5. Настройка ssh-agent</h3></div></div></div>
<p>Безопасней защитить ваши секретные ключи SSH с помощью секретной фразы (pass
phrase). Если такой фразы пока нет, создайте её командой
"<code class="literal">ssh-keygen -p</code>".</p>
<p>Поместите ваш общедоступный ключ SSH (то есть
"<code class="literal">~/.ssh/id_rsa.pub</code>") в файл
"<code class="literal">~/.ssh/authorized_keys</code>" удалённого узла, соединившись
сперва с авторизацией по паролю:</p>
<pre class="screen">$ ssh-agent bash
$ ssh-add ~/.ssh/id_rsa
Enter passphrase for /home/&lt;имя_пользователя&gt;/.ssh/id_rsa:
Identity added: /home/&lt;имя_пользователя&gt;/.ssh/id_rsa (/home/&lt;имя_пользователя&gt;/.ssh/id_rsa)</pre>
<p>Теперь ввод пароля не нужен для такой, например, команды:</p>
<pre class="screen">$ scp foo &lt;имя_пользователя&gt;@адрес.удалённого.узла:foo</pre>
<p>Для завершения сессии ssh-agent нажмите ^D.</p>
<p>В Debian сценарий запуска X-сессии выполняет команду
<code class="literal">ssh-agent</code> в качестве родительского процесса. Так что вам
остаётся только единожды за сессию выполнить команду
<code class="literal">ssh-add</code>. Подробности смотрите в
<code class="literal">ssh-agent</code>(1) и <code class="literal">ssh-add</code>(1).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_how_to_shutdown_the_remote_system_on_ssh"></a>6.9.6. Как выключить удалённую систему по SSH</h3></div></div></div>
<p>Вам нужно защитить процесс, в котором выполняется команда "<code class="literal">shutdown
-h now</code>" (см. <a class="xref" href="#_how_to_shutdown_the_system" title="1.1.8. Как выключить систему">Раздел 1.1.8, «Как выключить систему»</a>) от
завершения SSH-сессии с помощью <code class="literal">at</code>(1) (см. <a class="xref" href="#_scheduling_tasks_once" title="9.5.13. Установка времени однократного запуска программы">Раздел 9.5.13, «Установка времени однократного запуска программы»</a>).</p>
<pre class="screen"># echo "shutdown -h now" | at now</pre>
<p>Другой способ -- выполнить "<code class="literal">shutdown -h now</code>" в
<code class="literal">screen</code>(1) (см. <a class="xref" href="#_the_screen_program" title="9.1. Программа screen">Раздел 9.1, «Программа screen»</a>).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_troubleshooting_ssh"></a>6.9.7. Решение трудностей с SSH</h3></div></div></div>
<p>Если возникают проблемы, проверьте разрешения конфигурационных файлов и
запустите <code class="literal">ssh</code> с ключом "<code class="literal">-v</code>".</p>
<p>Если вы -- суперпользователь, и возникают проблемы с фаерволом, попробуйте
ключ "<code class="literal">-P</code>", чтобы не использовать привилегированные порты
1 -- 1023.</p>
<p>Если <code class="literal">ssh</code>-соединение с удалённым узлом вдруг перестаёт
устанавливаться, это может быть делом рук тамошнего системного
администратора, вероятно, изменившего "<code class="literal">host_key</code>" в
процессе своей работы. Убедившись, что вероятная причина именно в этом (а не
в чьей-то хитроумной попытке "подменить" собой удалённый узел), можно
восстановить работоспособность, удалив из локального файла
"<code class="literal">~/.ssh/known_hosts</code>" запись "<code class="literal">host_key</code>"
удалённого узла.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_other_network_application_servers"></a>6.10. Другие серверы сетевых приложений</h2></div></div></div>
<p>Вот список других серверов сетевых приложений.</p>
<div class="table">
<a name="listofothernetwoplicationservers"></a><p class="title"><b>Таблица 6.18. Список других серверов сетевых приложений</b></p>
<div class="table-contents"><table summary="Список других серверов сетевых приложений" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    протокол
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/telnetd" target="_top">
<code class="literal">telnetd</code> </a> <a class="ulink" href="http://bugs.debian.org/telnetd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=telnetd" target="_top">V:0.4, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/telnetd.html" target="_top">156</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Telnet" target="_top">TELNET</a>
              </td>
<td align="left">
    TELNET-сервер
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/telnetd-ssl" target="_top">
<code class="literal">telnetd-ssl</code> </a> <a class="ulink" href="http://bugs.debian.org/telnetd-ssl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=telnetd-ssl" target="_top">V:0.12, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/telnetd-ssl.html" target="_top">152</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    , , (SSL support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/nfs-kernel-server" target="_top">
<code class="literal">nfs-kernel-server</code> </a> <a class="ulink" href="http://bugs.debian.org/nfs-kernel-server" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=nfs-kernel-server" target="_top">V:12, I:22</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/nfs-kernel-server.html" target="_top">412</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Network_File_System" target="_top">NFS</a>
              </td>
<td align="left">
    Unix file sharing
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/samba" target="_top"> <code class="literal">samba</code>
</a> <a class="ulink" href="http://bugs.debian.org/samba" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=samba" target="_top">V:18, I:32</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/samba.html" target="_top">23288</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/SMB" target="_top">SMB</a>
              </td>
<td align="left">
    Windows file and printer sharing
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/netatalk" target="_top">
<code class="literal">netatalk</code> </a> <a class="ulink" href="http://bugs.debian.org/netatalk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=netatalk" target="_top">V:5, I:9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/netatalk.html" target="_top">3392</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/AppleTalk" target="_top">ATP</a>
              </td>
<td align="left">
    Apple/Mac file and printer sharing (AppleTalk)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/proftpd-basic" target="_top">
<code class="literal">proftpd-basic</code> </a> <a class="ulink" href="http://bugs.debian.org/proftpd-basic" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=proftpd-basic" target="_top">V:6, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/proftpd-basic.html" target="_top">4064</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/FTP" target="_top">FTP</a>
              </td>
<td align="left">
    General file download
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wu-ftpd" target="_top">
<code class="literal">wu-ftpd</code> </a> <a class="ulink" href="http://bugs.debian.org/wu-ftpd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wu-ftpd" target="_top">V:0.4, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wu-ftpd.html" target="_top">820</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apache2-mpm-prefork" target="_top">
<code class="literal">apache2-mpm-prefork</code> </a> <a class="ulink" href="http://bugs.debian.org/apache2-mpm-prefork" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apache2-mpm-prefork" target="_top">V:38, I:43</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apache2-mpm-prefork.html" target="_top">68</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/HTTP" target="_top">HTTP</a>
              </td>
<td align="left">
    Web-сервер общего назначения
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apache2-mpm-worker" target="_top">
<code class="literal">apache2-mpm-worker</code> </a> <a class="ulink" href="http://bugs.debian.org/apache2-mpm-worker" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apache2-mpm-worker" target="_top">V:6, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apache2-mpm-worker.html" target="_top">68</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/squid" target="_top"> <code class="literal">squid</code>
</a> <a class="ulink" href="http://bugs.debian.org/squid" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=squid" target="_top">V:6, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/squid.html" target="_top">1848</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80" target="_top">Прокси-сервер</a> общего назначения
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/squid3" target="_top">
<code class="literal">squid3</code> </a> <a class="ulink" href="http://bugs.debian.org/squid3" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=squid3" target="_top">V:1.5, I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/squid3.html" target="_top">3700</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/slpd" target="_top"> <code class="literal">slpd</code>
</a> <a class="ulink" href="http://bugs.debian.org/slpd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=slpd" target="_top">V:0.17, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/slpd.html" target="_top">180</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Service_Location_Protocol" target="_top">SLP</a>
              </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/LDAP" target="_top">LDAP</a>-сервер <a class="ulink" href="http://www.openslp.org/" target="_top">OpenSLP</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bind9" target="_top"> <code class="literal">bind9</code>
</a> <a class="ulink" href="http://bugs.debian.org/bind9" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bind9" target="_top">V:10, I:17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bind9.html" target="_top">1068</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/DNS" target="_top">DNS</a>
              </td>
<td align="left">
    сообщает IP-адреса и доменные имена других узлов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dhcp3-server" target="_top">
<code class="literal">dhcp3-server</code> </a> <a class="ulink" href="http://bugs.debian.org/dhcp3-server" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dhcp3-server" target="_top">V:5, I:10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dhcp3-server.html" target="_top">60</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/DHCP" target="_top">DHCP</a>
              </td>
<td align="left">
    выдача IP-адресов клиентам
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Common Internet File System Protocol (CIFS) is the same protocol as <a class="ulink" href="http://ru.wikipedia.org/wiki/SMB" target="_top">Server Message Block (SMB)</a> and is used
widely by Microsoft Windows.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Use of proxy server such as <code class="literal">squid</code> is much more efficient
for saving bandwidth than use of local mirror server with the full Debian
archive contents.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_other_network_application_clients"></a>6.11. Другие клиенты сетевых приложений</h2></div></div></div>
<p>Вот список других клиентов сетевых приложений.</p>
<div class="table">
<a name="listofnetworkapplicationclients"></a><p class="title"><b>Таблица 6.19. Список клиентов сетевых приложений</b></p>
<div class="table-contents"><table summary="Список клиентов сетевых приложений" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    протокол
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/netcat" target="_top">
<code class="literal">netcat</code> </a> <a class="ulink" href="http://bugs.debian.org/netcat" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=netcat" target="_top">I:31</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/netcat.html" target="_top">36</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/TCP/IP" target="_top">TCP/IP</a>
              </td>
<td align="left">
    TCP/IP swiss army knife
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openssl" target="_top">
<code class="literal">openssl</code> </a> <a class="ulink" href="http://bugs.debian.org/openssl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openssl" target="_top">V:54, I:91</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openssl.html" target="_top">2376</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/TLS" target="_top">SSL</a>
              </td>
<td align="left">
    Secure Socket Layer (SSL) binary and related cryptographic tools
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/stunnel4" target="_top">
<code class="literal">stunnel4</code> </a> <a class="ulink" href="http://bugs.debian.org/stunnel4" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=stunnel4" target="_top">V:0.6, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/stunnel4.html" target="_top">512</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    universal SSL Wrapper
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/telnet" target="_top">
<code class="literal">telnet</code> </a> <a class="ulink" href="http://bugs.debian.org/telnet" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=telnet" target="_top">V:14, I:89</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/telnet.html" target="_top">200</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Telnet" target="_top">TELNET</a>
              </td>
<td align="left">
    TELNET-клиент
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/telnet-ssl" target="_top">
<code class="literal">telnet-ssl</code> </a> <a class="ulink" href="http://bugs.debian.org/telnet-ssl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=telnet-ssl" target="_top">V:0.3, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/telnet-ssl.html" target="_top">208</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    , , (SSL support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/nfs-common" target="_top">
<code class="literal">nfs-common</code> </a> <a class="ulink" href="http://bugs.debian.org/nfs-common" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=nfs-common" target="_top">V:48, I:81</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/nfs-common.html" target="_top">660</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Network_File_System" target="_top">NFS</a>
              </td>
<td align="left">
    Unix file sharing
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/smbclient" target="_top">
<code class="literal">smbclient</code> </a> <a class="ulink" href="http://bugs.debian.org/smbclient" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=smbclient" target="_top">V:5, I:36</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/smbclient.html" target="_top">45328</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/SMB" target="_top">SMB</a>
              </td>
<td align="left">
    MS Windows file and printer sharing client
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/smbfs" target="_top"> <code class="literal">smbfs</code>
</a> <a class="ulink" href="http://bugs.debian.org/smbfs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=smbfs" target="_top">V:4, I:24</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/smbfs.html" target="_top">56</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    (от)монтирование удалённых каталогов MS Windows
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ftp" target="_top"> <code class="literal">ftp</code>
</a> <a class="ulink" href="http://bugs.debian.org/ftp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ftp" target="_top">V:9, I:85</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/ftp.html" target="_top">168</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/FTP" target="_top">FTP</a>
              </td>
<td align="left">
    FTP-клиент
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lftp" target="_top"> <code class="literal">lftp</code>
</a> <a class="ulink" href="http://bugs.debian.org/lftp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lftp" target="_top">V:1.4, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lftp.html" target="_top">1876</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ncftp" target="_top"> <code class="literal">ncftp</code>
</a> <a class="ulink" href="http://bugs.debian.org/ncftp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ncftp" target="_top">V:1.5, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/ncftp.html" target="_top">1276</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    полноэкранный FTP-клиент
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wget" target="_top"> <code class="literal">wget</code>
</a> <a class="ulink" href="http://bugs.debian.org/wget" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wget" target="_top">V:28, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wget.html" target="_top">2364</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/HTTP" target="_top">HTTP</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/FTP" target="_top">FTP</a>
    </td>
<td align="left">
    программа загрузки файлов из сети
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/curl" target="_top"> <code class="literal">curl</code>
</a> <a class="ulink" href="http://bugs.debian.org/curl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=curl" target="_top">V:7, I:22</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/curl.html" target="_top">348</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bind9-host" target="_top">
<code class="literal">bind9-host</code> </a> <a class="ulink" href="http://bugs.debian.org/bind9-host" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bind9-host" target="_top">V:42, I:91</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bind9-host.html" target="_top">188</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/DNS" target="_top">DNS</a>
              </td>
<td align="left">
<code class="literal">host</code>(1) из bind9, "<code class="literal">Priority: standard</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dnsutils" target="_top">
<code class="literal">dnsutils</code> </a> <a class="ulink" href="http://bugs.debian.org/dnsutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dnsutils" target="_top">V:14, I:90</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dnsutils.html" target="_top">408</a></td>
<td align="left">
    , ,
    </td>
<td align="left">
<code class="literal">dig</code>(1) из bind, "<code class="literal">Priority: standard</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dhcp3-client" target="_top">
<code class="literal">dhcp3-client</code> </a> <a class="ulink" href="http://bugs.debian.org/dhcp3-client" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dhcp3-client" target="_top">V:35, I:94</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dhcp3-client.html" target="_top">60</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/DHCP" target="_top">DHCP</a>
              </td>
<td align="left">
    получение IP-адреса
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ldap-utils" target="_top">
<code class="literal">ldap-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/ldap-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ldap-utils" target="_top">V:1.9, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/ldap-utils.html" target="_top">672</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/LDAP" target="_top">LDAP</a>
              </td>
<td align="left">
    получение данных с сервера LDAP
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_diagnosis_of_the_system_daemons"></a>6.12. Диагностика сетевых служб</h2></div></div></div>
<p>Программа <code class="literal">telnet</code> позволяет вручную подключаться к сетевым
службам для диагностики.</p>
<p>Так можно протестировать службу <a class="ulink" href="http://ru.wikipedia.org/wiki/POP3" target="_top">POP3</a> без
шифрования:</p>
<pre class="screen">$ telnet mail.ispname.net pop3</pre>
<p>А так можно протестировать службу <a class="ulink" href="http://ru.wikipedia.org/wiki/POP3" target="_top">POP3</a> с
шифрованием <a class="ulink" href="http://ru.wikipedia.org/wiki/TLS" target="_top">TLS</a>/SSL (для этого нужен
<code class="literal">telnet</code>-клиент из пакетов <code class="literal">telnet-ssl</code>
или <code class="literal">openssl</code>):</p>
<pre class="screen">$ telnet -z ssl pop.gmail.com 995</pre>
<pre class="screen">$ openssl s_client -connect pop.gmail.com:995</pre>
<p>Из следующих <a class="ulink" href="http://www.ietf.org/rfc.html" target="_top">RFCs</a> можно почерпнуть необходимые
знания о различных системных службах.</p>
<div class="table">
<a name="listofpopularrfcs"></a><p class="title"><b>Таблица 6.20. Список широко известных RFC</b></p>
<div class="table-contents"><table summary="Список широко известных RFC" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    RFC
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://tools.ietf.org/html/rfc1939" target="_top">rfc1939</a> и <a class="ulink" href="http://tools.ietf.org/html/rfc2449" target="_top">rfc2449</a>
    </td>
<td align="left">служба <a class="ulink" href="http://ru.wikipedia.org/wiki/POP3" target="_top">POP3</a>
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://tools.ietf.org/html/rfc3501" target="_top">rfc3501</a>
              </td>
<td align="left">служба <a class="ulink" href="http://ru.wikipedia.org/wiki/IMAP" target="_top">IMAP4</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://tools.ietf.org/html/rfc2821" target="_top">rfc2821</a> (<a class="ulink" href="http://tools.ietf.org/html/rfc821" target="_top">rfc821</a>)
    </td>
<td align="left">служба <a class="ulink" href="http://ru.wikipedia.org/wiki/SMTP" target="_top">SMTP</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://tools.ietf.org/html/rfc2822" target="_top">rfc2822</a> (<a class="ulink" href="http://tools.ietf.org/html/rfc822" target="_top">rfc822</a>)
    </td>
<td align="left">
    Формат почтового файла
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://tools.ietf.org/html/rfc2045" target="_top">rfc2045</a>
              </td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/MIME" target="_top">Multipurpose Internet Mail
Extensions (MIME)</a>
              </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://tools.ietf.org/html/rfc819" target="_top">rfc819</a>
              </td>
<td align="left">служба <a class="ulink" href="http://ru.wikipedia.org/wiki/DNS" target="_top">DNS</a>
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://tools.ietf.org/html/rfc2616" target="_top">rfc2616</a>
              </td>
<td align="left">служба <a class="ulink" href="http://ru.wikipedia.org/wiki/HTTP" target="_top">HTTP</a>
    </td>
</tr>
<tr>
<td align="left">
                <a class="ulink" href="http://tools.ietf.org/html/rfc2396" target="_top">rfc2396</a>
              </td>
<td align="left">определение <a class="ulink" href="http://ru.wikipedia.org/wiki/URI" target="_top">URI</a>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Номера портов и имена служб есть в "<code class="literal">/etc/services</code>".</p>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_the_x_window_system"></a>Глава 7. Система X Window</h2></div></div></div>
<p>Система <a class="ulink" href="http://ru.wikipedia.org/wiki/X_Window_System" target="_top">X Window</a>, входящая в Debian,
основана на исходных текстах <a class="ulink" href="http://www.x.org/" target="_top">X.Org</a>. По состоянию
на июль 2009, использовались версии: X11R7.1(etch), X11R7.3(lenny),
X11R7.3(squeeze) и X11R7.4(sid).</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_key_packages"></a>7.1. Ключевые пакеты</h2></div></div></div>
<p>Вот несколько (мета)пакетов, упрощающих установку</p>
<div class="table">
<a name="listofkeymetapackagesforxwindow"></a><p class="title"><b>Таблица 7.1. Список ключевых (мета)пакетов X Window</b></p>
<div class="table-contents"><table summary="Список ключевых (мета)пакетов X Window" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    (мета)пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xorg" target="_top"> <code class="literal">xorg</code>
</a> <a class="ulink" href="http://bugs.debian.org/xorg" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xorg" target="_top">I:44</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xorg.html" target="_top">72</a></td>
<td align="left">
    библиотеки, X-сервер, набор шрифтов, основные X-клиенты и вспомогательные
программы (мета-пакет)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xserver-xorg" target="_top">
<code class="literal">xserver-xorg</code> </a> <a class="ulink" href="http://bugs.debian.org/xserver-xorg" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xserver-xorg" target="_top">V:31, I:51</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xserver-xorg.html" target="_top">228</a></td>
<td align="left">
    все пакеты и драйвера графической системы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xbase-clients" target="_top">
<code class="literal">xbase-clients</code> </a> <a class="ulink" href="http://bugs.debian.org/xbase-clients" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xbase-clients" target="_top">V:4, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xbase-clients.html" target="_top">132</a></td>
<td align="left">
    набор разнообразных X-клиентов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/x11-common" target="_top">
<code class="literal">x11-common</code> </a> <a class="ulink" href="http://bugs.debian.org/x11-common" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=x11-common" target="_top">V:42, I:92</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/x11-common.html" target="_top">568</a></td>
<td align="left">
    основные файлы и каталоги системы X Window
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xorg-docs" target="_top">
<code class="literal">xorg-docs</code> </a> <a class="ulink" href="http://bugs.debian.org/xorg-docs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xorg-docs" target="_top">I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xorg-docs.html" target="_top">5124</a></td>
<td align="left">
    различная документация для набора ПО из X.Org
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/menu" target="_top"> <code class="literal">menu</code>
</a> <a class="ulink" href="http://bugs.debian.org/menu" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=menu" target="_top">V:29, I:52</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/menu.html" target="_top">2060</a></td>
<td align="left">
    включает в меню Debian все поддерживающие его приложения
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gksu" target="_top"> <code class="literal">gksu</code>
</a> <a class="ulink" href="http://bugs.debian.org/gksu" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gksu" target="_top">V:24, I:47</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gksu.html" target="_top">112</a></td>
<td align="left">
    графический интерфейс для <code class="literal">su</code>(1) или
<code class="literal">sudo</code>(8) (Gtk+)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/menu-xdg" target="_top">
<code class="literal">menu-xdg</code> </a> <a class="ulink" href="http://bugs.debian.org/menu-xdg" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=menu-xdg" target="_top">I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/menu-xdg.html" target="_top">76</a></td>
<td align="left">
    преобразует описания меню Debian в формат xdg от <a class="ulink" href="http://ru.wikipedia.org/wiki/Freedesktop.org" target="_top">freedesktop.org</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xdg-utils" target="_top">
<code class="literal">xdg-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/xdg-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xdg-utils" target="_top">V:15, I:46</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xdg-utils.html" target="_top">292</a></td>
<td align="left">
    средства интеграции приложений в среду рабочего стола от <a class="ulink" href="http://ru.wikipedia.org/wiki/Freedesktop.org" target="_top">freedesktop.org</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnome-desktop-environment" target="_top">
<code class="literal">gnome-desktop-environment</code> </a> <a class="ulink" href="http://bugs.debian.org/gnome-desktop-environment" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnome-desktop-environment" target="_top">I:29</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnome-desktop-environment.html" target="_top">44</a></td>
<td align="left">
    стандартная среда рабочего стола <a class="ulink" href="http://ru.wikipedia.org/wiki/GNOME" target="_top">GNOME</a>
(мета-пакет)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kde-standard" target="_top">
<code class="literal">kde-standard</code> </a> <a class="ulink" href="http://bugs.debian.org/kde-standard" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kde-standard" target="_top">I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kde-standard.html" target="_top">36</a></td>
<td align="left">
    среда рабочего стола <a class="ulink" href="http://ru.wikipedia.org/wiki/KDE" target="_top">KDE</a> (мета-пакет)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xfce4" target="_top"> <code class="literal">xfce4</code>
</a> <a class="ulink" href="http://bugs.debian.org/xfce4" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xfce4" target="_top">I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xfce4.html" target="_top">40</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Xfce" target="_top">Xfce</a> -- легковесная графическая среда
(мета-пакет)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lxde-core" target="_top">
<code class="literal">lxde-core</code> </a> <a class="ulink" href="http://bugs.debian.org/lxde-core" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lxde-core" target="_top">I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lxde-core.html" target="_top">36</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/LXDE" target="_top">LXDE</a> -- легковесная графическая среда
(мета-пакет)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fluxbox" target="_top">
<code class="literal">fluxbox</code> </a> <a class="ulink" href="http://bugs.debian.org/fluxbox" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fluxbox" target="_top">V:0.9, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fluxbox.html" target="_top">4424</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Fluxbox" target="_top">Fluxbox</a> -- гибкий и нетребовательный к
ресурсам <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80_%D0%BE%D0%BA%D0%BE%D0%BD_X_Window_System" target="_top">оконный менеджер</a>
</td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Основы X Window описаны в <code class="literal">X</code>(7) и <a class="ulink" href="http://www.tldp.org/HOWTO/XWindow-User-HOWTO.html" target="_top">LDP XWindow-User-HOWTO</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_setting_up_desktop_environment"></a>7.2. Настройка среды рабочего стола</h2></div></div></div>
<p>Обычно <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D1%80%D0%B5%D0%B4%D0%B0_%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B3%D0%BE_%D1%81%D1%82%D0%BE%D0%BB%D0%B0" target="_top">среда рабочего стола</a>
представляет собой комбинацию <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80_%D0%BE%D0%BA%D0%BE%D0%BD_X_Window_System" target="_top">оконного
менеджера</a>, файлового менеджера и набора совместимых вспомогательных
программ.</p>
<p>Вы можете установить полную <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D1%80%D0%B5%D0%B4%D0%B0_%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B3%D0%BE_%D1%81%D1%82%D0%BE%D0%BB%D0%B0" target="_top">среду рабочего
стола</a>, например, <a class="ulink" href="http://ru.wikipedia.org/wiki/GNOME" target="_top">GNOME</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/KDE" target="_top">KDE</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Xfce" target="_top">Xfce</a> или <a class="ulink" href="http://ru.wikipedia.org/wiki/LXDE" target="_top">LXDE</a> с помощью меню задач (Task menu) aptitude.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Task menu may be out of sync with the latest package transition state under
Debian <code class="literal">unstable</code>/<code class="literal">testing</code>
environment. In such situation, you need to deselect some (meta)packages
listed under <code class="literal">aptitude</code>(8) task menu to avoid package
conflicts.  When deselecting (meta)packages, you must select certain
packages providing their dependencies manually to avoid them deleted
automatically.</p>
</div>
<p>В качестве альтернативного варианта вы можете вручную настроить простую
среду, содержащую только <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80_%D0%BE%D0%BA%D0%BE%D0%BD_X_Window_System" target="_top">оконный
менеджер</a>, например, <a class="ulink" href="http://ru.wikipedia.org/wiki/Fluxbox" target="_top">Fluxbox</a>.</p>
<p>Cписок оконных менеджеров для X Window и ссылки на руководства по их
использованию смотрите <a class="ulink" href="http://www.xwinman.org" target="_top">здесь</a>.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_debian_menu"></a>7.2.1. Меню Debian</h3></div></div></div>
<p><a class="ulink" href="http://www.debian.org/doc/packaging-manuals/menu.html/" target="_top">Меню Debian</a> предлагает общий
интерфейс для графических и консольных приложений -- команду
<code class="literal">update-menus</code>(1) из пакета <code class="literal">menu</code>. Каждый
пакет устанавливает свои данные для меню в
"<code class="literal">/usr/share/menu/</code>".
См. <code class="literal">/usr/share/menu/</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_freedesktop_org_menu"></a>7.2.2. Меню Freedesktop.org</h3></div></div></div>
<p>Каждый пакет, совместимый с системой меню xdg от Freedesktop.org,
устанавливает свои файлы с именами "<code class="literal">*.desktop</code>" в каталог
"<code class="literal">/usr/share/applications/</code>". Современные среды окружения,
совместимые с этим стандартом Freedektop.org, создают из этих файлов свои
меню с помощью пакета
<code class="literal">xdg-utils</code>.
См. "<code class="literal">/usr/share/doc/xdg-utils/README</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_debian_menu_under_gnome_desktop_environment"></a>7.2.3. Меню Debian в среде GNOME</h3></div></div></div>
<p>Чтобы получить традиционное меню Debian в среде GNOME, нужно установить
пакет <code class="literal">menu-xdg</code>, затем зайти в меню "Система" --
"Параметры" -- "Главное меню" ("System" -- "Preference" -- "Main Menu") и
выбрать "Debian".</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Похожие действия могут потребоваться и в других окружениях рабочего стола,
соответствующих стандарту Freedesktop.org.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_server_client_relationship"></a>7.3. Отношения сервера и клиента</h2></div></div></div>
<p>Система X Window состоит из набора серверных и клиентских программ. Значения
слов <span class="strong"><strong>сервер</strong></span> и <span class="strong"><strong>клиент</strong></span> требуют здесь особого внимания в своих
смыслах <span class="strong"><strong>локальный</strong></span> и <span class="strong"><strong>удалённый</strong></span>.</p>
<div class="table">
<a name="listofserverclientterminology"></a><p class="title"><b>Таблица 7.2. Список терминологии X Window с точки зрения клиента и сервера</b></p>
<div class="table-contents"><table summary="Список терминологии X Window с точки зрения клиента и сервера" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    тип
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                <span class="strong"><strong>X-сервер</strong></span>
              </td>
<td align="left">
    программа, работающая на <span class="strong"><strong>локальной
системе</strong></span>, к которой подключен дисплей и устройства ввода
пользователя
    </td>
</tr>
<tr>
<td align="left">
                <span class="strong"><strong>X-клиент</strong></span>
              </td>
<td align="left">
    программа, работающая на <span class="strong"><strong>удалённой
системе</strong></span>, обрабатывающей данные и соединённой с X-сервером
    </td>
</tr>
<tr>
<td align="left">
                <span class="strong"><strong>сервер приложения</strong></span>
              </td>
<td align="left">
    программа, работающая на <span class="strong"><strong>удалённой
системе</strong></span>, обрабатывающей данные и соединённой с клиентами
    </td>
</tr>
<tr>
<td align="left">
                <span class="strong"><strong>клиент приложения</strong></span>
              </td>
<td align="left">
    программа, работающая на <span class="strong"><strong>локальной
системе</strong></span>, к которой подключен дисплей и устройства ввода
пользователя
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_x_server"></a>7.4. X-сервер</h2></div></div></div>
<p>Информацию об X-сервере см. в <code class="literal">xorg</code>(1).</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_re_configuration_of_the_x_server"></a>7.4.1. (Пере)настройка X-сервера</h3></div></div></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>X-сервер (в выпусках Debian после <code class="literal">lenny</code>) переработан так,
чтобы использовать больше информации от ставших стандартными служб ОС, таких
как <a class="ulink" href="http://ru.wikipedia.org/wiki/HAL_(freedesktop.org)" target="_top">HAL</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/D-Bus" target="_top">D-bus</a>, чем
раньше, когда эта информация бралась исключительно из файла
"<code class="literal">/etc/X11/xorg.conf</code>". Так что теперь файл
<code class="literal">/etc/X11/xorg.conf</code>" становится меньше размером. Вам может
потребоваться побороть <a class="ulink" href="http://wiki.debian.org/XStrikeForce/InputHotplugGuide" target="_top">проблемы перехода на новую версию
X-сервера</a>.</p>
</div>
<p>Следующими командами можно (пере)настроить X-сервер, сгенерировав новый
"<code class="literal">/etc/X11/xorg.conf</code>" средствами
<code class="literal">dexconf</code>(1).</p>
<pre class="screen"># dpkg-reconfigure --priority=low x11-common
# dpkg-reconfigure --priority=low xserver-xorg</pre>
<p>Если вы вручную редактировали файл "<code class="literal">/etc/X11/xorg.conf</code>",
но теперь хотите, чтобы он снова был автоматически обновлён, выполните
следующую команду.</p>
<pre class="screen"># sudo dpkg-reconfigure -phigh xserver-xorg</pre>
<p>Пожалуйста, внимательно проверьте, что ваша конфигурация соответствует
спецификациям монитора. Для электронно-лучевых мониторов (CRT) с высоким
разрешением, хорошей мыслью будет установить частоту обновления экрана
(refresh rate) на максимально допустимое для монитора значение (85 Гц --
прекрасно, 75 Гц -- нормально) для уменьшения мерцания экрана. Для
ЖК-дисплеев (LCD) более медленная частота обновления (60 Гц) считается
отличным из-за их низкого времени отклика.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Не используйте слишком высокую частоту обновления экрана, это может
повредить ваш монитор.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_connection_methods_to_the_x_server"></a>7.4.2. Методы соединения с X-сервером</h3></div></div></div>
<p>Есть несколько способов заставить "X-сервер" (работает там, где изображение
<span class="strong"><strong>выводится на экран</strong></span>) принимать соединения
от "X-клиента" (работает на стороне <span class="strong"><strong>сервера
приложений</strong></span>).</p>
<div class="table">
<a name="listofconnectionhodstothexserver"></a><p class="title"><b>Таблица 7.3. Список способов соединения с X-сервером</b></p>
<div class="table-contents"><table summary="Список способов соединения с X-сервером" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    способ
    </th>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    пользователь
    </th>
<th align="left">
    шифрование
    </th>
<th align="left">
    подходящее применение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">команда <code class="literal">xhost</code>
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xbase-clients" target="_top">
<code class="literal">xbase-clients</code> </a> <a class="ulink" href="http://bugs.debian.org/xbase-clients" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xbase-clients" target="_top">V:4, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xbase-clients.html" target="_top">132</a></td>
<td align="left">
    не проверяется
    </td>
<td align="left">
    нет
    </td>
<td align="left">
    использование осуждается
    </td>
</tr>
<tr>
<td align="left">команда <code class="literal">xauth</code>
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xbase-clients" target="_top">
<code class="literal">xbase-clients</code> </a> <a class="ulink" href="http://bugs.debian.org/xbase-clients" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xbase-clients" target="_top">V:4, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xbase-clients.html" target="_top">132</a></td>
<td align="left">
    проверяется
    </td>
<td align="left">
    нет
    </td>
<td align="left">
    локальное соединение через именованный канал
    </td>
</tr>
<tr>
<td align="left">команда <code class="literal">ssh -X</code>
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openssh-client" target="_top">
<code class="literal">openssh-client</code> </a> <a class="ulink" href="http://bugs.debian.org/openssh-client" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openssh-client" target="_top">V:52, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openssh-client.html" target="_top">2208</a></td>
<td align="left">
    проверяется
    </td>
<td align="left">
    да
    </td>
<td align="left">
    удалённое сетевое соединение
    </td>
</tr>
<tr>
<td align="left">
    дисплейный менеджер GNOME (gdm)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gdm" target="_top"> <code class="literal">gdm</code>
</a> <a class="ulink" href="http://bugs.debian.org/gdm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gdm" target="_top">V:24, I:35</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gdm.html" target="_top">16208</a></td>
<td align="left">
    проверяется
    </td>
<td align="left">
    нет(XDMCP)
    </td>
<td align="left">
    локальное соединение через именованный канал
    </td>
</tr>
<tr>
<td align="left">
    дисплейный менеджер KDE (kdm)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kdm" target="_top"> <code class="literal">kdm</code>
</a> <a class="ulink" href="http://bugs.debian.org/kdm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kdm" target="_top">V:8, I:11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kdm.html" target="_top">5510</a></td>
<td align="left">
    проверяется
    </td>
<td align="left">
    нет(XDMCP)
    </td>
<td align="left">
    локальное соединение через именованный канал
    </td>
</tr>
<tr>
<td align="left">
    дисплейный менеджер X (xdm)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xdm" target="_top"> <code class="literal">xdm</code>
</a> <a class="ulink" href="http://bugs.debian.org/xdm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xdm" target="_top">V:0.7, I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xdm.html" target="_top">780</a></td>
<td align="left">
    проверяется
    </td>
<td align="left">
    нет(XDMCP)
    </td>
<td align="left">
    локальное соединение через именованный канал
    </td>
</tr>
<tr>
<td align="left">
    дисплейный менеджер WindowMaker
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wdm" target="_top"> <code class="literal">wdm</code>
</a> <a class="ulink" href="http://bugs.debian.org/wdm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wdm" target="_top">V:21, I:84</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wdm.html" target="_top">1972</a></td>
<td align="left">
    проверяется
    </td>
<td align="left">
    нет(XDMCP)
    </td>
<td align="left">
    локальное соединение через именованный канал
    </td>
</tr>
<tr>
<td align="left">
    дисплейный менеджер LTSP
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ldm" target="_top"> <code class="literal">ldm</code>
</a> <a class="ulink" href="http://bugs.debian.org/ldm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ldm" target="_top">V:0.01, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/ldm.html" target="_top">392</a></td>
<td align="left">
    проверяется
    </td>
<td align="left">
    да
    </td>
<td align="left">
    удалённое сетевое соединение по SSH (тонкий клиент)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не используйте <a class="ulink" href="http://ru.wikipedia.org/wiki/TCP" target="_top">TCP</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/IP" target="_top">IP</a>-соединения X Window в небезопасных сетях, если нет
весомого "подкрепления", например, шифрования: такие соединения могут быть
<span class="strong"><strong>прослушаны</strong></span> и в системе Debian по
умолчанию выключены. Пользуйтесь "<code class="literal">ssh -X</code>".</p>
</div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Также не создавайте <a class="ulink" href="http://en.wikipedia.org/wiki/X_display_manager" target="_top">XDMCP-соединений</a>
в небезопасных сетях. Данные пересылаются по <a class="ulink" href="http://ru.wikipedia.org/wiki/UDP" target="_top">UDP</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/IP" target="_top">IP</a> и без шифрования и
также могут быть <span class="strong"><strong>перехвачены</strong></span>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can <span class="strong"><strong>dare</strong></span> to enable remote TCP/IP
connection by setting "<code class="literal">DisallowTCP=false</code>" in
"<code class="literal">/etc/gdm/gdm.conf</code>" to override
"<code class="literal">/usr/share/gdm/defaults.conf</code>" and by removing
"<code class="literal">-nolisten</code>" from lines found by "<code class="literal">find /etc/X11
-type f -print0 | xargs -0 grep nolisten</code>", if you are in the fully
<span class="strong"><strong>secured</strong></span> environment.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Аббревиатура LTSP означает <a class="ulink" href="http://ru.wikipedia.org/wiki/LTSP" target="_top">Linux
Terminal Server Project</a>.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_starting_the_x_window_system"></a>7.5. Запуск системы X Window</h2></div></div></div>
<p>Система X Window обычно запускается как <a class="ulink" href="http://en.wikipedia.org/wiki/X_session_manager" target="_top">X-сессия</a> -- комбинация X-сервера и X-клиентов. В
обычной настольной системе они выполняются на одной рабочей станции.</p>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/X_session_manager" target="_top">X-сессия</a> запускается одним из следующих
способов:</p>
<div class="itemizedlist"><ul type="disc">
<li>Из командной строки -- командой <code class="literal">startx</code>.
</li>
<li>
В качестве службы (при запуске всей системы, например): сценарий в каталоге
"<code class="literal">/etc/rc?.d/</code>" (где "<code class="literal">?</code>" -- уровень
выполнения, runlevel) в конце своей работы запускает <a class="ulink" href="http://en.wikipedia.org/wiki/X_display_manager" target="_top">дисплейный менеджер</a>, который обычно имеет
название <code class="literal">*dm</code>.
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Сценарий, запускающий конкретный дисплейный менеджер, проверяет содержимое
файла "<code class="literal">/etc/X11/default-display-manager</code>", до того, как
запустить свой. Этим удостоверяется, что есть только один используемый
<a class="ulink" href="http://en.wikipedia.org/wiki/X_display_manager" target="_top">дисплейный менеджер</a>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="xref" href="#_specific_locale_only_under_x_window" title="8.3.5. Определение особой локали для X Window">Раздел 8.3.5, «Определение особой локали для X Window»</a> предлагает способ
установки переменных окружения для дисплейного менеджера.</p>
</div>
<p>По-существу, во всех этих способах выполняется сценарий
"<code class="literal">/etc/X11/Xsession</code>", который запускает сценарии в
каталоге "<code class="literal">/etc/X11/Xsession.d/</code>" (с помощью
<code class="literal">run-parts</code>(8)). В сущности, выполняется первая из
найденных в следующем порядке программ:</p>
<div class="orderedlist"><ol type="1">
<li>
Сценарий, заданный как аргумент для "<code class="literal">/etc/X11/Xsession</code>"
дисплейным менеджером, если он определён.
</li>
<li>
Сценарий "<code class="literal">~/.xsession</code>" или
"<code class="literal">~/.Xsession</code>", если определён.
</li>
<li>
Команда "<code class="literal">/usr/bin/x-session-manager</code>", если она
определена.
</li>
<li>
Команда "<code class="literal">/usr/bin/x-window-manager</code>", если она определена.
</li>
<li>
Команда "<code class="literal">/usr/bin/x-terminal-emulator</code>", если она
определена.
</li>
</ol></div>
<p>На этот процесс влияет содержимое файла
"<code class="literal">/etc/X11/Xsession.options</code>". Точные имена программ, на
которые указывают эти символические ссылки
("<code class="literal">/usr/bin/x-*</code>"), определяются системой альтернатив
Debian и изменяются командами типа "<code class="literal">update-alternatives --config
x-session-manager</code>".</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_starting_x_session_with_gdm"></a>7.5.1. Запуск X-сессии с помощью gdm</h3></div></div></div>
<p><code class="literal">gdm</code>(1) позволяет выбрать тип сессии (или среду: <a class="xref" href="#_setting_up_desktop_environment" title="7.2. Настройка среды рабочего стола">Раздел 7.2, «Настройка среды рабочего стола»</a>) и язык (или локаль: <a class="xref" href="#_the_locale" title="8.3. Локаль">Раздел 8.3, «Локаль»</a>) из своего меню. Выбранные значения по умолчанию
хранятся в "<code class="literal">~/.dmrc</code>" и выглядят так:</p>
<pre class="screen">[Desktop]
Session=default
Language=ru_RU.UTF-8</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_customizing_the_x_session_classic_method"></a>7.5.2. Настройка X-сессии (традиционный способ)</h3></div></div></div>
<p>В системе, где файл "<code class="literal">/etc/X11/Xsession.options</code>" содержит
незакомментированную строчку "<code class="literal">allow-user-xsession</code>", любой
пользователь в своих файлах "<code class="literal">~/.xsession</code>" или
"<code class="literal">~/.Xsession</code>" может выставлять нужные ему значения,
которые будут иметь приоритет над общесистемными. Последняя команда в файле
<code class="literal">~/.xsession</code>" должна запускать предпочтительный
оконный/дисплейный менеджер таким способом: "<code class="literal">exec
some-window/session-manager</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_customizing_the_x_session_new_method"></a>7.5.3. Настройка X-сессии (новый способ)</h3></div></div></div>
<p>Вот новые способы настройки X-сессии, без перезаписи системных значений, как
в предыдущем примере.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Дисплейный менеджер <code class="literal">gdm</code> позволяет выбирать сессию и
устанавливать её как аргумент для "<code class="literal">/etc/X11/Xsession</code>".
</li>
<li>
Файл "<code class="literal">~/.xsessionrc</code>" выполняется как часть процесса
запуска (независимо от окружения рабочего стола).
</li>
<li>
Файл "<code class="literal">~/.gnomerc</code>" выполняется как часть процесса запуска
(только для окружения GNOME).
</li>
<li>
Графическая программа управления сессией может использовать файлы типа
"<code class="literal">~/.gnome2/session</code>".
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_connecting_a_remote_x_client_via_ssh"></a>7.5.4. Соединение с удалённым X-клиентом по SSH</h3></div></div></div>
<p>Команда "<code class="literal">ssh -X</code>" позволяет создавать защищённые
соединения между локальным X-сервером и удалённым сервером приложений.</p>
<p>Установите переменной "<code class="literal">X11Forwarding</code>" значение
"<code class="literal">yes</code>" в файле "<code class="literal">/etc/ssh/sshd_config</code>"
на удалённой системе, если не хотите использовать ключ
"<code class="literal">-X</code>".</p>
<p>Запустите X-сервер на локальной системе.</p>
<p>Откройте <code class="literal">xterm</code> на локальной системе.</p>
<p>Запустите <code class="literal">ssh</code>(1) для соединения с удалённой системой:</p>
<pre class="screen">localname @ localhost $ ssh -q -X loginname@remotehost.domain
Password:</pre>
<p>Запустите приложение X Window, например, "<code class="literal">gimp</code>", на
удалённой системе:</p>
<pre class="screen">loginname @ remotehost $ gimp &amp;</pre>
<p>Таким способом можно получить изображение от удалённого X-клиента, как если
бы он был подключен через локальный UNIX domain socket.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_secure_x_terminal_via_the_internet"></a>7.5.5. Защищённый X-терминал, подключенный через Интернет</h3></div></div></div>
<p>Защищённый терминал, подключенный через Интернет, отображающий работающую на
удалённой системе среду (GUI), можно легко получить, используя специальный
пакет, например, <code class="literal">ldm</code>. Ваша локальная машина превращается
в защищённый тонкий клиент удалённого сервера, подключенного по SSH.</p>
<p>Если вы хотите добавить похожую возможность к вашему обычному оконному
менеджеру, например, <code class="literal">gdm</code>, создайте исполняемый сценарий
оболочки "<code class="literal">/usr/local/bin/ssh-session</code>" с таким
содержанием:</p>
<pre class="screen">#!/bin/sh -e
# Based on gdm-ssh-session in gdm source (GPL)
ZENITY=$(type -p zenity)
TARGETHOST=$($ZENITY --width=600 \
--title "Host to connect to" --entry \
--text "Enter the name of the host you want to log in to as user@host.dom:")
TARGETSESSION=$($ZENITY --width=600 --height=400 \
--title "Remote session name" --list --radiolist --text "Select one" \
--column " " --column "Session" --column "description" --print-column 2 \
TRUE "/etc/X11/Xsession" "Debian" \
FALSE "/etc/X11/xinit/Xclients" "RH variants" \
FALSE "gnome-session" "GNOME session" \
FALSE "xterm" "Safe choice" \
FALSE "rxvt" "Safe choice" \
FALSE "gnome-terminal" "Safe choice")
echo "Connecting to "$TARGETHOST" with $TARGETSESSION"
/usr/bin/ssh -A -X -T -n "$TARGETHOST" "$TARGETSESSION"
#SSH_ASKPASS=/usr/bin/ssh-askpass /usr/bin/ssh -A -X -T -n "$TARGETHOST" "$TARGETSESSION"</pre>
<p>Добавьте следующее к "<code class="literal">/etc/dm/Sessions/ssh.desktop</code>":</p>
<pre class="screen">[Desktop Entry]
Encoding=UTF-8
Name=SSH
Comment=This session logs you into a remote host using ssh
Exec=/usr/local/bin/ssh-session
Type=Application</pre>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_fonts_in_the_x_window"></a>7.6. Шрифты в X Window</h2></div></div></div>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/Fontconfig" target="_top">Fontconfig 2.0</a> был создан в 2002 году,
чтобы предоставить независимую от дистрибутива библиотеку для настройки
доступа к шрифтам. После <code class="literal">squeeze</code> в Debian используется
<a class="ulink" href="http://en.wikipedia.org/wiki/Fontconfig" target="_top">Fontconfig 2.0</a>.</p>
<p>Поддержку шрифтов в системе X Window можно в двух словах обобщить так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
Поддержка шрифтов на стороне X-сервера (оставшаяся от старых версий X).
</p>
<div class="itemizedlist"><ul type="circle">
<li>
The original core X11 font system provides backward compatibility for older
version of X client applications.
</li>
<li>
The original core X11 fonts are installed on the X server.
</li>
</ul></div>
</li>
<li>
<p>
Поддержка шрифтов на стороне X-клиента (современный способ)
</p>
<div class="itemizedlist"><ul type="circle">
<li>
В современной системе X Window поддерживаются все нижеперечисленные шрифты
(<a class="xref" href="#_basic_fonts" title="7.6.1. Основные шрифты">Раздел 7.6.1, «Основные шрифты»</a>, <a class="xref" href="#_additional_fonts" title="7.6.2. Дополнительные шрифты">Раздел 7.6.2, «Дополнительные шрифты»</a> и <a class="xref" href="#_cjk_fonts" title="7.6.3. Шрифты CJK">Раздел 7.6.3, «Шрифты CJK»</a>) с расширенными возможностями, такими как сглаживание
(anti-aliasing).
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/Xft" target="_top">Xft</a> 2.0 соединяет современные приложения X Window
(например те, что входят в <a class="ulink" href="http://ru.wikipedia.org/wiki/GNOME" target="_top">GNOME</a> или <a class="ulink" href="http://ru.wikipedia.org/wiki/KDE" target="_top">KDE</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/OpenOffice.org" target="_top">OpenOffice.org</a>) с библиотекой <a class="ulink" href="http://freetype.sourceforge.net/index.html" target="_top">FreeType</a> 2.0.
</li>
<li>
<a class="ulink" href="http://freetype.sourceforge.net/index.html" target="_top">FreeType</a> 2.0 -- библиотека растеризации
шрифтов (rasterization).
</li>
<li>
<a class="ulink" href="http://en.wikipedia.org/wiki/Fontconfig" target="_top">Fontconfig</a> предоставляет способ
спецификации шрифтов для <a class="ulink" href="http://ru.wikipedia.org/wiki/Xft" target="_top">Xft</a> 2.0. Настройки см. в
<code class="literal">fonts.conf</code>(5).
</li>
<li>
Все современные X-приложения, использующие <a class="ulink" href="http://ru.wikipedia.org/wiki/Xft" target="_top">Xft</a>
2.0, могут общаться с современным X-сервером с помощью расширения <a class="ulink" href="http://ru.wikipedia.org/wiki/XRender" target="_top">X Rendering Extension</a>.
</li>
<li>
Благодаря <a class="ulink" href="http://ru.wikipedia.org/wiki/XRender" target="_top">X Rendering Extension</a>
доступ к шрифтам и отрисовка символов (глифов, glyph) теперь ведётся не на
стороне X-сервера, а на стороне X-клиента.
</li>
</ul></div>
</li>
</ul></div>
<div class="table">
<a name="tableofpackagestindowfontsystems"></a><p class="title"><b>Таблица 7.4. Таблица пакетов, предоставляющих поддержку шрифтов в X Window</b></p>
<div class="table-contents"><table summary="Таблица пакетов, предоставляющих поддержку шрифтов в X Window" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xfonts-utils" target="_top">
<code class="literal">xfonts-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/xfonts-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xfonts-utils" target="_top">V:24, I:70</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xfonts-utils.html" target="_top">516</a></td>
<td align="left">
    средства управления шрифтами X-сервера
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libxft2" target="_top">
<code class="literal">libxft2</code> </a> <a class="ulink" href="http://bugs.debian.org/libxft2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libxft2" target="_top">V:43, I:74</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libx/libxft2.html" target="_top">148</a></td>
<td align="left">
    Xft, библиотека, соединяющая приложения X с библиотекой растеризации
FreeType
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libfreetype6" target="_top">
<code class="literal">libfreetype6</code> </a> <a class="ulink" href="http://bugs.debian.org/libfreetype6" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libfreetype6" target="_top">V:57, I:87</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libf/libfreetype6.html" target="_top">736</a></td>
<td align="left">
<a class="ulink" href="http://freetype.sourceforge.net/index.html" target="_top">FreeType</a> 2.0 библиотека растеризации шрифтов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fontconfig" target="_top">
<code class="literal">fontconfig</code> </a> <a class="ulink" href="http://bugs.debian.org/fontconfig" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fontconfig" target="_top">V:22, I:73</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fontconfig.html" target="_top">472</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Fontconfig" target="_top">Fontconfig</a>, общая библиотека настроек
шрифтов -- программы поддержки
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fontconfig-config" target="_top">
<code class="literal">fontconfig-config</code> </a> <a class="ulink" href="http://bugs.debian.org/fontconfig-config" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fontconfig-config" target="_top">I:81</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fontconfig-config.html" target="_top">440</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Fontconfig" target="_top">Fontconfig</a>, общая библиотека настроек
шрифтов -- конфигурационные данные
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вы можете получить информацию о конфигурации шрифтов так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">xset q</code>" выдаст имена каталогов шрифтов X-сервера
</li>
<li>
"<code class="literal">fc-match</code>" выведет шрифт, используемый по умолчанию
(согласно настройкам fontconfig)
</li>
<li>
"<code class="literal">fc-list</code>" выведет доступные шрифты (согласно настройкам
fontconfig)
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="ulink" href="http://unifont.org/iuc27/html/ICUPresentation.html" target="_top">The Penguin and Unicode</a> --
хороший обзор современной системы X Window. Другая документация по адресу
<a class="ulink" href="http://unifont.org/" target="_top">http://unifont.org/</a> может дать хорошую
информацию о шрифтах Unicode, о ПО, поддерживающем Unicode, об
интернационализации и вопросах использования Unicode в <a class="ulink" href="http://ru.wikipedia.org/wiki/FLOSS" target="_top">свободных/открытых (FLOSS)</a> ОС.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basic_fonts"></a>7.6.1. Основные шрифты</h3></div></div></div>
<p>Существует два основных типа <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D1%8B%D0%B9_%D1%88%D1%80%D0%B8%D1%84%D1%82" target="_top">компьютерных
шрифтов</a>.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Растровые шрифты (хороши для низкого разрешения)
</li>
<li>
векторные шрифты (хороши для растеризации при высоком разрешении)
</li>
</ul></div>
<p>В то время как массштабирование растровых шрифтов порождает зазубренные
изображения букв, векторные шрифты остаются гладкими и ровными.</p>
<p>Растровые шрифты в Debian обычно идут в виде сжатых файлов в формате <a class="ulink" href="http://fontforge.sourceforge.net/pcf-format.html" target="_top">pcf</a>, имеющих расширение
"<code class="literal">.pcf.gz</code>".</p>
<p>Векторные шрифты предоставляются в следующих форматах.</p>
<div class="itemizedlist"><ul type="disc">
<li>Файлы шрифтов <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PostScript</a> Type 1, имеющие
собственное расширение "<code class="literal">.pfb</code>" (двоичные файлы шрифтов) и
"<code class="literal">.afm</code>" (файл с метриками шрифта).
</li>
<li>Файлы шрифтов <a class="ulink" href="http://ru.wikipedia.org/wiki/TrueType" target="_top">TrueType</a> (или <a class="ulink" href="http://ru.wikipedia.org/wiki/OpenType" target="_top">OpenType</a>), имеющие расширение
"<code class="literal">.ttf</code>".
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/OpenType" target="_top">OpenType</a> призван заменить как <a class="ulink" href="http://ru.wikipedia.org/wiki/TrueType" target="_top">TrueType</a>, так и <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PostScript</a> Type 1.</p>
</div>
<div class="table">
<a name="tableofcorresponscripttypebfonts"></a><p class="title"><b>Таблица 7.5. Таблица соответствия шрифтов <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PostScript</a>
Type 1</b></p>
<div class="table-contents"><table summary="Таблица соответствия шрифтов PostScript
Type 1" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет с шрифтом
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    шрифт без засечек
    </th>
<th align="left">
    шрифт с засечками
    </th>
<th align="left">
    моноширинный шрифт
    </th>
<th align="left">
    источник шрифта
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    PostScript
    </td>
<td align="left">
    N/A
    </td>
<td align="left">
    N/A
    </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%B5%D0%BB%D1%8C%D0%B2%D0%B5%D1%82%D0%B8%D0%BA%D0%B0" target="_top">Helvetica</a>
                </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%B5%D0%BB%D1%8C%D0%B2%D0%B5%D1%82%D0%B8%D0%BA%D0%B0" target="_top">Helvetica</a>
                </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%B5%D0%BB%D1%8C%D0%B2%D0%B5%D1%82%D0%B8%D0%BA%D0%B0" target="_top">Helvetica</a>
                </td>
<td align="left">
    Adobe
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gsfonts" target="_top"> gsfonts </a> <a class="ulink" href="http://bugs.debian.org/gsfonts" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gsfonts" target="_top">V:17, I:66</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gsfonts.html" target="_top">4632</a></td>
<td align="left">
    Nimbus Sans L
    </td>
<td align="left">
    Nimbus Roman No9 L
    </td>
<td align="left">
    Nimbus Mono L
    </td>
<td align="left">
<a class="ulink" href="http://www.math.utah.edu/~beebe/fonts/urw.html" target="_top">URW</a> (размер совместимый с Adobe)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gsfonts-x11" target="_top"> gsfonts-x11
</a> <a class="ulink" href="http://bugs.debian.org/gsfonts-x11" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gsfonts-x11" target="_top">I:30</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gsfonts-x11.html" target="_top">116</a></td>
<td align="left">
    Nimbus Sans L
    </td>
<td align="left">
    Nimbus Roman No9 L
    </td>
<td align="left">
    Nimbus Mono L
    </td>
<td align="left">
    X font support with PostScript Type 1 fonts.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/t1-cyrillic" target="_top"> t1-cyrillic
</a> <a class="ulink" href="http://bugs.debian.org/t1-cyrillic" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=t1-cyrillic" target="_top">I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/t1-cyrillic.html" target="_top">5008</a></td>
<td align="left">
    Free Helvetian
    </td>
<td align="left">
    Free Times
    </td>
<td align="left">
    Free Courier
    </td>
<td align="left">
    расширенный URW (размер совместимый с Adobe)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lmodern" target="_top"> lmodern </a> <a class="ulink" href="http://bugs.debian.org/lmodern" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lmodern" target="_top">V:2, I:16</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lmodern.html" target="_top">45644</a></td>
<td align="left">
    LMSans*
    </td>
<td align="left">
    LMRoman*
    </td>
<td align="left">
    LMTypewriter*
    </td>
<td align="left">
    scalable PostScript and OpenType fonts based on Computer Modern (from TeX)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="table">
<a name="tableofcorresponingtruetypefonts"></a><p class="title"><b>Таблица 7.6. Таблица соответствия шрифтов <a class="ulink" href="http://ru.wikipedia.org/wiki/TrueType" target="_top">TrueType</a></b></p>
<div class="table-contents"><table summary="Таблица соответствия шрифтов TrueType" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет с шрифтом
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    шрифт без засечек
    </th>
<th align="left">
    шрифт с засечками
    </th>
<th align="left">
    моноширинный шрифт
    </th>
<th align="left">
    источник шрифта
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ttf-mscorefonts-installer" target="_top">
ttf-mscorefonts-installer </a> <a class="ulink" href="http://bugs.debian.org/ttf-mscorefonts-installer" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ttf-mscorefonts-installer" target="_top">I:11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/ttf-mscorefonts-installer.html" target="_top">200</a></td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%90%D1%80%D0%B8%D0%B0%D0%BB" target="_top">Arial</a>
                </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/Times_New_Roman" target="_top">Times New Roman</a>
                </td>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9A%D1%83%D1%80%D1%8C%D0%B5%D1%80_(%D1%88%D1%80%D0%B8%D1%84%D1%82)" target="_top">Courier New</a>
                </td>
<td align="left">
    Microsoft (размер совместимый с Adobe) (Устанавливает несвободные данные)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ttf-liberation" target="_top"> ttf-liberation
</a> <a class="ulink" href="http://bugs.debian.org/ttf-liberation" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ttf-liberation" target="_top">I:43</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/ttf-liberation.html" target="_top">1724</a></td>
<td align="left">
    Liberation Sans
    </td>
<td align="left">
    Liberation Serif
    </td>
<td align="left">
    Liberation Mono
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Liberation_(%D1%88%D1%80%D0%B8%D1%84%D1%82%D1%8B)" target="_top">Liberation Fonts project</a>
(Microsoft compatible size)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ttf-freefont" target="_top"> ttf-freefont
</a> <a class="ulink" href="http://bugs.debian.org/ttf-freefont" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ttf-freefont" target="_top">V:9, I:25</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/ttf-freefont.html" target="_top">4204</a></td>
<td align="left">
    FreeSans
    </td>
<td align="left">
    FreeSerif
    </td>
<td align="left">
    FreeMono
    </td>
<td align="left">
<a class="ulink" href="http://savannah.gnu.org/projects/freefont/" target="_top">GNU freefont</a> (Microsoft compatible size)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ttf-dejavu" target="_top"> ttf-dejavu </a>
<a class="ulink" href="http://bugs.debian.org/ttf-dejavu" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ttf-dejavu" target="_top">I:77</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/ttf-dejavu.html" target="_top">68</a></td>
<td align="left">
    DejaVu Sans
    </td>
<td align="left">
    DejaVu Serif
    </td>
<td align="left">
    DejaVu Sans Mono
    </td>
<td align="left">
<a class="ulink" href="http://dejavu-fonts.org" target="_top">DejaVu</a>, <a class="ulink" href="http://www.gnome.org/fonts/" target="_top">Bitstream
Vera</a> с символами Unicode
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ttf-dejavu-core" target="_top"> ttf-dejavu-core
</a> <a class="ulink" href="http://bugs.debian.org/ttf-dejavu-core" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ttf-dejavu-core" target="_top">I:70</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/ttf-dejavu-core.html" target="_top">2592</a></td>
<td align="left">
    DejaVu Sans
    </td>
<td align="left">
    DejaVu Serif
    </td>
<td align="left">
    DejaVu Sans Mono
    </td>
<td align="left">
<a class="ulink" href="http://dejavu-fonts.org" target="_top">DejaVu</a>, <a class="ulink" href="http://www.gnome.org/fonts/" target="_top">Bitstream
Vera</a> with Unicode coverage (sans, sans-bold, serif, serif-bold,
mono, mono-bold)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ttf-dejavu-extra" target="_top">
ttf-dejavu-extra </a> <a class="ulink" href="http://bugs.debian.org/ttf-dejavu-extra" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ttf-dejavu-extra" target="_top">I:68</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/ttf-dejavu-extra.html" target="_top">5788</a></td>
<td align="left">
    N/A
    </td>
<td align="left">
    N/A
    </td>
<td align="left">
    N/A
    </td>
<td align="left">
<a class="ulink" href="http://dejavu-fonts.org" target="_top">DejaVu</a>, <a class="ulink" href="http://www.gnome.org/fonts/" target="_top">Bitstream
Vera</a> with Unicode coverage (oblique, italic, bold-oblique,
bold-italic, condensed)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ttf-unifont" target="_top"> ttf-unifont
</a> <a class="ulink" href="http://bugs.debian.org/ttf-unifont" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ttf-unifont" target="_top">I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/ttf-unifont.html" target="_top">16060</a></td>
<td align="left">
    N/A
    </td>
<td align="left">
    N/A
    </td>
<td align="left">
    unifont
    </td>
<td align="left">
<a class="ulink" href="http://Unifoundry.com" target="_top">GNU Unifont</a>, with all printable character
code in Unicode 5.1 Basic Multilingual Plane (BMP)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Шрифты <a class="ulink" href="http://dejavu-fonts.org" target="_top">DejaVu</a> основаны на шрифтах <a class="ulink" href="http://www.gnome.org/fonts/" target="_top">Bitstream Vera</a> и являются их надмножеством.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_additional_fonts"></a>7.6.2. Дополнительные шрифты</h3></div></div></div>
<p><code class="literal">aptitude</code>(8) поможет вам легко найти дополнительные
шрифты.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Короткий список пакетов в разделе "Задачи" -- "Локализация" ("Tasks" --
"Localization").
</li>
<li>
Регулярное выражение для отбора пакетов со шрифтами в "плоском" списке
пакетов (поиск ведётся по базе debtag):
"<code class="literal">~Gmade-of::data:font</code>"
</li>
<li>
Регулярное выражение для отбора пакетов с растровыми шрифтами в формате BDF
(поиск ведётся по шаблону имени пакета): "<code class="literal">~nxfonts-</code>"
</li>
<li>
Регулярное выражение для отбора пакетов с векторными шрифтами True Type
(поиск ведётся по шаблону имени пакета): "<code class="literal">~nttf-</code>"
</li>
</ul></div>
<p>Поскольку <span class="strong"><strong>Свободных</strong></span> шрифтов иногда
недостаточно, в Debian возможна установка некоторых коммерческих
TrueType-шрифтов. Для облегчения установки были созданы удобные пакеты:</p>
<div class="itemizedlist"><ul type="disc">
<li>
              <code class="literal">ttf-mathematica4.1</code>
            </li>
<li>
              <code class="literal">ttf-mscorefonts-installer</code>
            </li>
</ul></div>
<p>Так вы получите действительно хороший выбор шрифтов TrueType ценой
загрязнения вашей <span class="strong"><strong>Свободной</strong></span> системы
несвободными (non-Free) шрифтами.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_cjk_fonts"></a>7.6.3. Шрифты CJK</h3></div></div></div>
<p>Здесь описаны ключевые моменты, касающиеся шрифтов с <a class="ulink" href="http://en.wikipedia.org/wiki/CJK_characters" target="_top">символами CJK</a> (восточно-азиатскими
иероглифами).</p>
<div class="table">
<a name="tableofkeywordsundicatefonttypes"></a><p class="title"><b>Таблица 7.7. Таблица ключевых слов, используемых в именах шрифтов CJK для определения их
типа</b></p>
<div class="table-contents"><table summary="Таблица ключевых слов, используемых в именах шрифтов CJK для определения их
типа" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    тип шрифта
    </th>
<th align="left">
    имя японского шрифта
    </th>
<th align="left">
    имя китайского шрифта
    </th>
<th align="left">
    имя корейского шрифта
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    без засечек
    </td>
<td align="left">
    gothic, ゴチック
    </td>
<td align="left">
    hei, gothic
    </td>
<td align="left">
    dodum, gulim, gothic
    </td>
</tr>
<tr>
<td align="left">
    с засечками
    </td>
<td align="left">
    mincho, 明朝
    </td>
<td align="left">
    song, ming
    </td>
<td align="left">
    batang
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>В имени шрифта "VL PGothic" буковка "P" означает, что это шрифт с
пропорциональной шириной символов. В остальном он соответствует шрифту "VL
Gothic".</p>
<p>Например, кодовая таблица <a class="ulink" href="http://en.wikipedia.org/wiki/Shift_JIS" target="_top">Shift_JIS</a>
включает 7070 символов, которые группируются так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
JIS X 0201 -- однобайтовые символы (всего 191, символы с половинной шириной)
</li>
<li>
JIS X 0208 -- двухбайтовые символы (всего 6879, символы с полной шириной)
</li>
</ul></div>
<p>Double-byte characters occupy double width on console terminals which uses
CJK fixed width fonts.  In order to cope with such situation, <a class="ulink" href="http://www.ibiblio.org/pub/packages/ccic/software/info/HBF-1.1/" target="_top">Hanzi Bitmap Font (HBF) File</a> with
file extension "<code class="literal">.hbf</code>" may be deployed for fonts
containing single-byte and double-byte characters.</p>
<p>In order to save space for <a class="ulink" href="http://ru.wikipedia.org/wiki/TrueType" target="_top">TrueType</a> font
files, <a class="ulink" href="http://ru.wikipedia.org/wiki/TrueType" target="_top">TrueType</a> font collection file with
file extension "<code class="literal">.ttc</code>" may be used.</p>
<p>In order to cover complicated code space of characters, CID keyed <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PostScript</a> Type 1 font is used with CMap files
starting themselves with "<code class="literal">%!PS-Adobe-3.0 Resource-CMap</code>".
This is rarely used for normal X display but used for PDF rendering
etc. (see <a class="xref" href="#_x_utility_applications" title="7.7.2. Полезные инструменты для X Window (утилиты)">Раздел 7.7.2, «Полезные инструменты для X Window (утилиты)»</a>).</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>The multiple <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B8%D1%84" target="_top">glyphs</a> are expected for some
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4" target="_top">Unicode</a> code points due to <a class="ulink" href="http://en.wikipedia.org/wiki/Han_unification" target="_top">Han unification</a>.  One of the most annoying
ones are "U+3001 IDEOGRAPHIC COMMA" and "U+3002 IDEOGRAPHIC FULL STOP" whose
character positions differ among CJK countries.  Configuring priority of
Japanese centric fonts over Chinese ones using
"<code class="literal">~/.fonts.conf</code>" should give peace of minds to Japanese.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_x_applications"></a>7.7. Приложения X Window</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_x_office_applications"></a>7.7.1. Офисные приложения X Window</h3></div></div></div>
<p>Вот список основных офисных приложений (OO означает OpenOffice.org).</p>
<div class="table">
<a name="listofbasicxofficeapplications"></a><p class="title"><b>Таблица 7.8. Список основных офисных приложений X Window</b></p>
<div class="table-contents"><table summary="Список основных офисных приложений X Window" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер пакета
    </th>
<th align="left">
    тип
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openoffice.org-writer" target="_top">
<code class="literal">openoffice.org-writer</code> </a> <a class="ulink" href="http://bugs.debian.org/openoffice.org-writer" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openoffice.org-writer" target="_top">V:22, I:41</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openoffice.org-writer.html" target="_top">26892</a></td>
<td align="left">
    OO
    </td>
<td align="left">
    текстовый процессор
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openoffice.org-calc" target="_top">
<code class="literal">openoffice.org-calc</code> </a> <a class="ulink" href="http://bugs.debian.org/openoffice.org-calc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openoffice.org-calc" target="_top">V:22, I:41</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openoffice.org-calc.html" target="_top">20524</a></td>
<td align="left">
    OO
    </td>
<td align="left">
    электронные таблицы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openoffice.org-impress" target="_top">
<code class="literal">openoffice.org-impress</code> </a> <a class="ulink" href="http://bugs.debian.org/openoffice.org-impress" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openoffice.org-impress" target="_top">V:19, I:40</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openoffice.org-impress.html" target="_top">4208</a></td>
<td align="left">
    OO
    </td>
<td align="left">
    презентации
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openoffice.org-base" target="_top">
<code class="literal">openoffice.org-base</code> </a> <a class="ulink" href="http://bugs.debian.org/openoffice.org-base" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openoffice.org-base" target="_top">V:18, I:39</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openoffice.org-base.html" target="_top">10708</a></td>
<td align="left">
    OO
    </td>
<td align="left">
    управление БД
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openoffice.org-draw" target="_top">
<code class="literal">openoffice.org-draw</code> </a> <a class="ulink" href="http://bugs.debian.org/openoffice.org-draw" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openoffice.org-draw" target="_top">V:19, I:40</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openoffice.org-draw.html" target="_top">10716</a></td>
<td align="left">
    OO
    </td>
<td align="left">
    редактор векторной графики (черчение)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openoffice.org-math" target="_top">
<code class="literal">openoffice.org-math</code> </a> <a class="ulink" href="http://bugs.debian.org/openoffice.org-math" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openoffice.org-math" target="_top">V:18, I:40</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openoffice.org-math.html" target="_top">2712</a></td>
<td align="left">
    OO
    </td>
<td align="left">
    математические вычисления/редактирование формул
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/abiword" target="_top">
<code class="literal">abiword</code> </a> <a class="ulink" href="http://bugs.debian.org/abiword" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=abiword" target="_top">V:6, I:10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/abiword.html" target="_top">4548</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    текстовый процессор
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnumeric" target="_top">
<code class="literal">gnumeric</code> </a> <a class="ulink" href="http://bugs.debian.org/gnumeric" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnumeric" target="_top">V:6, I:11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnumeric.html" target="_top">7724</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    электронные таблицы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gimp" target="_top"> <code class="literal">gimp</code>
</a> <a class="ulink" href="http://bugs.debian.org/gimp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gimp" target="_top">V:12, I:44</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gimp.html" target="_top">13560</a></td>
<td align="left">
    GTK
    </td>
<td align="left">
    редактор растровой графики (рисование)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/inkscape" target="_top">
<code class="literal">inkscape</code> </a> <a class="ulink" href="http://bugs.debian.org/inkscape" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=inkscape" target="_top">V:17, I:31</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/inkscape.html" target="_top">87436</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    редактор векторной графики (черчение)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dia-gnome" target="_top">
<code class="literal">dia-gnome</code> </a> <a class="ulink" href="http://bugs.debian.org/dia-gnome" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dia-gnome" target="_top">V:1.5, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dia-gnome.html" target="_top">576</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    редактор диаграмм и блок-схем
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/planner" target="_top">
<code class="literal">planner</code> </a> <a class="ulink" href="http://bugs.debian.org/planner" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=planner" target="_top">V:0.5, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/planner.html" target="_top">6704</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    управление проектами
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kword" target="_top"> <code class="literal">kword</code>
</a> <a class="ulink" href="http://bugs.debian.org/kword" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kword" target="_top">V:0.7, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kword.html" target="_top">5540</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    текстовый процессор
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kspread" target="_top">
<code class="literal">kspread</code> </a> <a class="ulink" href="http://bugs.debian.org/kspread" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kspread" target="_top">V:0.7, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kspread.html" target="_top">9728</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    электронные таблицы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kpresenter" target="_top">
<code class="literal">kpresenter</code> </a> <a class="ulink" href="http://bugs.debian.org/kpresenter" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kpresenter" target="_top">V:0.6, I:1.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kpresenter.html" target="_top">3320</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    презентации
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kexi" target="_top"> <code class="literal">kexi</code>
</a> <a class="ulink" href="http://bugs.debian.org/kexi" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kexi" target="_top">V:0.2, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kexi.html" target="_top">8632</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    управление БД
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/karbon" target="_top">
<code class="literal">karbon</code> </a> <a class="ulink" href="http://bugs.debian.org/karbon" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=karbon" target="_top">V:0.6, I:1.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/karbon.html" target="_top">2936</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    редактор векторной графики (черчение)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/krita" target="_top"> <code class="literal">krita</code>
</a> <a class="ulink" href="http://bugs.debian.org/krita" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=krita" target="_top">V:0.7, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/krita.html" target="_top">12400</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    редактор растровой графики (рисование)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kchart" target="_top">
<code class="literal">kchart</code> </a> <a class="ulink" href="http://bugs.debian.org/kchart" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kchart" target="_top">V:0.8, I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kchart.html" target="_top">2980</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    graph and chart drawing program
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kformula" target="_top">
<code class="literal">kformula</code> </a> <a class="ulink" href="http://bugs.debian.org/kformula" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kformula" target="_top">V:0.5, I:1.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kformula.html" target="_top">2528</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    математические вычисления/редактирование формул
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kplato" target="_top">
<code class="literal">kplato</code> </a> <a class="ulink" href="http://bugs.debian.org/kplato" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kplato" target="_top">V:0.15, I:1.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kplato.html" target="_top">6576</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    управление проектами
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_x_utility_applications"></a>7.7.2. Полезные инструменты для X Window (утилиты)</h3></div></div></div>
<p>Вот список основных полезных средств для X Window, попавшихся мне на глаза.</p>
<div class="table">
<a name="listofbasicxutilityapplications"></a><p class="title"><b>Таблица 7.9. Список полезных приложений X Window</b></p>
<div class="table-contents"><table summary="Список полезных приложений X Window" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер пакета
    </th>
<th align="left">
    тип
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/evince" target="_top">
<code class="literal">evince</code> </a> <a class="ulink" href="http://bugs.debian.org/evince" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=evince" target="_top">V:27, I:38</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/evince.html" target="_top">1116</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    просмотр pdf-файлов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/okular" target="_top">
<code class="literal">okular</code> </a> <a class="ulink" href="http://bugs.debian.org/okular" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=okular" target="_top">V:3, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/okular.html" target="_top">3408</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    просмотр pdf-файлов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/evolution" target="_top">
<code class="literal">evolution</code> </a> <a class="ulink" href="http://bugs.debian.org/evolution" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=evolution" target="_top">V:18, I:35</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/evolution.html" target="_top">4716</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    почтовая программа, календарь и ежедневник, средство управления задачами.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kontact" target="_top">
<code class="literal">kontact</code> </a> <a class="ulink" href="http://bugs.debian.org/kontact" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kontact" target="_top">V:1.5, I:9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kontact.html" target="_top">1326</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    почтовая программа, календарь и ежедневник, средство управления задачами.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/scribus" target="_top">
<code class="literal">scribus</code> </a> <a class="ulink" href="http://bugs.debian.org/scribus" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=scribus" target="_top">V:0.4, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/scribus.html" target="_top">26888</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    приложение для визуальной вёрстки документов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/glabels" target="_top">
<code class="literal">glabels</code> </a> <a class="ulink" href="http://bugs.debian.org/glabels" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=glabels" target="_top">V:0.19, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/glabels.html" target="_top">1148</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    редактор этикеток
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kbarcode" target="_top">
<code class="literal">kbarcode</code> </a> <a class="ulink" href="http://bugs.debian.org/kbarcode" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kbarcode" target="_top">V:0.05, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kbarcode.html" target="_top">2180</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    приложение для печати баркодов и этикеток
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnucash" target="_top">
<code class="literal">gnucash</code> </a> <a class="ulink" href="http://bugs.debian.org/gnucash" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnucash" target="_top">V:0.7, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnucash.html" target="_top">5916</a></td>
<td align="left">
    GNOME
    </td>
<td align="left">
    личное средство калькуляции и отчётности
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/homebank" target="_top">
<code class="literal">homebank</code> </a> <a class="ulink" href="http://bugs.debian.org/homebank" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=homebank" target="_top">V:0.09, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/homebank.html" target="_top">1092</a></td>
<td align="left">
    GTK
    </td>
<td align="left">
    личное средство калькуляции и отчётности
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kmymoney2" target="_top">
<code class="literal">kmymoney2</code> </a> <a class="ulink" href="http://bugs.debian.org/kmymoney2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kmymoney2" target="_top">V:0.07, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kmymoney2.html" target="_top">144</a></td>
<td align="left">
    KDE
    </td>
<td align="left">
    личное средство калькуляции и отчётности
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xsane" target="_top"> <code class="literal">xsane</code>
</a> <a class="ulink" href="http://bugs.debian.org/xsane" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xsane" target="_top">V:5, I:36</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xsane.html" target="_top">748</a></td>
<td align="left">
    GTK
    </td>
<td align="left">
    программа для работы со сканером
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Пакет <code class="literal">poppler-data</code> (который раньше был в разделе
non-free, см. <a class="xref" href="#_ghostscript" title="11.3.1. Ghostscript">Раздел 11.3.1, «Ghostscript»</a>) должен быть установлен, чтобы
<code class="literal">evince</code> и <code class="literal">okular</code> могли отображать
документы CJK PDF, использующие данные Cmap (см. <a class="xref" href="#_cjk_fonts" title="7.6.3. Шрифты CJK">Раздел 7.6.3, «Шрифты CJK»</a>).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Установка такого ПО для KDE, как <code class="literal">scribus</code>, в окружение
GNOME вполне приемлемо, поскольку в GNOME нет аналогов со сравнимой
функциональностью. Однако установка множества пакетов, дублирующих
функциональность друг друга, засоряет ваше меню.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_x_trivia"></a>7.8. Мелочи X Window</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_keymaps_and_pointer_button_mappings_in_x"></a>7.8.1. Keymaps and pointer button mappings in X</h3></div></div></div>
<p><code class="literal">xmodmap</code>(1) -- средство изменения раскладки клавиатуры
(modmap) и значений клавиш мыши для X Window. Чтобы узнать код клавиши
(<span class="strong"><strong>keycode</strong></span>), запустите в X Window команду
<code class="literal">xev</code>(1) и нажмите клавиши. Чтобы узнать значение <span class="strong"><strong>keysym</strong></span>, загляните в
"<code class="literal">/usr/include/X11/keysymdef.h</code>" (из пакета
<code class="literal">x11proto-core-dev</code>). Все объявления
"<code class="literal">#define</code>" в этом файле начинаются с
"<code class="literal">XK_</code>", за которыми и идёт имя <span class="strong"><strong>keysym</strong></span>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_classic_x_clients"></a>7.8.2. Классические X-клиенты</h3></div></div></div>
<p>Большинство традиционных программ-клиентов X Window, таких как
<code class="literal">xterm</code>(1), можно запускать с набором стандартных опций
командной строки, определяющих размеры и положение окна (geometry), шрифт и
дисплей (display).</p>
<p>Также они используют базу X-ресурсов для настройки отображения. Значения по
умолчанию для всей системы хранятся в
"<code class="literal">/etc/X11/Xresources/*</code>", значения по умолчанию для разных
приложений находятся в
"<code class="literal">/etc/X11/app-defaults/*</code>". Используйте эти значения как
отправную точку.</p>
<p>Файл "<code class="literal">~/.Xresources</code>" используется для хранения настроек
отображения, определённых пользователем для себя. Этот файл автоматически
сливается с системной базой ресурсов при входе в систему (login). Чтобы
внесённые в этот файл изменения немедленно подействовали, его можно "слить"
вручную такой командой:</p>
<pre class="screen">$ xrdb -merge ~/.Xresources</pre>
<p>См. <code class="literal">x</code>(7) и <code class="literal">xrdb</code>(1).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_x_terminal_emulator_8212_xterm"></a>7.8.3. Эмулятор терминала -- xterm</h3></div></div></div>
<p>Узнайте всё об <code class="literal">xterm</code>(1) здесь: <a class="ulink" href="http://dickey.his.com/xterm/xterm.faq.html" target="_top">http://dickey.his.com/xterm/xterm.faq.html</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_running_x_clients_as_root"></a>7.8.4. Запуск X-клиентов от имени суперпользователя</h3></div></div></div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Никогда не запускайте дисплейный менеджер или менеджер сессий под учётной
записью суперпользователя, вводя имя <code class="literal">root</code> в окне входа,
например, <code class="literal">gdm</code>. Даже если вы хотите зайти только для
выполнения задач администрирования, это всё равно небезопасно. Вся
архитектура X Window признана небезопасной, если её запускать от имени
root. Вам следует всегда пользоваться самым низким из возможных уровней
привилегий, например, учётной записью обычного пользователя.</p>
</div>
<p>Вот простые способы запустить конкретный X-клиент, например,
"<code class="literal">foo</code>", от имени суперпользователя с помощью
<code class="literal">sudo</code>(8):</p>
<pre class="screen">$ sudo foo &amp;</pre>
<pre class="screen">$ sudo -s
# foo &amp;</pre>
<pre class="screen">$ gksu foo &amp;</pre>
<pre class="screen">$ ssh -X root@localhost
# foo &amp;</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Использование <code class="literal">ssh</code>(1) в последнем примере -- пустая трата
ресурсов.</p>
</div>
<p>Чтобы разрешить X-клиентам соединяться с X-сервером, учтите:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Переменные окружения пользователя X-сервера "<code class="literal">$XAUTHORITY</code>"
и "<code class="literal">$DISPLAY</code>" должны быть скопированы пользователю
X-клиента.
</li>
<li>
Файл, на который указывает "<code class="literal">$XAUTHORITY</code>" должен быть
доступен для чтения пользователю X-клиента.
</li>
</ul></div>
<p>Пакет <code class="literal">gksu</code> (popcon: V:24, I:47) -- специальное
графическое средство для предоставления привилегий суперпользователя. Оно
может быть настроено так, чтобы использовать либо <code class="literal">su</code>(1),
либо <code class="literal">sudo</code>(8). Эта настройка производится с помощью ключа
gconf "<code class="literal">/apps/gksu/sudo-mode</code>". Вы можете отредактировать
этот ключ с помощью <code class="literal">gconf-editor</code>(1) (меню: "Приложения" →
"Системные" → "Редактор конфигурации").</p>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_i18n_and_l10n"></a>Глава 8. I18N и L10N</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F" target="_top">Multilingualization
(M17N)</a>, или поддержка национальных языков для прикладных программ
реализована с помощью двух подходов:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Интернационализация (I18N): создание программ, потенциально предназначенных
для использования в любом месте, в любой стране с любым языком.
</li>
<li>
Локализация (I10N): создание программ, адаптированных для использования в
конкретной стране с конкретным языком.
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Цифры 17, 18 и 10 означают количество букв между "m" и "n", "i" и "n", "l" и
"n" в английских словах "multilingualization", "internationalization",
"localization".</p>
</div>
<p>Современное ПО типа GNOME и KDE многоязычны (multilingualized). Они
интернационализированы (internationalized), поскольку "понимают" данные в
<a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a>, и локализированы (localized), ибо "умеют"
выводить свои сообщения (и элементы интерфейса) на национальных языках с
помощью <code class="literal">gettext</code>(1). Базы сообщений для разных языков
могут поставляться в разных пакетах локализации. Локализация может быть
изменена просто установкой переменных окружения в соответствующие значения.</p>
<p>Простейшее представление текстовых данных обеспечивает 7-битная кодировка
<span class="strong"><strong>ASCII</strong></span>, использующая менее 127 символов и
поэтому достаточная для английского языка. Для поддержки большего количества
символов было предложено много разных кодировок. Современная кодировка --
<span class="strong"><strong>UTF-8</strong></span>, в ней представимы практически
любые известные человечеству символы. (См. <a class="xref" href="#_basics_of_encoding" title="8.3.1. Основные сведения о кодировке">Раздел 8.3.1, «Основные сведения о кодировке»</a>).</p>
<p>Подробней читайте в <a class="ulink" href="http://www.debian.org/doc/manuals/intro-i18n/" target="_top">Introduction к
i18n</a>.</p>
<p>Интернационализированная поддержка оборудования возможна с помощью
локализации данных конфигурации оборудования.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_keyboard_input"></a>8.1. Ввод с клавиатуры</h2></div></div></div>
<p>В Debian можно настроить клавиатуры с различными расположениями клавиш.</p>
<div class="table">
<a name="listofkeyboardreigurationmethods"></a><p class="title"><b>Таблица 8.1. Способы перенастройки клавиатуры</b></p>
<div class="table-contents"><table summary="Способы перенастройки клавиатуры" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    окружение
    </th>
<th align="left">
    команда
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    консоль Linux
    </td>
<td align="left">
                <code class="literal">dpkg-reconfigure --priority=low console-data</code>
              </td>
</tr>
<tr>
<td align="left">
    X Window
    </td>
<td align="left">
                <code class="literal">dpkg-reconfigure --priority=low xserver-xorg</code>
              </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Надстрочные знаки европейских языков (accented characters) поддерживаются с
помощью функции "мёртвой клавиши" (dead-key). Ввод символов азиатских языков
реализован с помощью более сложных <a class="ulink" href="http://ru.wikipedia.org/wiki/IME" target="_top">методов
ввода</a>, таких как <a class="ulink" href="http://en.wikipedia.org/wiki/Intelligent_Input_Bus" target="_top">IBus</a>, описанный ниже.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_input_method_support_with_ibus"></a>8.1.1. Методы ввода IBus</h3></div></div></div>
<p>Настройка многоязычного ввода в системе Debian упрощается семейством пакетов
<a class="ulink" href="http://en.wikipedia.org/wiki/Intelligent_Input_Bus" target="_top">IBus</a> и пакетом <code class="literal">im-config</code>. Вот
список пакетов IBus.</p>
<div class="table">
<a name="listofinputmethosupportswithibus"></a><p class="title"><b>Таблица 8.2. Список методов ввода, поддерживаемых IBus</b></p>
<div class="table-contents"><table summary="Список методов ввода, поддерживаемых IBus" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    поддерживаемая локаль
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus" target="_top"> ibus </a> <a class="ulink" href="http://bugs.debian.org/ibus" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus" target="_top">V:0.15, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus.html" target="_top">4204</a></td>
<td align="left">
    реализация метода ввода, использующая dbus
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-anthy" target="_top"> ibus-anthy </a>
<a class="ulink" href="http://bugs.debian.org/ibus-anthy" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-anthy" target="_top">V:0.03, I:0.07</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-anthy.html" target="_top">496</a></td>
<td align="left">
    японская
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-skk" target="_top"> ibus-skk </a>
<a class="ulink" href="http://bugs.debian.org/ibus-skk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-skk" target="_top">V:0.00, I:0.02</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-skk.html" target="_top">356</a></td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-pinyin" target="_top"> ibus-pinyin
</a> <a class="ulink" href="http://bugs.debian.org/ibus-pinyin" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-pinyin" target="_top">V:0.05, I:0.08</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-pinyin.html" target="_top">1184</a></td>
<td align="left">
    китайская (для zh_CN)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-chewing" target="_top"> ibus-chewing
</a> <a class="ulink" href="http://bugs.debian.org/ibus-chewing" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-chewing" target="_top">V:0.01, I:0.02</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-chewing.html" target="_top">244</a></td>
<td align="left">
    , , (для zh_TW)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-hangul" target="_top"> ibus-hangul
</a> <a class="ulink" href="http://bugs.debian.org/ibus-hangul" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-hangul" target="_top">V:0.00, I:0.02</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-hangul.html" target="_top">216</a></td>
<td align="left">
    корейская
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-table" target="_top"> ibus-table </a>
<a class="ulink" href="http://bugs.debian.org/ibus-table" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-table" target="_top">V:0.04, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-table.html" target="_top">680</a></td>
<td align="left">
    поддержка табличных механизмов ввода для IBus
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-table-thai" target="_top"> ibus-table-thai
</a> <a class="ulink" href="http://bugs.debian.org/ibus-table-thai" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-table-thai" target="_top">I:0.00</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-table-thai.html" target="_top">156
160</a></td>
<td align="left">
    тайская
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-unikey" target="_top"> ibus-unikey
</a> <a class="ulink" href="http://bugs.debian.org/ibus-unikey" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-unikey" target="_top">V:0.00, I:0.00</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-unikey.html" target="_top">316</a></td>
<td align="left">
    вьетнамский
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ibus-m17n" target="_top"> ibus-m17n </a>
<a class="ulink" href="http://bugs.debian.org/ibus-m17n" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ibus-m17n" target="_top">V:0.01, I:0.04</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/ibus-m17n.html" target="_top">180</a></td>
<td align="left">
    Многоязычная: хинди, арабский и др.
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Kinput2 и другие азиатские <a class="ulink" href="http://ru.wikipedia.org/wiki/IME" target="_top">методы ввода</a>
всё ещё доступны но не рекомендуются для современного окружения X Window с
UTF-8. <a class="ulink" href="http://en.wikipedia.org/wiki/Smart_Common_Input_Method" target="_top">SCIM</a> и <a class="ulink" href="http://en.wikipedia.org/wiki/Uim" target="_top">uim</a>
подходят для современного окружения X Window с UTF-8, хоть и немного
устарели.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_an_example_for_japanese"></a>8.1.2. Пример для японского языка</h3></div></div></div>
<p>Я нахожу очень удобным японский метод ввода, запущенный в английском
окружении ("<code class="literal">en_US.UTF-8</code>"). Здесь описано, как его
настроить с помощью IBus.</p>
<div class="orderedlist"><ol type="1">
<li>
Установите пакет <code class="literal">ibus-anthy</code> и его рекомендации, такие как
<code class="literal">im-config</code>.
</li>
<li>
Выполните "<code class="literal">im-config -c</code>" от имени пользователя в консоли
и выберите "<code class="literal">ibus</code>".
</li>
<li>
Выберите в меню "Система" → "Параметры" → "IBus Preferences" → "Input
Method" → "Select an input method" → "Japanese" → "Anthy" и нажмите
"Добавить".
</li>
<li>
Закройте консоль и зайдите заново от имени пользователя (relogin).
</li>
<li>
Проверьте установки с помощью "<code class="literal">im-config -l</code>".
</li>
<li>
Настройте метод ввода и режим правым кликом по GUI-панельке (вы можете
ограничить выбор методов).
</li>
<li>
Используйте для переключения CTRL-SPACE.
</li>
</ol></div>
<p>Возьмите на заметку!</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">im-config</code>(8) работает по-разному при запуске от имени
root и от имени обычного пользователя.
</li>
<li>
<code class="literal">im-config</code>(8) enables the best input method on the system
as default without any user actions.
</li>
<li>
The GUI menu entry for <code class="literal">im-config</code>(8) is disable as default
to prevent cluttering.
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_disabling_the_input_method"></a>8.1.3. Отключение методов ввода</h3></div></div></div>
<p>Если вы не хотите, чтобы ввод обрабатывался XIM (X Input Methods),
запускайте программу с переменной окружения
"<code class="literal">XMODIFIERS=none</code>". Это может быть полезно, если,
например, вы пользуетесь <code class="literal">egg</code> в
<code class="literal">emacs</code>(1).</p>
<pre class="screen">$ XMODIFIERS=none emacs</pre>
<p>Чтобы приспособить установку окружения для команд, запускаемых из Debian
меню в GUI, используйте "<code class="literal">/etc/menu/</code>" и
<code class="literal">update-menu</code>(1), как это описано в
"<code class="literal">/usr/share/doc/menu/html/</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_display_output"></a>8.2. Отображаемый вывод</h2></div></div></div>
<p>Консоль Linux может отображать ограниченное количество символов. (Вам нужно
использовать специальные терминальные программы, например,
<code class="literal">jfbterm</code>(1), чтобы отображать символы не-европейских
языков в не-X консоли).</p>
<p>X Window может отображать любой символ в UTF-8, если установлены нужные
шрифты.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_locale"></a>8.3. Локаль</h2></div></div></div>
<p>Здесь речь идёт о локали для программ, используемых под X Window, запущенной
с помощью <code class="literal">gdm</code>(1).</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basics_of_encoding"></a>8.3.1. Основные сведения о кодировке</h3></div></div></div>
<p>Переменная окружения "<code class="literal">LANG=xx_YY.ZZZZ</code>" устанавливает
локаль для языка с кодом "<code class="literal">xx</code>", страны с кодом
"<code class="literal">yy</code>", и кодировки "<code class="literal">ZZZZ</code>" (см. <a class="xref" href="#_literal_lang_literal_variable" title='1.5.2. Переменная "$LANG"'>Раздел 1.5.2, «Переменная "<code class="literal">$LANG</code>"»</a> ).</p>
<p>Сейчас в системе Debian обычно устанавливается
"<code class="literal">LANG=xx_YY.UTF-8</code>", что означает использование кодировки
<code class="literal">UTF-8</code> с набором символов <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4" target="_top">Unicode</a>. <a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a> --
мультибайтовая кодировка (один отображаемый символ может занимать несколько
байт). Символы <a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a>, которые кодируются семью
битами, всегда сохраняют свои значения в UTF-8 и занимают только 1 байт на
символ.</p>
<p>Предыдущие версии Debian устанавливали "<code class="literal">LANG=C</code>" или
"<code class="literal">LANG=xx_YY</code>" (то есть без "<code class="literal">.UTF-8</code>").</p>
<div class="itemizedlist"><ul type="disc">
<li>
Набор символов <a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a> используется в
"<code class="literal">LANG=C</code>" или "<code class="literal">LANG=POSIX</code>"
</li>
<li>
В Unix традиционно использовалась "<code class="literal">LANG=xx_YY</code>".
</li>
</ul></div>
<p>Список кодировок, используемых для "<code class="literal">LANG=xx_YY</code>" можно
найти в "<code class="literal">/usr/share/i18n/SUPPORTED</code>". Например,
"<code class="literal">en_US</code>" использует "<code class="literal">ISO-8859-1</code>", а
"<code class="literal">fr_FR@euro</code>" -- "<code class="literal">ISO-8859-15</code>".</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Несколько примеров кодировок есть в <a class="xref" href="#list-of-encoding-values" title="Таблица 11.2. Кодировки и их использование">Таблица 11.2, «Кодировки и их использование»</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_rationale_for_utf_8_locale"></a>8.3.2. Удобства UTF-8</h3></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a> -- современная и гибкая кодировка,
позволяющая представлять символы <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4" target="_top">Unicode</a>, то
есть практически все символы, известные человеку. <span class="strong"><strong>UTF</strong></span> расшифровывается как "Unicode Transformation
Format".</p>
<p>Я рекомендую использовать <a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a> для рабочего
места, например, "<code class="literal">LANG=en_US.UTF-8</code>". Первая часть
переменной "<code class="literal">LANG</code>" определяет, как программы будут
выводить сообщения. Например, <code class="literal">gedit</code>(1) (текстовый
редактор GNOME Desktop) с "<code class="literal">LANG=fr_FR.UTF-8</code>" сможет
редактировать и отображать китайский текст, но меню будут на
французском. Для этого нужны только необходимые шрифты и методы ввода.</p>
<p>Я также рекомендую устанавливать локаль только переменной
"<code class="literal">$LANG</code>", нет большого выигрыша от установки сложных
комбинаций различных переменных "<code class="literal">LC_*</code>"
(см. <code class="literal">locale</code>(1)), когда используется UTF-8.</p>
<p>Даже полностью английский текст может содержать не-ASCII символы, например,
открывающие и закрывающие кавычки.</p>
<pre class="screen">“текст в двойных кавычках”
‘текст в одинарных кавычках’</pre>
<p>Когда текст в <a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a> перекодируется в <a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a>, он остаётся точно такого же размера и
содержания. Вы ничего не теряете, выбрав UTF-8.</p>
<p>Некоторые программы с добавлением поддержки I18N начинают требовать больше
памяти. Причина -- использование в них <a class="ulink" href="http://en.wikipedia.org/wiki/UTF-32/UCS-4" target="_top">UTF-32
(UCS4)</a>, где каждый символ кодируется четырьмя байтами: это повышает
скорость, но требует больше памяти. Опять таки, вы ничего не теряете,
выбирая UTF-8.</p>
<p>Различные старые кодировки могли иметь небольшие, но неприятные различия в
некоторых символах (например, графических) для разных стран. Введение UTF-8
на современных ОС практически решило эту проблему.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_reconfiguration_of_the_locale"></a>8.3.3. Настройка локализации</h3></div></div></div>
<p>Чтобы система могла использовать конкретную локаль, данные этой локали
должны быть скомпилированы. (В Debian <span class="strong"><strong>нет</strong></span>
пакетов с отдельными скомпилированными локалями: можно собрать только нужные
вам, либо поставить <code class="literal">locales-all</code> со всеми сразу). Полный
список поддерживаемых локалей смотрите в
"<code class="literal">/usr/share/i18n/SUPPORTED</code>". А такая команда выведет
список всех уже скомпилированных локалей с поддержкой UTF-8.</p>
<pre class="screen">$ locale -a | grep utf8</pre>
<p>По такой команде можно изменить настройки локализации в системе.</p>
<pre class="screen"># dpkg-reconfigure locales</pre>
<p>Этот процесс состоит из 3 шагов.</p>
<div class="orderedlist"><ol type="1">
<li>
Обновление списка доступных локалей.
</li>
<li>
Компиляция нужных из них.
</li>
<li>
Установка системной локали для использования PAM в
"<code class="literal">/etc/defaults/locale</code>" (см. <a class="xref" href="#_pam_and_nss" title="4.5. PAM и NSS">Раздел 4.5, «PAM и NSS»</a>).
</li>
</ol></div>
<p>Список доступных локалей должен включать "<code class="literal">en_US.UTF-8</code>" и
все нужные языки с "<code class="literal">UTF-8</code>".</p>
<p>Для американского английского рекомендуется устанавливать локаль
"<code class="literal">en_US.UTF-8</code>". Для других языков выбирайте также любую
доступную для них "<code class="literal">UTF-8</code>". Любая такая настройка позволит
работать со всеми международными символами.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Хотя установка локали "<code class="literal">C</code>" приводит к выводу сообщений на
английском, используются в них только символы ASCII.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_value_of_the_literal_lang_literal_environment_variable"></a>8.3.4. Значение переменной "<code class="literal">$LANG</code>"</h3></div></div></div>
<p>Переменная "<code class="literal">$LANG</code>" может устанавливаться и меняться
разными программами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Устанавливается при открытии консоли Linux с помощью
<code class="literal">login</code>(1) и PAM.
</li>
<li>
Устанавливается при входе в GUI дисплей-менеджером с помощью PAM для всех
программ в X Window.
</li>
<li>
Устанавливается при входе по ssh(1) системой PAM для удалённых консольных
программ.
</li>
<li>
Изменяется дисплей-менеджером (например, <code class="literal">gdm</code>(1)) для всех
программ в X Window.
</li>
<li>
Изменяется механизмом Xsession согласно значениям в
"<code class="literal">~/.xsessionrc</code>" для всех программ в X Window
(<code class="literal">lenny</code>)
</li>
<li>
Может изменяться в настройках оболочки пользователя
"<code class="literal">~/.bashrc</code>" для всех консольных программ.
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Большей совместимости можно достичь, установив локаль в
"<code class="literal">en_US.UTF-8</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_specific_locale_only_under_x_window"></a>8.3.5. Определение особой локали для X Window</h3></div></div></div>
<p>Вы можете устанавливать локаль только для X Window независимо от настроек по
умолчанию в системе. Это делается с помощью PAM (См. <a class="xref" href="#_pam_and_nss" title="4.5. PAM и NSS">Раздел 4.5, «PAM и NSS»</a>) следующим способом.</p>
<p>Такое настройка делает систему более надёжной. Вы всегда имеете доступ к
работоспособному терминалу с читабельными сообщениями, даже когда X Window
не работает. Это особенно полезно для языков с не-латинскими символами,
например для китайского, японского и корейского.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Может быть и другой способ -- настройка дисплей-менеджера, однако здесь
приводится наиболее общий и базовый. Для <code class="literal">gdm</code>(1) можно
выбрать локаль прямо в меню входа.</p>
</div>
<p>Следующая строчка определяет, где находится файл с переменными окружения,
который должен быть прочитан системой PAM. Эта строчка может быть вставлена
в файл настройки PAM, например, в "<code class="literal">/etc/pam.d/gdm</code>".</p>
<pre class="screen">auth    required        pam_env.so read_env=1 envfile=/etc/default/locale</pre>
<p>Измените её следующим способом.</p>
<pre class="screen">auth    required        pam_env.so read_env=1 envfile=/etc/default/locale-x</pre>
<p>Для японского, создайте "<code class="literal">/etc/defaults/locale-gdm</code>" с
разрешениями доступа "<code class="literal">-rw-r--r-- 1 root root</code>" и добавьте
туда следующую строчку.</p>
<pre class="screen">LANG="ja_JP.UTF-8"</pre>
<p>Не трогайте используемый по умолчанию файл
"<code class="literal">/etc/defaults/locale</code>", пусть он послужит другим
приложениям и продолжает включать такую строку.</p>
<pre class="screen">LANG="en_US.UTF-8"</pre>
<p>Это наиболее общий способ настройки локали, с его помощью диалог выбора
локали, предлагаемый <code class="literal">gdm</code>(1), тоже становится
локализованным.</p>
<p>Ещё один возможный способ -- просто изменить локаль в файле
"<code class="literal">~/.xsessionrc</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_filename_encoding"></a>8.3.6. Кодировка имён файлов</h3></div></div></div>
<p>Для коммуникаций с другими системами на других платформах (см. <a class="xref" href="#_removable_storage_device" title="10.1.10. Съёмные устройства хранения данных">Раздел 10.1.10, «Съёмные устройства хранения данных»</a>) может потребоваться примонтировать
файловые системы с заданной кодировкой. Например, команда
<code class="literal">mount</code>(8), подключая <a class="ulink" href="http://ru.wikipedia.org/wiki/File_Allocation_Table" target="_top">ФС
vfat</a> по умолчанию использует кодировку <a class="ulink" href="http://ru.wikipedia.org/wiki/CP437" target="_top">CP437</a>. Для подключения с <a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a> или <a class="ulink" href="http://en.wikipedia.org/wiki/Code_page_932" target="_top">CP932</a> нужно
использовать особый параметр.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В GNOME можно задавать кодировку, с которой будет автоматически подключаться
диск (например, USB-диск), щёлкнув по значку подключенного диска, и выбрав
"Настройки" ("Setting"). Например, можно ввести "utf8" в "Параметры
монтирования" ("Mount options"), и в следующий раз устройство будет
подключено с этой кодировкой.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Если вы обновляете систему или подключаете диски со старых систем без UTF-8,
имена файлов, содержащие не-ASCII символы, будут в одной из устаревших и
неиспользуемых уже кодировок, например, <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8859-1" target="_top">ISO-8859-1</a> или <a class="ulink" href="http://en.wikipedia.org/wiki/Extended_Unix_Code" target="_top">eucJP</a>. Вы можете перекодировать их в <a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a>. См. <a class="xref" href="#_text_data_conversion_tools" title="11.1. Средства преобразования текстов">Раздел 11.1, «Средства преобразования текстов»</a>.</p>
</div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/Samba" target="_top">Samba</a> использует Юникод для новых клиентов
(Windows NT, 200x, XP), но <a class="ulink" href="http://ru.wikipedia.org/wiki/CP850" target="_top">CP850</a> для старых
(DOS и Windows 9x/Me) по умолчанию. Это умолчание для старых клиентов можно
изменить в "<code class="literal">/etc/samba/smb.conf</code>", установив "<code class="literal">dos
charset</code>" на нужное значение (например, на <a class="ulink" href="http://en.wikipedia.org/wiki/Code_page_932" target="_top">CP932</a> для японского).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_localized_messages_and_translated_documentation"></a>8.3.7. Локализованные сообщения и переведённая документация</h3></div></div></div>
<p>Для многих документов и сообщений в системе Debian доступны переводы
(трансляции). Переведены многие сообщения об ошибках, стандартные сообщения,
выводимые программами, многие меню и man-страницы. <a class="ulink" href="http://ru.wikipedia.org/wiki/Gettext" target="_top">GNU gettext(1)</a> -- основное
средство создания и вывода таких сообщений.</p>
<p><code class="literal">aptitude</code>(8) в разделе "Задачи" -- "Локализация",
предлагает большой список полезных двоичных пакетов, добавляющих
локализованные сообщения и транслированную документацию.</p>
<p>Например, вы можете установить пакеты
<code class="literal">manpages-&lt;LANG&gt;</code> с man-страницами. Чтобы прочитать,
например, итальянскую man-страницу для заданной &lt;программы&gt; из
"<code class="literal">/usr/share/man/it/</code>", выполните следующее.</p>
<pre class="screen">LANG=it_IT.UTF-8 man &lt;имя_программы&gt;</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_effects_of_the_locale"></a>8.3.8. Последствия установки локали</h3></div></div></div>
<p>Порядок сортировки символов программой <code class="literal">sort</code>(1) меняется в
зависимости от установки локали. Сортировка в английской локали будет
отличаться от сортировки, например, в испанской.</p>
<p>Формат даты, выводимый <code class="literal">ls</code>(1) тоже зависит от
локали. Формат даты с "<code class="literal">LANG=C ls -l</code>" и
"<code class="literal">LANG=en_US.UTF-8</code>" будет разный. (См. <a class="xref" href="#_customized_display_of_time_and_date" title="9.2.5. Настройка отображения времени и даты">Раздел 9.2.5, «Настройка отображения времени и даты»</a>).</p>
<p>Способ записи чисел также зависит от локали. В английской, например, "одна
тысяча и одна десятая" отображается как "<code class="literal">1,000.1</code>", тогда
как в немецкой то же число будет выглядеть как
"<code class="literal">1.000,1</code>". Можете проверить это в редакторе электронных
таблиц.</p>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_system_tips"></a>Глава 9. Советы по использованию системы</h2></div></div></div>
<p>Здесь идут советы по настройке и управлению системой, большей частью из
консоли.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_screen_program"></a>9.1. Программа screen</h2></div></div></div>
<p><code class="literal">screen</code>(1) -- очень полезное средство для тех, кому нужно
соединяться с удалёнными системами через ненадёжные или обрывающиеся
соединения, поскольку оно поддерживает прерванные сетевые соединения.</p>
<div class="table">
<a name="listofprogramstotworkconnections"></a><p class="title"><b>Таблица 9.1. Список программ, поддерживающих прерванные сетевые соединения</b></p>
<div class="table-contents"><table summary="Список программ, поддерживающих прерванные сетевые соединения" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody><tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/screen" target="_top">
<code class="literal">screen</code> </a> <a class="ulink" href="http://bugs.debian.org/screen" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=screen" target="_top">V:11, I:34</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/screen.html" target="_top">952</a></td>
<td align="left">
    терминальный мультиплексор с эмуляцией терминала VT100/ANSI
    </td>
</tr></tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_use_scenario_for_screen_1"></a>9.1.1. Сценарий использования screen(1)</h3></div></div></div>
<p><code class="literal">screen</code>(1) не только позволяет одному терминальному окну
работать с несколькими процессами, но также позволяет <span class="strong"><strong>удалённой оболочке и процессам выживать в случае обрыва
соединения</strong></span>. Вот типичный сценарий использования
<code class="literal">screen</code>(1).</p>
<div class="orderedlist"><ol type="1">
<li>
Вы подключаетесь к удалённой системе.
</li>
<li>
Вы запускаете <code class="literal">screen</code> на одной консоли.
</li>
<li>
Вы выполняете различные программы в окнах <code class="literal">screen</code>,
созданных командой <code class="literal">^A c</code> ("Control-A" и потом "c").
</li>
<li>
Вы переключаетесь между разными окнами <code class="literal">screen</code> с помощью
<code class="literal">^A n</code> ("Control-A" и потом "n").
</li>
<li>
Внезапно вам нужно покинуть терминал, но вы не хотите терять запущенные
задачи.
</li>
<li>
<p>
Вы можете <span class="emphasis"><em>отсоединиться</em></span> от сессии
<code class="literal">screen</code> любым способом.
</p>
<div class="itemizedlist"><ul type="disc">
<li>
Зверски отключить сетевое соединение
</li>
<li>
Ввести <code class="literal">^A d</code> ("Contol-A", "d") и вручную завершить
удалённое соединение
</li>
<li>
Ввести <code class="literal">^A DD</code> ("Control-A", "DD"), чтобы отключиться от
<code class="literal">screen</code> и выйти из системы
</li>
</ul></div>
</li>
<li>
Вы снова входите на ту же удалённую систему (даже из другого терминала).
</li>
<li>
Вы запускаете <code class="literal">screen</code> так: "<code class="literal">screen -r</code>".
</li>
<li>
<code class="literal">screen</code> волшебным образом <span class="strong"><strong>привязывается</strong></span> ко всем ранее открытым окнам
<code class="literal">screen</code> со всеми работающими программами.
</li>
</ol></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>С помощью <code class="literal">screen</code> вы можете уменьшить нагрузку на слабый
канал, такой как dial-up и packet ones (поскольку запущенный процесс будет
работать, пока вы отсоединены), а потом возобновить соединение.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_key_bindings_for_the_screen_command"></a>9.1.2. Клавиши управления screen</h3></div></div></div>
<p>In a <code class="literal">screen</code> session, all keyboard inputs are sent to your
current window except for the command keystroke.  All
<code class="literal">screen</code> command keystrokes are entered by typing
<code class="literal">^A</code> ("Control-A") plus a single key [plus any
parameters].  Here are important ones to remember.</p>
<div class="table">
<a name="listofkeybindingsforscreen"></a><p class="title"><b>Таблица 9.2. Список команд управления screen</b></p>
<div class="table-contents"><table summary="Список команд управления screen" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    действие
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">^A ?</code>
                </td>
<td align="left">
    показать справка (список команд)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A c</code>
                </td>
<td align="left">
    создать новое окно и переключиться на него
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A n</code>
                </td>
<td align="left">
    перейти к следующему окну
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A p</code>
                </td>
<td align="left">
    перейти к предыдущему окну
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A 0</code>
                </td>
<td align="left">
    перейти к окну с номером 0
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A 1</code>
                </td>
<td align="left">
    перейти к окну с номером 1
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A w</code>
                </td>
<td align="left">
    показать список окон
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A a</code>
                </td>
<td align="left">
    послать текущему окну Ctrl-A как ввод с клавиатуры
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A h</code>
                </td>
<td align="left">
    записать копию текущего окна в файл
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A H</code>
                </td>
<td align="left">
    начать/завершить ведение журнала активности текущего окна
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A ^X</code>
                </td>
<td align="left">
    заблокировать терминал (защищено паролем)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A d</code>
                </td>
<td align="left">
    отключить сессию screen от терминала
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">^A DD</code>
                </td>
<td align="left">
    отключить сессию screen и отключиться от терминала
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Подробности смотрите в <code class="literal">screen</code>(1).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_data_recording_and_presentation"></a>9.2. Запись и представление данных</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_log_daemon"></a>9.2.1. Служба журналирования (log daemon)</h3></div></div></div>
<p>Многие программы ведут журналы своей активности в каталоге
"<code class="literal">/var/log/</code>".</p>
<div class="itemizedlist"><ul type="disc">
<li>
Служба журналирования ядра: <code class="literal">klogd</code>(8)
</li>
<li>
Системная служба журналирования: <code class="literal">syslogd</code>(8)
</li>
</ul></div>
<p>См. <a class="xref" href="#_the_system_message" title="3.5.9. Системные сообщения">Раздел 3.5.9, «Системные сообщения»</a> и <a class="xref" href="#_the_kernel_message" title="3.5.10. Сообщения ядра">Раздел 3.5.10, «Сообщения ядра»</a>."</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_log_analyzer"></a>9.2.2. Анализатор журнальных файлов (log analyzer)</h3></div></div></div>
<p>Вот замеченные анализаторы журнальных файлов
("<code class="literal">~Gsecurity::log-analyzer</code>" в
<code class="literal">aptitude</code>(8)).</p>
<div class="table">
<a name="listofsystemloganalyzers"></a><p class="title"><b>Таблица 9.3. Список анализаторов журнальных файлов</b></p>
<div class="table-contents"><table summary="Список анализаторов журнальных файлов" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/logwatch" target="_top">
<code class="literal">logwatch</code> </a> <a class="ulink" href="http://bugs.debian.org/logwatch" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=logwatch" target="_top">V:2, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/logwatch.html" target="_top">2592</a></td>
<td align="left">
    log analyzer with nice output written in Perl
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fail2ban" target="_top">
<code class="literal">fail2ban</code> </a> <a class="ulink" href="http://bugs.debian.org/fail2ban" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fail2ban" target="_top">V:4, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fail2ban.html" target="_top">660</a></td>
<td align="left">
    блокирование IP-адресов, соединения с которых приводят к нескольким ошибкам
аутентификации
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/analog" target="_top">
<code class="literal">analog</code> </a> <a class="ulink" href="http://bugs.debian.org/analog" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=analog" target="_top">V:1.0, I:16</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/analog.html" target="_top">4520</a></td>
<td align="left">
    анализатор журналов веб-сервера
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/awstats" target="_top">
<code class="literal">awstats</code> </a> <a class="ulink" href="http://bugs.debian.org/awstats" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=awstats" target="_top">V:1.8, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/awstats.html" target="_top">5200</a></td>
<td align="left">
    powerful and featureful web server log analyzer
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sarg" target="_top"> <code class="literal">sarg</code>
</a> <a class="ulink" href="http://bugs.debian.org/sarg" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sarg" target="_top">V:1.9, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sarg.html" target="_top">644</a></td>
<td align="left">
    squid analysis report generator
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pflogsumm" target="_top">
<code class="literal">pflogsumm</code> </a> <a class="ulink" href="http://bugs.debian.org/pflogsumm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pflogsumm" target="_top">V:0.3, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pflogsumm.html" target="_top">160</a></td>
<td align="left">
    Postfix log entry summarizer
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/syslog-summary" target="_top">
<code class="literal">syslog-summary</code> </a> <a class="ulink" href="http://bugs.debian.org/syslog-summary" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=syslog-summary" target="_top">V:0.2, I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/syslog-summary.html" target="_top">84</a></td>
<td align="left">
    summarize the contents of a syslog log file
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lire" target="_top"> <code class="literal">lire</code>
</a> <a class="ulink" href="http://bugs.debian.org/lire" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lire" target="_top">V:0.15, I:0.17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lire.html" target="_top">5056</a></td>
<td align="left">
    full-featured log analyzer and report generator
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fwlogwatch" target="_top">
<code class="literal">fwlogwatch</code> </a> <a class="ulink" href="http://bugs.debian.org/fwlogwatch" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fwlogwatch" target="_top">V:0.11, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fwlogwatch.html" target="_top">360</a></td>
<td align="left">
    анализатор журнала фаервола
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/squidview" target="_top">
<code class="literal">squidview</code> </a> <a class="ulink" href="http://bugs.debian.org/squidview" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=squidview" target="_top">V:0.10, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/squidview.html" target="_top">244</a></td>
<td align="left">
    monitor and analyze squid access.log files
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/visitors" target="_top">
<code class="literal">visitors</code> </a> <a class="ulink" href="http://bugs.debian.org/visitors" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=visitors" target="_top">V:0.09, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/visitors.html" target="_top">228</a></td>
<td align="left">
    быстрый анализатор журнала веб-сервера
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/swatch" target="_top">
<code class="literal">swatch</code> </a> <a class="ulink" href="http://bugs.debian.org/swatch" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=swatch" target="_top">V:0.06, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/swatch.html" target="_top">112</a></td>
<td align="left">
    log file viewer with regexp matching, highlighting, and hooks
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/crm114" target="_top">
<code class="literal">crm114</code> </a> <a class="ulink" href="http://bugs.debian.org/crm114" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=crm114" target="_top">V:0.06, I:0.19</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/crm114.html" target="_top">1300</a></td>
<td align="left">
    Controllable Regex Mutilator and Spam Filter (CRM114)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/icmpinfo" target="_top">
<code class="literal">icmpinfo</code> </a> <a class="ulink" href="http://bugs.debian.org/icmpinfo" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=icmpinfo" target="_top">V:0.04, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/icmpinfo.html" target="_top">84</a></td>
<td align="left">
    интерпретатор ICMP-сообщений
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><a class="ulink" href="http://crm114.sourceforge.net/" target="_top">CRM114</a> provides language infrastructure to
write <span class="strong"><strong>fuzzy</strong></span> filters with the <a class="ulink" href="http://www.laurikari.net/tre/" target="_top">TRE regex library</a>.  Its popular use is spam
mail filter but it can be used as log analyzer.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_recording_the_shell_activities_cleanly"></a>9.2.3. Записываем действия оболочки чисто</h3></div></div></div>
<p>При использовании <code class="literal">script</code>(1) (см. <a class="xref" href="#_recording_the_shell_activities" title="1.4.9. Запись вывода оболочки">Раздел 1.4.9, «Запись вывода оболочки»</a>) для записи вывода оболочки
появляются файлы со специальными символами. Это можно обойти с помощью
<code class="literal">col</code>(1).</p>
<pre class="screen">$ script
Script started, file is typescript</pre>
<p>Сделайте что-нибудь, затем нажмите <code class="literal">Ctrl-D</code> для выхода из
<code class="literal">script</code>.</p>
<pre class="screen">$ col -bx &lt;typescript &gt;очищенный_файл
$ vim очищенный_файл</pre>
<p>Если <code class="literal">script</code> недоступен (например, в процессе загрузки, на
стадии initramfs), вместо него можно использовать это:</p>
<pre class="screen">$ sh -i 2&gt;&amp;1 | tee typescript</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Некоторые эмуляторы терминалов, например <code class="literal">gnome-terminal</code>,
также могут вести запись. Вам может потребоваться увеличить количество строк
в буфере для обратной прокрутки.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Для записи активности в <code class="literal">screen</code>(1) используйте команду
"<code class="literal">^A H</code>" (см. <a class="xref" href="#_key_bindings_for_the_screen_command" title="9.1.2. Клавиши управления screen">Раздел 9.1.2, «Клавиши управления screen»</a>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете использовать команды "<code class="literal">M-x shell</code>", "<code class="literal">M-x
eshell</code>", "<code class="literal">M-x term</code>" в
<code class="literal">emacs</code>(1) для записи активности консоли. В нужный момент
просто нажмите "<code class="literal">C-x C-w</code>" для сохранения буфера в файл.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_customized_display_of_text_data"></a>9.2.4. Настройка отображения текстовых данных</h3></div></div></div>
<p>Хотя средства просмотра текстов, такие как <code class="literal">more</code>(1) и
<code class="literal">less</code>(1) (см. <a class="xref" href="#_the_pager" title="1.4.5. Пейджер (pager) -- программа просмотра файлов">Раздел 1.4.5, «Пейджер (pager) -- программа просмотра файлов»</a>), и средства
подсветки и форматирования (см. <a class="xref" href="#_highlighting_and_formatting_plain_text_data" title="11.1.8. Подсветка и форматирование текстовых данных">Раздел 11.1.8, «Подсветка и форматирование текстовых данных»</a>) могут хорошо
отображать текст, редакторы общего назначения (см. <a class="xref" href="#_the_text_editor" title="1.4.6. Текстовый редактор">Раздел 1.4.6, «Текстовый редактор»</a>) можно более гибко настроить.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>В <code class="literal">vim</code>(1) и его режиме пейджера <code class="literal">view</code>(1)
команда "<code class="literal">:set hls</code>" включает подсветку для поиска.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_customized_display_of_time_and_date"></a>9.2.5. Настройка отображения времени и даты</h3></div></div></div>
<p>По умолчанию формат отображения времени и даты командой "<code class="literal">ls
-l</code>" зависит от <span class="strong"><strong>локали</strong></span> (значения
смотрите в <a class="xref" href="#_timestamps" title="1.2.6. Временные метки файлов">Раздел 1.2.6, «Временные метки файлов»</a>). Первой проверяется переменная
"<code class="literal">$LANG</code>", но приоритет над ней есть у переменной
"<code class="literal">$LC_TIME</code>.</p>
<p>Действительный формат отображения для каждой локали зависит от используемой
версии стандартной библиотеки C (пакет <code class="literal">libc6</code>). То есть в
разных выпусках системы Debian разные значения по умолчанию.</p>
<p>Если вы действительно хотите настроить формат отображения времени и даты в
обход <span class="strong"><strong>локали</strong></span>, вам следует установить
<span class="emphasis"><em>стиль отображения времени</em></span> (time style
value) с помощью параметра "<code class="literal">--time-style</code>" или переменной
"<code class="literal">$TIME_STYLE</code>" (см. <code class="literal">ls</code>(1),
<code class="literal">date</code>(1), "<code class="literal">info coreutils 'ls
invocation'</code>").</p>
<div class="table">
<a name="displayexamplesolcommandforlenny"></a><p class="title"><b>Таблица 9.4. Примеры отображения времени и даты командой "<code class="literal">ls -l</code>" в
<code class="literal">lenny</code></b></p>
<div class="table-contents"><table summary='Примеры отображения времени и даты командой "ls -l" в
lenny' border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    time style value
    </th>
<th align="left">
    локаль
    </th>
<th align="left">
    отображение времени и даты
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">iso</code>
                </td>
<td align="left">
                  <span class="emphasis"><em>любая</em></span>
                </td>
<td align="left">
                  <code class="literal">01-19 00:15</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">long-iso</code>
                </td>
<td align="left">
                  <span class="emphasis"><em>любая</em></span>
                </td>
<td align="left">
                  <code class="literal">2009-01-19 00:15</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">full-iso</code>
                </td>
<td align="left">
                  <span class="emphasis"><em>любая</em></span>
                </td>
<td align="left">
                  <code class="literal">2009-01-19 00:15:16.000000000 +0900</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">locale</code>
                </td>
<td align="left">
                  <code class="literal">C</code>
                </td>
<td align="left">
                  <code class="literal">Jan 19 00:15</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">locale</code>
                </td>
<td align="left">
                  <code class="literal">en_US.UTF-8</code>
                </td>
<td align="left">
                  <code class="literal">2009-01-19 00:15</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">locale</code>
                </td>
<td align="left">
                  <code class="literal">es_ES.UTF-8</code>
                </td>
<td align="left">
                  <code class="literal">ene 19 00:15</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">+%d.%m.%y %H:%M</code>
                </td>
<td align="left">
                  <span class="emphasis"><em>любая</em></span>
                </td>
<td align="left">
                  <code class="literal">19.01.09 00:15</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">+%d.%b.%y %H:%M</code>
                </td>
<td align="left">
<code class="literal">C</code> или <code class="literal">en_US.UTF-8</code>
    </td>
<td align="left">
                  <code class="literal">19.Jan.09 00:15</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">+%d.%b.%y %H:%M</code>
                </td>
<td align="left">
                  <code class="literal">es_ES.UTF-8</code>
                </td>
<td align="left">
                  <code class="literal">19.ene.09 00:15</code>
                </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете обойтись без ввода длинных параметров в командной строке с помощью
"прозвищ" (command alias), например, "<code class="literal">alias ls='ls
--time-style=+%d.%m.%y\ %H:%M'</code>" (см. <a class="xref" href="#_command_alias" title='1.5.9. "Прозвища" для команд (alias)'>Раздел 1.5.9, «"Прозвища" для команд (alias)»</a>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8601" target="_top">ISO 8601</a> is followed for these iso-formats.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_colorized_shell_echo"></a>9.2.6. Подсветка вывода оболочки</h3></div></div></div>
<p>В большинстве современных терминалов вывод оболочки может быть подсвечен с
помощью <a class="ulink" href="http://en.wikipedia.org/wiki/ANSI_escape_code" target="_top">ANSI-последовательностей</a>
(см. "<code class="literal">/usr/share/doc/xterm/ctlseqs.txt.gz</code>").</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ RED=$(printf "\x1b[31m")
$ NORMAL=$(printf "\x1b[0m")
$ REVERSE=$(printf "\x1b[7m")
$ echo \"${RED}RED-TEXT${NORMAL} ${REVERSE}REVERSE-TEXT${NORMAL}\"</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_colorized_commands"></a>9.2.7. Подсветка вывода команд</h3></div></div></div>
<p>Подсветка команд очень удобна для наглядного просмотра их вывода в
интерактивном режиме. Я включаю следующие строки в мой
"<code class="literal">~/.bashrc</code>".</p>
<pre class="screen">if [ "$TERM" != "dumb" ]; then
    eval "`dircolors -b`"
    alias ls='ls --color=always'
    alias ll='ls --color=always -l'
    alias la='ls --color=always -A'
    alias less='less -R'
    alias ls='ls --color=always'
    alias grep='grep --color=always'
    alias egrep='egrep --color=always'
    alias fgrep='fgrep --color=always'
    alias zgrep='zgrep --color=always'
else
    alias ll='ls -l'
    alias la='ls -A'
fi</pre>
<p>Использование алиасов ограничивает вывод цветовых эффектов интерактивным
режимом. Оно имеет преимущество перед установкой переменной окружения
"<code class="literal">export GREP_OPTIONS="--color=auto'</code>", поскольку цвета
могут отображаться в программах просмотра типа
<code class="literal">less</code>(1). Если вы хотите избежать цветного вывода при
перенаправлении результата другим командам, используйте
"<code class="literal">--color=auto</code>" вместо приведённого выше примера для
"<code class="literal">~/.bashrc</code>".</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете отключить эти алиасы для подсветки в интерактивном режиме,
запустив оболочку так: "<code class="literal">TERM=dumb bash</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_recording_the_editor_activities_for_complex_repeats"></a>9.2.8. Запись действий в редакторе для последующего повторения</h3></div></div></div>
<p>Вы можете записать действия в текстовом редакторе и повторять их потом одной
командой (макрос).</p>
<p>В <a class="ulink" href="http://ru.wikipedia.org/wiki/Vim" target="_top">Vim</a> это делается так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">qa</code>": начать запись введённых символов в именованный
регистр "<code class="literal">a</code>".
</li>
<li>
… выполняете действия в редакторе
</li>
<li>
"<code class="literal">q</code>": завершить запись введённых команд.
</li>
<li>
"<code class="literal">@a</code>": выполнить команды, сохранённые в регистре
"<code class="literal">a</code>".
</li>
</ul></div>
<p>Вот способ для <a class="ulink" href="http://ru.wikipedia.org/wiki/Emacs" target="_top">Emacs</a>.</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">C-x (</code>": начать ввод макроса (keyboard macro).
</li>
<li>
… выполняете действия в редакторе
</li>
<li>
"<code class="literal">C-x )</code>": завершить ввод макроса.
</li>
<li>
"<code class="literal">C-x e</code>": выполнить макрос.
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_recording_the_graphic_image_of_an_x_application"></a>9.2.9. Запись графического изображения приложений X-window (снимок экрана)</h3></div></div></div>
<p>Есть несколько способов сделать снимок экрана приложений X-window, включая
окно <code class="literal">xterm</code>.</p>
<div class="table">
<a name="listofgraphicimaanipulationtools"></a><p class="title"><b>Таблица 9.5. Список средств обработки изображений</b></p>
<div class="table-contents"><table summary="Список средств обработки изображений" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    команда
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xbase-clients" target="_top">
<code class="literal">xbase-clients</code> </a> <a class="ulink" href="http://bugs.debian.org/xbase-clients" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xbase-clients" target="_top">V:4, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xbase-clients.html" target="_top">132</a></td>
<td align="left">
<code class="literal">xwd</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gimp" target="_top"> <code class="literal">gimp</code>
</a> <a class="ulink" href="http://bugs.debian.org/gimp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gimp" target="_top">V:12, I:44</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gimp.html" target="_top">13560</a></td>
<td align="left">
    Меню GUI
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/imagemagick" target="_top">
<code class="literal">imagemagick</code> </a> <a class="ulink" href="http://bugs.debian.org/imagemagick" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=imagemagick" target="_top">V:18, I:34</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/imagemagick.html" target="_top">316</a></td>
<td align="left">
<code class="literal">import</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/scrot" target="_top"> <code class="literal">scrot</code>
</a> <a class="ulink" href="http://bugs.debian.org/scrot" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=scrot" target="_top">V:0.2, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/scrot.html" target="_top">80</a></td>
<td align="left">
<code class="literal">scrot</code>(1)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_recording_changes_in_configuration_files"></a>9.2.10. Запись изменений в файлах конфигурации</h3></div></div></div>
<p>Есть специальные средства для записи изменений в файлах конфигурации с
помощью системы DVCS.</p>
<div class="table">
<a name="listofpackagestotionhistoryinvcs"></a><p class="title"><b>Таблица 9.6. Список пакетов для записи истории конфигурации в VCS</b></p>
<div class="table-contents"><table summary="Список пакетов для записи истории конфигурации в VCS" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/etckeeper" target="_top">
<code class="literal">etckeeper</code> </a> <a class="ulink" href="http://bugs.debian.org/etckeeper" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=etckeeper" target="_top">V:0.9, I:1.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/etckeeper.html" target="_top">380</a></td>
<td align="left">
    сохраняет файлы конфигурации и их мета-данные с помощью <a class="ulink" href="http://ru.wikipedia.org/wiki/Git" target="_top">Git</a> (по умолчанию), <a class="ulink" href="http://ru.wikipedia.org/wiki/Mercurial" target="_top">Mercurial</a> или <a class="ulink" href="http://ru.wikipedia.org/wiki/Bazaar" target="_top">Bazaar</a>
(новая возможность).
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/changetrack" target="_top">
<code class="literal">changetrack</code> </a> <a class="ulink" href="http://bugs.debian.org/changetrack" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=changetrack" target="_top">V:0.07, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/changetrack.html" target="_top">152</a></td>
<td align="left">
    сохраняет файлы конфигурации с помощью <a class="ulink" href="http://ru.wikipedia.org/wiki/Revision_Control_System" target="_top">RCS</a>
(старое средство)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Я рекомендую использовать <code class="literal">etckeeper</code> вместе с
<code class="literal">git</code>(1), который сохраняет всё под контролем
VCS. Руководство по установке и использованию можно найти в
"<code class="literal">/usr/share/doc/etckeeper/README.gz</code>".</p>
<p>Essentially, running "<code class="literal">sudo etckeeper init</code>" initializes
the git repository for "<code class="literal">/etc</code>" just like the process
explained in <a class="xref" href="#_git_for_recording_configuration_history" title="10.9.5. Git для записи истории изменения конфигурационных файлов">Раздел 10.9.5, «Git для записи истории изменения конфигурационных файлов»</a> but
with special hook scripts for more thorough setups.</p>
<p>As you change your configuration, you can use <code class="literal">git</code>(1)
normally to record them.  It automatically records changes nicely every time
you run package management commands, too.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can browse the change history of "<code class="literal">/etc</code>" by executing
"<code class="literal">sudo GIT_DIR=/etc/.git gitk</code>" with clear view for new
installed packages, removed packages, and version changes of packages.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_data_storage_tips"></a>9.3. Советы по работе с дисками и разделами</h2></div></div></div>
<p>Загрузив ваш компьютер с Linux <a class="ulink" href="http://ru.wikipedia.org/wiki/LiveCD" target="_top">live CDs</a> или с
<a class="ulink" href="http://www.debian.org/releases/stable/debian-installer/" target="_top">установочного диска Debian</a> в
режиме восстановления (rescue mode), вы легко можете перенастроить разделы
вашего загрузочного устройства. См. также <a class="xref" href="#_the_binary_data" title="10.3. Двоичные данные">Раздел 10.3, «Двоичные данные»</a>.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_disk_partition_configuration"></a>9.3.1. Настройка раздела диска</h3></div></div></div>
<p>Хотя <code class="literal">fdisk</code>(8) признан стандартным средством настройки
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0" target="_top">разделов диска (партиций)</a>,
<code class="literal">parted</code>(8) заслуживает некоторого внимания. Термины "Disk
partitioning data", "partition table", "partition map" и "disk label"
являются синонимами. (Загрузочная запись, таблица разделов, ...)</p>
<p>Большинство PC используют <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C" target="_top">Главную
Загрузочную Запись (MBR)</a> для хранения данных о <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0" target="_top">разделах диска</a> в первом секторе, то есть в
<a class="ulink" href="http://ru.wikipedia.org/wiki/LBA" target="_top">LBA</a>-секторе с номером 0, на первых 512 байтах
диска.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Некоторые новые PC (в том числе Mac'и на базе Intel) поддерживают технологию
<a class="ulink" href="http://ru.wikipedia.org/wiki/Extensible_Firmware_Interface" target="_top">Extensible Firmware Interface
(EFI)</a>. В этом случае таблица разделов (partition table) находится в
другом месте диска, и называется <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID" target="_top">GUID
Partition Table (GPT)</a>.</p>
</div>
<p>Хотя <code class="literal">fdisk</code>(8) был стандартным средством для операций с
разделами диска,  <code class="literal">parted</code>(8) заменяет его.</p>
<div class="table">
<a name="listofdiskpartitnagementpackages"></a><p class="title"><b>Таблица 9.7. Список пакетов для управления разделами диска</b></p>
<div class="table-contents"><table summary="Список пакетов для управления разделами диска" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    GPT
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/util-linux" target="_top">
<code class="literal">util-linux</code> </a> <a class="ulink" href="http://bugs.debian.org/util-linux" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=util-linux" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/util-linux.html" target="_top">2216</a></td>
<td align="left">
    не поддерживается
    </td>
<td align="left">
    различные системные средства, в том числе <code class="literal">fdisk</code>(8) и
<code class="literal">cfdisk</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/parted" target="_top">
<code class="literal">parted</code> </a> <a class="ulink" href="http://bugs.debian.org/parted" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=parted" target="_top">V:1.0, I:9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/parted.html" target="_top">236</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    GNU Parted disk partition resizing program
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gparted" target="_top">
<code class="literal">gparted</code> </a> <a class="ulink" href="http://bugs.debian.org/gparted" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gparted" target="_top">V:3, I:32</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gparted.html" target="_top">4288</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    Редактор партиций для GNOME, на основе <code class="literal">libparted</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/qtparted" target="_top">
<code class="literal">qtparted</code> </a> <a class="ulink" href="http://bugs.debian.org/qtparted" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=qtparted" target="_top">V:0.10, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/qtparted.html" target="_top">708</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    Редактор партиций для KDE, на основе <code class="literal">libparted</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gptsync" target="_top">
<code class="literal">gptsync</code> </a> <a class="ulink" href="http://bugs.debian.org/gptsync" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gptsync" target="_top">V:0.01, I:0.16</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gptsync.html" target="_top">72</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    synchronize classic MBR partition table with the GPT one
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kpartx" target="_top">
<code class="literal">kpartx</code> </a> <a class="ulink" href="http://bugs.debian.org/kpartx" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kpartx" target="_top">V:1.0, I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kpartx.html" target="_top">132</a></td>
<td align="left">
    поддерживается
    </td>
<td align="left">
    program to create device mappings for partitions
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Although <code class="literal">parted</code>(8) claims to create and to resize
filesystem too, it is safer to do such things using best maintained
specialized tools such as <code class="literal">mkfs</code>(8)
(<code class="literal">mkfs.msdos</code>(8), <code class="literal">mkfs.ext2</code>(8),
<code class="literal">mkfs.ext3</code>(8), …) and <code class="literal">resize2fs</code>(8).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>In order to switch between <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A2%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2_GUID" target="_top">GPT</a> and <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C" target="_top">MBR</a>, you need to erase first few blocks of disk contents
directly (see <a class="xref" href="#_clearing_file_contents" title="10.3.6. Очистка содержимого файла">Раздел 10.3.6, «Очистка содержимого файла»</a>) and use
"<code class="literal">parted /dev/sdx mklabel gpt</code>" or "<code class="literal">parted
/dev/sdx mklabel msdos</code>" to set it.  Please note
"<code class="literal">msdos</code>" is use here for <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C" target="_top">MBR</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_accessing_partition_using_uuid"></a>9.3.2. Обращение к разделам по их UUID</h3></div></div></div>
<p>Хотя изменение настроек разделов вашего диска или изменение порядка
подключения съёмных носителей может изменить и имена устройств этих
разделов, вы можете обращаться к нужным дискам без ошибки. Это также
полезно, если у вас много дисков и ваш BIOS не даёт им последовательные
имена.</p>
<div class="itemizedlist"><ul type="disc">
<li>Команда <code class="literal">mount</code>(8) с параметром "<code class="literal">-U</code>"
может подключать блочное устройство, используя его <a class="ulink" href="http://ru.wikipedia.org/wiki/UUID" target="_top">UUID</a>, а не по имени файла устройства, такого как
"<code class="literal">/dev/sda3</code>".
</li>
<li>
Номера <a class="ulink" href="http://ru.wikipedia.org/wiki/UUID" target="_top">UUID</a> могут включаться в
<code class="literal">/etc/fstab</code> (см. <code class="literal">fstab</code>(5)).
</li>
<li>
Загрузчики также могут использовать <a class="ulink" href="http://ru.wikipedia.org/wiki/UUID" target="_top">UUID</a>
(см. <a class="ulink" href="http://ru.wikipedia.org/wiki/UUID" target="_top">UUID</a>).
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете определить <a class="ulink" href="http://ru.wikipedia.org/wiki/UUID" target="_top">UUID</a> специального блочного
устройства командой <code class="literal">blkid</code>(8).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Device nodes of devices such as removable storage media can be made static
by using <a class="ulink" href="http://www.reactivated.net/writing_udev_rules.html" target="_top">udev rules</a>, if needed.  See <a class="xref" href="#_the_udev_system" title="3.5.11. Система udev">Раздел 3.5.11, «Система udev»</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_filesystem_configuration"></a>9.3.3. Настройки файловой системы</h3></div></div></div>
<p>Для настройки файловой системы <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a> в пакет
<code class="literal">e2fsprogs</code> входят следующие средства:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">mkfs.ext3</code>(8) для создания новой файловой системы <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a> (форматирования)
</li>
<li>
<code class="literal">fsck.ext3</code>(8) для проверки и восстановления существующей
<a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a>
</li>
<li>
<code class="literal">tune2fs</code>(8) для настройки параметров <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a> (её суперблока, superblock)
</li>
</ul></div>
<p>Команды <code class="literal">mkfs</code>(8) и <code class="literal">fsck</code>(8) из пакета
<code class="literal">e2fsprogs</code> -- это интерфейсы (front-ends) к различным
программам для конкретных файловых систем (<code class="literal">fsck.fstype</code> и
<code class="literal">fsck.fstype</code>). Для <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a> эти
конкретные программы -- <code class="literal">mkfs.ext3</code>(8) и
<code class="literal">fsck.ext3</code>(8) (которые, в свою очередь, являются жёсткими
ссылками на <code class="literal">mke2fs</code>(8) и <code class="literal">e2fsck</code>(8)).</p>
<p>Похожие команды доступны для каждой файловой системы, поддерживаемой в
Linux.</p>
<div class="table">
<a name="listoffilesystemnagementpackages"></a><p class="title"><b>Таблица 9.8. Список пакетов для управления файловыми системами</b></p>
<div class="table-contents"><table summary="Список пакетов для управления файловыми системами" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/e2fsprogs" target="_top">
<code class="literal">e2fsprogs</code> </a> <a class="ulink" href="http://bugs.debian.org/e2fsprogs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=e2fsprogs" target="_top">V:61, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/e2fsprogs.html" target="_top">1924</a></td>
<td align="left">
    средства для <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext2" target="_top">ext2</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/Ext4" target="_top">ext4</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/reiserfsprogs" target="_top">
<code class="literal">reiserfsprogs</code> </a> <a class="ulink" href="http://bugs.debian.org/reiserfsprogs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=reiserfsprogs" target="_top">V:2, I:8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/reiserfsprogs.html" target="_top">1200</a></td>
<td align="left">
    средства для <a class="ulink" href="http://ru.wikipedia.org/wiki/ReiserFS" target="_top">Reiserfs</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dosfstools" target="_top">
<code class="literal">dosfstools</code> </a> <a class="ulink" href="http://bugs.debian.org/dosfstools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dosfstools" target="_top">V:3, I:30</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dosfstools.html" target="_top">192</a></td>
<td align="left">
    средства для <a class="ulink" href="http://ru.wikipedia.org/wiki/File_Allocation_Table" target="_top">FAT</a> (Microsoft: MS-DOS, Windows)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xfsprogs" target="_top">
<code class="literal">xfsprogs</code> </a> <a class="ulink" href="http://bugs.debian.org/xfsprogs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xfsprogs" target="_top">V:2, I:10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xfsprogs.html" target="_top">3372</a></td>
<td align="left">
    средства для <a class="ulink" href="http://ru.wikipedia.org/wiki/XFS" target="_top">XFS</a> (SGI: IRIX)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ntfsprogs" target="_top">
<code class="literal">ntfsprogs</code> </a> <a class="ulink" href="http://bugs.debian.org/ntfsprogs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ntfsprogs" target="_top">V:3, I:18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/ntfsprogs.html" target="_top">676</a></td>
<td align="left">
    средства для <a class="ulink" href="http://en.wikipedia.org/wiki/NTFS" target="_top">NTFS</a> (Microsoft: Windows NT, ...)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/jfsutils" target="_top">
<code class="literal">jfsutils</code> </a> <a class="ulink" href="http://bugs.debian.org/jfsutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=jfsutils" target="_top">V:0.6, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/j/jfsutils.html" target="_top">1112</a></td>
<td align="left">
    средства для <a class="ulink" href="http://ru.wikipedia.org/wiki/JFS" target="_top">JFS</a> (IBM: AIX, OS/2)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/reiser4progs" target="_top">
<code class="literal">reiser4progs</code> </a> <a class="ulink" href="http://bugs.debian.org/reiser4progs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=reiser4progs" target="_top">V:0.08, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/reiser4progs.html" target="_top">1264</a></td>
<td align="left">
    средства для <a class="ulink" href="http://ru.wikipedia.org/wiki/Reiser4" target="_top">Reiser4</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/hfsprogs" target="_top">
<code class="literal">hfsprogs</code> </a> <a class="ulink" href="http://bugs.debian.org/hfsprogs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=hfsprogs" target="_top">V:0.07, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/hfsprogs.html" target="_top">316</a></td>
<td align="left">
    средства для <a class="ulink" href="http://ru.wikipedia.org/wiki/HFS" target="_top">HFS</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/HFS_Plus" target="_top">HFS
Plus</a> (Apple: Mac OS)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/btrfs-tools" target="_top">
<code class="literal">btrfs-tools</code> </a> <a class="ulink" href="http://bugs.debian.org/btrfs-tools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=btrfs-tools" target="_top">V:0.3, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/btrfs-tools.html" target="_top">1288</a></td>
<td align="left">
    средства для <a class="ulink" href="http://ru.wikipedia.org/wiki/Btrfs" target="_top">btrfs</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/zerofree" target="_top">
<code class="literal">zerofree</code> </a> <a class="ulink" href="http://bugs.debian.org/zerofree" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=zerofree" target="_top">V:0.09, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/z/zerofree.html" target="_top">56</a></td>
<td align="left">
    программа, обнуляющая свободные (незанятые) блоки в ext2/3
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">Ext3</a> используется по умолчанию в системе Linux,
и рекомендуется к использованию во всех случаях, если только у вас нет
особых причин не использовать её. После выхода ядра Linux 2.6.30 (Debian
<code class="literal">squeeze</code>), стала доступной файловая система <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext4" target="_top">ext4</a>. Ожидается, что она будет использоваться по
умолчанию в системе Linux. В будущем на смену ext4 должна прийти <a class="ulink" href="http://ru.wikipedia.org/wiki/Btrfs" target="_top">btrfs</a>.</p>
</div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Используя ext4, вы можете столкнуться с некоторыми ограничениями (поскольку
она пока новая). Так, для изменения размера раздела ext4 (resize partition),
необходимо иметь ядро Linux 2.6.30 либо более позднее.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Некоторые средства позволяют получать доступ к файловым системам, не
поддерживаемым ядром (см. <a class="xref" href="#_manipulating_files_without_mounting_disk" title="10.3.2. Как манипулировать файлами, не монтируя диск">Раздел 10.3.2, «Как манипулировать файлами, не монтируя диск»</a>).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_filesystem_creation_and_integrity_check"></a>9.3.4. Создание и проверка файловой системы</h3></div></div></div>
<p><code class="literal">mkfs</code>(8) используется в Linux для создания файловой
системы. <code class="literal">fsck</code>(8) предназначена для проверки и
восстановления файловых систем в Linux.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>В большинстве случаев небезопасно запускать <code class="literal">fsck</code> для
проверки <span class="strong"><strong>примонтированной файловой
системы</strong></span>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Результаты проверки диска во время загрузки можно посмотреть в
"<code class="literal">/var/log/fsck/</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вот команда, которая отправляет систему на перезагрузку, с последующей
проверкой всех файловых систем, включая корневую: "<code class="literal">shutdown -F -r
now</code>" (во время следующей загрузки). Подробней смотрите в
<code class="literal">fsck</code>(8).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_optimization_of_filesystem_by_mount_options"></a>9.3.5. Оптимизация файловой системы с помощью параметров монтирования</h3></div></div></div>
<p>Производительность и характеристики файловой системы можно улучшить с
помощью параметров, используемых для её монтирования
(см. <code class="literal">fstab</code>(5) и <code class="literal">mount</code>(8)). Вот
наиболее значимые способы.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Параметр "<code class="literal">defaults</code>" равнозначен такому набору опций:
"<code class="literal">rw,suid,dev,exec,auto,nouser,async</code>" (в общем случае)
</li>
<li>
"<code class="literal">noatime</code>" или "<code class="literal">relatime</code>" очень
эффективны для повышения скорости доступа на чтение (в общем случае)
</li>
<li>
"<code class="literal">user</code>" позволяет обычным пользователям монтировать
файловую систему. Эта опция равнозначна таком набору:
"<code class="literal">noexec,nosuid,nodev</code>" (в общем случае, используется для
CD и дискет)
</li>
<li>
Комбинация "<code class="literal">noexec,nodev,nosuid</code>" используется для
повышения безопасности (в общем случае)
</li>
<li>
"<code class="literal">noauto</code>" разрешает монтирование только в случае явного
запроса (в общем случае)
</li>
<li>
"<code class="literal">data=journal</code>" для ext3fs может повысить целостность
данных в случае внезапных перебоев с питанием, однако снижает скорость
записи.
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You need to provide kernel boot parameter (see <a class="xref" href="#_stage_2_the_boot_loader" title="3.3. Второй этап: загрузчик (boot loader)">Раздел 3.3, «Второй этап: загрузчик (boot loader)»</a>),
e.g. "<code class="literal">rootflags=data=journal</code>" to deploy a non-default
journaling mode for the root filesystem.  For <code class="literal">lenny</code>, the
default jounaling mode is "<code class="literal">rootflags=data=ordered</code>".  For
<code class="literal">squeeze</code>, it is
"<code class="literal">rootflags=data=writeback</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_optimization_of_filesystem_via_superblock"></a>9.3.6. Оптимизация суперблока файловой системы</h3></div></div></div>
<p>Характеристики файловой системы могут быть улучшены через изменение её
мета-данных (суперблока) с помощью программы <code class="literal">tune2fs</code>(8).</p>
<div class="itemizedlist"><ul type="disc">
<li>
Команда "<code class="literal">sudo tune2fs -l /dev/hda1</code>" выводит всё
содержимое суперблока файловой системы "<code class="literal">/dev/hda1</code>".
</li>
<li>
Команда "<code class="literal">sudo tune2fs -c 50 /dev/hda1</code>" установит
максимальное количество успешных подключений диска без проверки. Если диск
успешно и без ошибок подключен 50 раз, то его нужно проверить "на всякий
случай" во время загрузки (по умолчанию -- 34 раза).
</li>
<li>
Команда "<code class="literal">sudo tune2fs -j /dev/hda1</code>" добавляет возможности
журналирования, то есть преобразует файловую систему
"<code class="literal">/dev/hda1</code>" из <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext2" target="_top">ext2</a> в <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a>. (Не делайте этого на примонтированной файловой
системе.)
</li>
<li>
Команда "<code class="literal">sudo tune2fs -O extents,uninit_bg,dir_index /dev/hda1
&amp;&amp; fsck -pf /dev/hda1</code>" преобразует файловую систему на
"<code class="literal">/dev/hda1</code>" из <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a> в <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext4" target="_top">ext4</a> (выполняйте это только на отмонтированной файловой
системе).
</li>
</ul></div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Файловая система на загрузочном разделе не должна быть преобразована в
<a class="ulink" href="http://ru.wikipedia.org/wiki/Ext4" target="_top">ext4</a> до тех пор, пока <a class="ulink" href="http://bugs.debian.org/511121" target="_top">загрузчик GRUB не будет
поддерживать ext4 достаточно хорошо</a> и пока не будет установлено ядро
2.6.30 или более новое.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вопреки своему имени, <code class="literal">tune2fs</code>(8) работает не только с
<a class="ulink" href="http://ru.wikipedia.org/wiki/Ext2" target="_top">ext2</a>, но также и с <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a> и с <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext4" target="_top">ext4</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_optimization_of_hard_disk"></a>9.3.7. Оптимизация жёсткого диска</h3></div></div></div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Пожалуйста, проверьте ваше оборудование и прочтите
<code class="literal">hdparam</code>(8) перед тем как играться с настройками жёсткого
диска, поскольку это может быть очень опасно для целостности данных.</p>
</div>
<p>Вы можете проверить скорость доступа к диску, например, к
"<code class="literal">/dev/hda</code>", с помощью команды "<code class="literal">hdparm -tT
/dev/hda</code>". Диски, подключенные по интерфейсу (E)IDE, можно
ускорить командой "<code class="literal">hdparm -q -c3 -d1 -u1 -m16 /dev/hda</code>",
включив этим режим "(E)IDE 32-bit I/O support", установив "using_dma flag",
"interrupt-unmask flag" и "multiple 16 sector I/O" (опасно!).</p>
<p>Вы можете проверить кэш записи диска, например,
"<code class="literal">/dev/sda</code>", с помощью "<code class="literal">hdparm -W
/dev/sda</code>". Вы можете выключить кэш командой "<code class="literal">hdparm -W 0
/dev/sda</code>".</p>
<p>У вас может получиться прочесть плохо записанные CD-диски на современных
высокоскоростных приводах, замедлив скорость чтения с помощью
"<code class="literal">setcd -x 2</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_using_smart_to_predict_hard_disk_failure"></a>9.3.8. Использование технологии SMART для предсказания сбоев диска</h3></div></div></div>
<p>Вы можете отслеживать и вести журнал состояния жёсткого диска,
поддерживающего <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F_SMART" target="_top">технологию SMART</a> с помощью
службы <code class="literal">smartd</code>(8).</p>
<div class="orderedlist"><ol type="1">
<li>
Включите <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F_SMART" target="_top">SMART</a> в <a class="ulink" href="http://ru.wikipedia.org/wiki/BIOS" target="_top">BIOS</a>.
</li>
<li>
Установите пакет <code class="literal">smartmontools</code>.
</li>
<li>
<p>
Определите имя вашего жёсткого диска, перечислив все диски командой
<code class="literal">df</code>(1).
</p>
<div class="itemizedlist"><ul type="disc"><li>
Допустим, диск, который должен наблюдаться -- "<code class="literal">/dev/hda</code>".
</li></ul></div>
</li>
<li>
<p>
Проверьте вывод команды "<code class="literal">smartctl -a /dev/hda</code>", чтобы
убедиться, что поддержка <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F_SMART" target="_top">SMART</a> действительно
включена.
</p>
<div class="itemizedlist"><ul type="disc"><li>
Если нет, включите её командой "<code class="literal">smartctl -s on -a
/dev/hda</code>".
</li></ul></div>
</li>
<li>
<p>
Включите автоматический запуск службы <code class="literal">smartd</code>(8) так:
</p>
<div class="itemizedlist"><ul type="disc">
<li>
раскомментируйте строку "<code class="literal">start_smartd=yes</code>" в файле
"<code class="literal">/etc/default/smartmontools</code>"
</li>
<li>
перезапустите службу <code class="literal">smartd</code>(8) командой "<code class="literal">sudo
/etc/init.d/smartmontools restart</code>"
</li>
</ul></div>
</li>
</ol></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Служба <code class="literal">smartd</code>(8) настраивается в
<code class="literal">/etc/smartd.conf</code> (в том числе способ доставки
предостережений)</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_expansion_of_usable_storage_space_via_lvm"></a>9.3.9. Расширение доступного пространства диска с LVM</h3></div></div></div>
<p>Размер раздела (partition), созданного на логическом томе <a class="ulink" href="http://ru.wikipedia.org/wiki/LVM" target="_top">LVM</a> (в Linux) во время установки,
можно легко изменить, добавляя или отделяя от него (раздела) диапазоны
(экстенты, extents), из которых он состоит. Эти диапазоны в действительности
могут находиться на многих физических устройствах. Для этой операции не
требуется серьёзных изменений в настройках системы.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Deployment of the current LVM system may degrade guarantee against
filesystem corruption offered by journaled filesystems such as ext3fs unless
their system performance is sacrificed by disabling write cache of hard
disk.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_expansion_of_usable_storage_space_by_mounting_another_partition"></a>9.3.10. Расширение доступного пространства методом подключения другого раздела</h3></div></div></div>
<p>Если у вас есть пустой раздел (например, "<code class="literal">/dev/sdx</code>"), вы
можете отформатировать его с помощью <code class="literal">mkfs.ext3</code>(1) и
подключить с помощью <code class="literal">mount</code>(8) к тому каталогу, где
требуется больше места. (Нужно будет скопировать оригинальное содержимое
каталога в новоподключенный.)</p>
<pre class="screen">$ sudo mv work-dir old-dir
$ sudo mkfs.ext3 /dev/sdx
$ sudo mount -t ext3 /dev/sdx work-dir
$ sudo cp -a old-dir/* work-dir
$ sudo rm -rf old-dir</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You may alternatively mount an empty disk image file (see <a class="xref" href="#_making_the_empty_disk_image_file" title="10.2.5. Создание пустого образа диска">Раздел 10.2.5, «Создание пустого образа диска»</a>) as a loop device (see <a class="xref" href="#_mounting_the_disk_image_file" title="10.2.3. Монтирование файла с образом диска">Раздел 10.2.3, «Монтирование файла с образом диска»</a>).  The actual disk usage grows
with the actual data stored.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_expansion_of_usable_storage_space_using_symlink"></a>9.3.11. Расширение доступного пространства с помощью символической ссылки</h3></div></div></div>
<p>Если на другом разделе у вас есть свободное место и пустой каталог
(например, "<code class="literal">/path/to/emp-dir</code>"), вы можете создать на него
символическую ссылку (symlink) с помощью <code class="literal">ln</code>(8):</p>
<pre class="screen">$ sudo mv work-dir old-dir
$ sudo mkdir -p /path/to/emp-dir
$ sudo ln -sf /path/to/emp-dir work-dir
$ sudo cp -a old-dir/* work-dir
$ sudo rm -rf old-dir</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Некоторое ПО может неправильно работать со "ссылками на каталог" ("symlink
to a directory").</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_expansion_of_usable_storage_space_using_aufs"></a>9.3.12. Расширение доступного пространства с помощью aufs</h3></div></div></div>
<p>Если у вас есть свободное место на другом разделе (например,
"<code class="literal">/path/to/</code>"), можно создать там каталог и подключить его
к тому каталогу, где не хватает места, с помощью <a class="ulink" href="http://ru.wikipedia.org/wiki/Aufs" target="_top">aufs</a>.</p>
<pre class="screen">$ sudo mv work-dir old-dir
$ sudo mkdir work-dir
$ sudo mkdir -p /path/to/emp-dir
$ sudo mount -t aufs -o br:/path/to/emp-dir:old-dir none work-dir</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Использование <a class="ulink" href="http://ru.wikipedia.org/wiki/Aufs" target="_top">aufs</a> для долгосрочного хранения
данных не будет хорошей идеей, поскольку эта технология находится в
состоянии разработки, и её изменение может привести к трудностям.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Чтобы использовать <a class="ulink" href="http://ru.wikipedia.org/wiki/Aufs" target="_top">aufs</a>, должен быть установлен
пакет <code class="literal">aufs-tools</code> и пакет с модулем ядра, поддерживающим
<a class="ulink" href="http://ru.wikipedia.org/wiki/Aufs" target="_top">aufs</a>, например
<code class="literal">aufs-modules-2.6-amd64</code>.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/Aufs" target="_top">aufs</a> используется во многих современных <a class="ulink" href="http://ru.wikipedia.org/wiki/LiveCD" target="_top">live CD</a> для создания корневых файловых систем,
доступных на запись.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_data_encryption_tips"></a>9.4. Советы по шифрованию данных</h2></div></div></div>
<p>Имея физический доступ к вашему компьютеру, любой может легко получить
привилегии суперпользователя и получить доступ ко всем файлам (см. <a class="xref" href="#_securing_the_root_password" title="4.7.4. Защита пароля root">Раздел 4.7.4, «Защита пароля root»</a>). Это значит, что использование
логина и пароля не может обезопасить ваших личных и важных данных в случае
кражи компьютера. Для этого вам нужно использовать технологии
шифрования. Хотя <a class="ulink" href="http://ru.wikipedia.org/wiki/GnuPG" target="_top">GNU privacy guard</a>
(см. ???) может шифровать файлы,
требуются некоторые усилия пользователя.</p>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypt</a> и <a class="ulink" href="http://ecryptfs.sourceforge.net/" target="_top">eCryptfs</a> облегчают автоматическое шифрование данных
с помощью модулей ядра Linux с минимальными усилиями пользователя.</p>
<div class="table">
<a name="listofdataencryptionutilities"></a><p class="title"><b>Таблица 9.9. Список средств шифрования данных</b></p>
<div class="table-contents"><table summary="Список средств шифрования данных" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cryptsetup" target="_top">
<code class="literal">cryptsetup</code> </a> <a class="ulink" href="http://bugs.debian.org/cryptsetup" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cryptsetup" target="_top">V:3, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cryptsetup.html" target="_top">1168</a></td>
<td align="left">
    средства шифрования блочных устройств (<a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypt</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/LUKS" target="_top">LUKS</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cryptmount" target="_top">
<code class="literal">cryptmount</code> </a> <a class="ulink" href="http://bugs.debian.org/cryptmount" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cryptmount" target="_top">V:0.2, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cryptmount.html" target="_top">360</a></td>
<td align="left">
    средства шифрования блочных устройств (<a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypt</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/LUKS" target="_top">LUKS</a>),
доступные для подключения/отключения обычными пользователями
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ecryptfs-utils" target="_top">
<code class="literal">ecryptfs-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/ecryptfs-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ecryptfs-utils" target="_top">V:0.18, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/ecryptfs-utils.html" target="_top">416</a></td>
<td align="left">
    utilities for encrypted stacked filesystem (<a class="ulink" href="http://ecryptfs.sourceforge.net/" target="_top">eCryptfs</a>)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p><a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">Dm-crypt</a> -- это криптографическая файловая
система, использующая <a class="ulink" href="http://en.wikipedia.org/wiki/Device_mapper" target="_top">device-mapper</a>. <a class="ulink" href="http://en.wikipedia.org/wiki/Device_mapper" target="_top">Device-mapper</a> соотносит одно блочное устройство
с другим.</p>
<p><a class="ulink" href="http://ecryptfs.sourceforge.net/" target="_top">eCryptfs</a> is another cryptographic filesystem
using stacked filesystem.  Stacked filesystem stacks itself on top of an
existing directory of a mounted filesystem.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Шифрование данных требует ресурсов процессора и т.п. Пожалуйста, взвесьте
потребности и цену.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Вся система Debian может быть установлена на зашифрованный диск с помощью
<a class="ulink" href="http://www.debian.org/devel/debian-installer/" target="_top">debian-installer</a> (в lenny и более
новых выпусках). Для этого используется <a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypt</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/LUKS" target="_top">LUKS</a> и
initramfs.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>См. <a class="xref" href="#_data_security_infrastructure" title="10.4. Инфраструктура защиты данных">Раздел 10.4, «Инфраструктура защиты данных»</a> о средствах шифрования
для пользователя: <a class="ulink" href="http://ru.wikipedia.org/wiki/GnuPG" target="_top">GNU Privacy Guard</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_removable_disk_encryption_with_dm_crypt_luks"></a>9.4.1. Шифрование данных на сменных носителях с помощью dm-crypt/LUKS</h3></div></div></div>
<p>Вы можете зашифровать содержимое съёмных устройств хранения, например
USB-носителей ("<code class="literal">/dev/sdX</code>"), используя <a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypt</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/LUKS" target="_top">LUKS</a>. Нужно
просто отформатировать устройство следующим способом.</p>
<pre class="screen"># badblocks -c 10240 -s -w -t random -v /dev/sdx
# shred -v -n 1 /dev/sdx
# fdisk /dev/sdx
... "n" "p" "1" "return" "return" "w"
# cryptsetup luksFormat /dev/sdx1
...
# cryptsetup luksOpen /dev/sdx1 sdx1
...
# ls -l /dev/mapper/
total 0
crw-rw---- 1 root root  10, 60 2008-10-04 18:44 control
brw-rw---- 1 root disk 254,  0 2008-10-04 23:55 sdx1
# mkfs.vfat /dev/mapper/sdx1
...
# cryptsetup luksClose sdx1</pre>
<p>Теперь оно может быть подключено, как обычно, к
"<code class="literal">/media/&lt;disk_label&gt;</code>", но по паролю (см. <a class="xref" href="#_removable_storage_device" title="10.1.10. Съёмные устройства хранения данных">Раздел 10.1.10, «Съёмные устройства хранения данных»</a>). В GNOME это делается с помощью
<code class="literal">gnome-mount</code>(1). Различие в том, что все данные,
записываемые на устройство, теперь шифруются. Вы можете отформатировать диск
в другой файловой системе, например, в ext3 с помощью "<code class="literal">mkfs.ext3
/dev/sdx1</code>". </p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>If you are really paranoid for the security of data, you may need to
overwrite multiple times in the above example.  This operation is very time
consuming though.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_encrypted_swap_partition_with_dm_crypt"></a>9.4.2. Шифрование раздела подкачки (swap) с помощью dm-crypt</h3></div></div></div>
<p>Допустим, ваш файл "<code class="literal">/dev/fstab</code>" содержит такую строчку:</p>
<pre class="screen">/dev/sda7 swap sw 0 0</pre>
<p>Вы можете включить шифрование раздела подкачки с помощью <a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypt</a> таким способом:</p>
<pre class="screen"># aptitude install cryptsetup
# swapoff -a
# echo "cswap /dev/sda7 /dev/urandom swap" &gt;&gt; /etc/crypttab
# perl -i -p -e "s/\/dev\/sda7/\/dev\/mapper\/cswap/" /etc/fstab
# /etc/init.d/cryptdisks restart
 ...
# swapon -a</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_automatically_encrypting_files_with_ecryptfs"></a>9.4.3. Автоматическое шифрование файлов с помощью eCryptfs</h3></div></div></div>
<p>Вы можете автоматически шифровать файлы в каталоге
"<code class="literal">~/Private/</code>", используя пакеты <a class="ulink" href="http://ecryptfs.sourceforge.net/" target="_top">eCryptfs</a> и <code class="literal">ecryptfs-utils</code>.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Запустите <code class="literal">ecryptfs-setup-private</code>(1) и настройте
"<code class="literal">~/Private/</code>".
</li>
<li>
Активизируйте "<code class="literal">~/Private/</code>", запустив
<code class="literal">ecryptfs-mount-private</code>(1).
</li>
<li>
<p>
Переместите файлы с чувствительными данными в
"<code class="literal">~/Private/</code>" и, если нужно, сделайте символические
ссылки.
</p>
<div class="itemizedlist"><ul type="circle"><li>
Кандидаты: "<code class="literal">~/.fetchmailrc</code>",
"<code class="literal">~/.ssh/identity</code>", "<code class="literal">~/.ssh/id_rsa</code>",
"<code class="literal">~/.ssh/id_dsa</code>" и другие файлы с
"<code class="literal">go-rwx</code>"
</li></ul></div>
</li>
<li>
<p>
Переместите каталоги с чувствительными данными в
"<code class="literal">~/Private/</code>" и, если нужно, сделайте символические
ссылки.
</p>
<div class="itemizedlist"><ul type="circle"><li>
Кандидаты: "<code class="literal">~/.gnupg</code>" и другие каталоги с
"<code class="literal">go-rwx</code>"
</li></ul></div>
</li>
<li>
Создайте символическую ссылку "<code class="literal">~/Desktop/Private</code>" на
"<code class="literal">~/Private/</code>", чтобы ускорить доступ к каталогу.
</li>
<li>
Деактивируйте "<code class="literal">~/Private/</code>", запустив
<code class="literal">ecryptfs-umount-private</code>(1).
</li>
<li>
Когда вам потребуются зашифрованные данные, активируйте
"<code class="literal">~/Private/</code>", запустив
"<code class="literal">ecryptfs-mount-private</code>".
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Поскольку <a class="ulink" href="http://ecryptfs.sourceforge.net/" target="_top">eCryptfs</a> шифрует только выбранные
файлы, потребляется намного меньше системных ресурсов, чем при использовании
<a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypt</a> для всего раздела root или
"<code class="literal">/home</code>". Такой способ не требует специального
форматирования, однако не может сохранять конфиденциальность всех
мета-данных файловой системы.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_automatically_mounting_ecryptfs"></a>9.4.4. Автоматическое монтирование eCryptfs</h3></div></div></div>
<p>If you use your login password for wrapping encryption keys, you can
automate mounting eCryptfs via <a class="ulink" href="http://ru.wikipedia.org/wiki/Pluggable_Authentication_Modules" target="_top">PAM (Pluggable Authentication
Modules)</a>.</p>
<p>Добавьте следующую строчку перед "<code class="literal">pam_permit.so</code>" в
"<code class="literal">/etc/pam.d/common-auth</code>".</p>
<pre class="screen">auth required pam_ecryptfs.so unwrap</pre>
<p>Добавьте следующую строчку в конце файла
"<code class="literal">/etc/pam.d/common-session</code>".</p>
<pre class="screen">session optional pam_ecryptfs.so unwrap</pre>
<p>Добавьте следующую строчку около первой незакомментированной строки в
"<code class="literal">/etc/pam.d/common-password</code>".</p>
<pre class="screen">password required pam_ecryptfs.so</pre>
<p>Это весьма удобно.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Ошибки в конфигурации <a class="ulink" href="http://ru.wikipedia.org/wiki/Pluggable_Authentication_Modules" target="_top">PAM</a> могут лишить вас
доступа к собственной системе. См. <a class="xref" href="#_authentication" title="Глава 4. Аутентификация">Глава 4, <i>Аутентификация</i></a>.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Если вы используете пароль вашей учётной записи для зашифрованного раздела,
ваши зашифрованные данные защищены настолько же, насколько защищён пароль
вашей учётной записи (см. <a class="xref" href="#_good_password" title="4.3. Хороший пароль">Раздел 4.3, «Хороший пароль»</a>). Если вы не
будете тщательно выбирать <a class="ulink" href="http://en.wikipedia.org/wiki/Password_strength" target="_top">надёжный
пароль</a>, ваши данные подвергнутся риску, если кто-то использует
программы для <a class="ulink" href="http://en.wikipedia.org/wiki/Password_cracking" target="_top">взлома пароля</a> в случае
кражи компьютера (см. <a class="xref" href="#_securing_the_root_password" title="4.7.4. Защита пароля root">Раздел 4.7.4, «Защита пароля root»</a>).</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_monitoring_controlling_and_starting_program_activities"></a>9.5. Наблюдение, управление и запуск действий программ</h2></div></div></div>
<p>Активность программ может быть отслежена и проконтролирована с
использованием специальных средств.</p>
<div class="table">
<a name="listoftoolsformorogramactivities"></a><p class="title"><b>Таблица 9.10. Список средств для наблюдения и контроля за активностью программ</b></p>
<div class="table-contents"><table summary="Список средств для наблюдения и контроля за активностью программ" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/coreutils" target="_top">
<code class="literal">coreutils</code> </a> <a class="ulink" href="http://bugs.debian.org/coreutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=coreutils" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html" target="_top">13828</a></td>
<td align="left">
<code class="literal">nice</code>(1): запускает программу с заданным приоритетом
выполнения
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bsdutils" target="_top">
<code class="literal">bsdutils</code> </a> <a class="ulink" href="http://bugs.debian.org/bsdutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bsdutils" target="_top">V:76, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bsdutils.html" target="_top">196</a></td>
<td align="left">
<code class="literal">renice</code>(1): изменяет приоритет выполнения запущенного
процесса
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/procps" target="_top">
<code class="literal">procps</code> </a> <a class="ulink" href="http://bugs.debian.org/procps" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=procps" target="_top">V:86, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/procps.html" target="_top">772</a></td>
<td align="left">
    средства для "<code class="literal">/proc</code>": <code class="literal">ps</code>(1),
<code class="literal">top</code>(1), <code class="literal">kill</code>(1),
<code class="literal">watch</code>(1) …
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/psmisc" target="_top">
<code class="literal">psmisc</code> </a> <a class="ulink" href="http://bugs.debian.org/psmisc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=psmisc" target="_top">V:46, I:88</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/psmisc.html" target="_top">716</a></td>
<td align="left">
    средства для "<code class="literal">/proc</code>": <code class="literal">killall</code>(1),
<code class="literal">fuser</code>(1), <code class="literal">peekfd</code>(1),
<code class="literal">pstree</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/time" target="_top"> <code class="literal">time</code>
</a> <a class="ulink" href="http://bugs.debian.org/time" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=time" target="_top">V:6, I:84</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/time.html" target="_top">152</a></td>
<td align="left">
<code class="literal">time</code>(1): запускает программу, по её завершении сообщает
статистику использования системного времени
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sysstat" target="_top">
<code class="literal">sysstat</code> </a> <a class="ulink" href="http://bugs.debian.org/sysstat" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sysstat" target="_top">V:4, I:8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sysstat.html" target="_top">872</a></td>
<td align="left">
<code class="literal">sar</code>(1), <code class="literal">iostat</code>(1),
<code class="literal">mpstat</code>(1) …: измерение производительности для Linux
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/isag" target="_top"> <code class="literal">isag</code>
</a> <a class="ulink" href="http://bugs.debian.org/isag" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=isag" target="_top">V:0.08, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/isag.html" target="_top">152</a></td>
<td align="left">
    интерактивный график системной активности, для sysstat
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lsof" target="_top"> <code class="literal">lsof</code>
</a> <a class="ulink" href="http://bugs.debian.org/lsof" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lsof" target="_top">V:16, I:90</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lsof.html" target="_top">444</a></td>
<td align="left">
<code class="literal">lsof</code>(8): с параметром "<code class="literal">-p</code>" выводит
список файлов, открытых запущенным процессом
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/strace" target="_top">
<code class="literal">strace</code> </a> <a class="ulink" href="http://bugs.debian.org/strace" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=strace" target="_top">V:6, I:41</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/strace.html" target="_top">396</a></td>
<td align="left">
<code class="literal">strace</code>(1): отслеживает системные вызовы и сигналы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ltrace" target="_top">
<code class="literal">ltrace</code> </a> <a class="ulink" href="http://bugs.debian.org/ltrace" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ltrace" target="_top">V:0.3, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/ltrace.html" target="_top">188</a></td>
<td align="left">
<code class="literal">ltrace</code>(1): отслеживает библиотечные вызовы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xtrace" target="_top">
<code class="literal">xtrace</code> </a> <a class="ulink" href="http://bugs.debian.org/xtrace" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xtrace" target="_top">V:0.02, I:0.16</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xtrace.html" target="_top">372</a></td>
<td align="left">
<code class="literal">xtrace</code>(1): отслеживает обмен данными между X11-сервером и
клиентом
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/powertop" target="_top">
<code class="literal">powertop</code> </a> <a class="ulink" href="http://bugs.debian.org/powertop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=powertop" target="_top">V:0.7, I:12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/powertop.html" target="_top">520</a></td>
<td align="left">
<code class="literal">powertop</code>(1): информация об использовании питания в
ноутбуках на базе Intel
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cron" target="_top"> <code class="literal">cron</code>
</a> <a class="ulink" href="http://bugs.debian.org/cron" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cron" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cron.html" target="_top">240</a></td>
<td align="left">
    запуск процессов по расписанию в фоновом режиме службой
<code class="literal">cron</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/anacron" target="_top">
<code class="literal">anacron</code> </a> <a class="ulink" href="http://bugs.debian.org/anacron" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=anacron" target="_top">V:41, I:45</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/anacron.html" target="_top">120</a></td>
<td align="left">
    похожий на cron планировщик задач для систем, которые работают не
круглосуточно
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/at" target="_top"> <code class="literal">at</code>
</a> <a class="ulink" href="http://bugs.debian.org/at" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=at" target="_top">V:51, I:83</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/at.html" target="_top">220</a></td>
<td align="left">
<code class="literal">at</code>(1) или  <code class="literal">batch</code>(1): запуск задач в
заданное время или при низком load average
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Пакет <code class="literal">procps</code> включает наиболее простые средства
наблюдения, управления и запуска действий программ. Вам нужно знать их всех.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_timing_a_process"></a>9.5.1. Время выполнения процесса</h3></div></div></div>
<p>Отобразить время, использованное процессом, запущенным по команде.</p>
<pre class="screen"># time some_command &gt;/dev/null
real    0m0.035s       # time on wall clock (elapsed real time)
user    0m0.000s       # time in user mode
sys     0m0.020s       # time in kernel mode</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_scheduling_priority"></a>9.5.2. Приоритет выполнения</h3></div></div></div>
<p>Значение nice используется для контроля над приоритетом выполнения процесса</p>
<div class="table">
<a name="listofnicevalueshedulingpriority"></a><p class="title"><b>Таблица 9.11. Список значений nice</b></p>
<div class="table-contents"><table summary="Список значений nice" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    значение nice
    </th>
<th align="left">
    приоритет выполнения
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    19
    </td>
<td align="left">
    увеличить значение nice -- понизить приоритет (nice, доступно всем
пользователям)
    </td>
</tr>
<tr>
<td align="left">
    0 
    </td>
<td align="left">
    максимальный приоритет пользовательского процесса (значение nice по
умолчанию)
    </td>
</tr>
<tr>
<td align="left">
    -20
    </td>
<td align="left">
    уменьшить значение nice -- увеличить приоритет процесса (not-nice, доступно
лишь суперпользователю)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><pre class="screen"># nice  -19 top                                      # больше nice, ниже приоритет
# nice --20 wodim -v -eject speed=2 dev=0,0 disk.img # меньше nice, выше приоритет (и скорость)</pre>
<p>Иногда крайние значения nice причиняют больше вреда, чем пользы
системе. Используйте с осторожностью.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_ps_command"></a>9.5.3. Команда ps</h3></div></div></div>
<p>Команда <code class="literal">ps</code>(1) в Debian поддерживает параметры в стиле BSD
и SystemV-систем и помогает статично определить активность процесса.</p>
<div class="table">
<a name="listofpscommandstyles"></a><p class="title"><b>Таблица 9.12. Список стилей команды ps</b></p>
<div class="table-contents"><table summary="Список стилей команды ps" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    стиль
    </th>
<th align="left">
    типичная команда
    </th>
<th align="left">
    отличия
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    BSD
    </td>
<td align="left">
                  <code class="literal">ps aux</code>
                </td>
<td align="left">
    отобразить %CPU %MEM
    </td>
</tr>
<tr>
<td align="left">
    System V
    </td>
<td align="left">
                  <code class="literal">ps -efH</code>
                </td>
<td align="left">
    отобразить PPID
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Неработающие дочерние процессы (процессы-зомби) можно "прибить", послав
сигнал завершения их родительскому процессу (parent process ID, поле
"<code class="literal">PPID</code>").</p>
<p>Команда <code class="literal">pstree</code>(1) выводит список процессов в виде дерева.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_top_command"></a>9.5.4. Команда top</h3></div></div></div>
<p>Команда <code class="literal">top</code>(1) в Debian предоставляет богатый выбор
возможностей и помогает следить за активностью процесса в динамике.</p>
<div class="table">
<a name="listofcommandsfortop"></a><p class="title"><b>Таблица 9.13. Список команд для top</b></p>
<div class="table-contents"><table summary="Список команд для top" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    клавиши команды
    </th>
<th align="left">
    описание результата (возвращаемое значение)
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<code class="literal">h</code> или <code class="literal">?</code>
    </td>
<td align="left">
    показать справку
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">f</code>
                </td>
<td align="left">
    установка/сброс отображаемых полей (колонок)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">o</code>
                </td>
<td align="left">
    поменять порядок отображаемых полей (колонок)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">F</code>
                </td>
<td align="left">
    установить поле (колонку), по которому будет вестись сортировка процессов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">k</code>
                </td>
<td align="left">
    послать процессу сигнал завершения (kill a process)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">r</code>
                </td>
<td align="left">
    изменить приоритет выполнения процесса (renice)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">q</code>
                </td>
<td align="left">
    выйти из команды <code class="literal">top</code>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_listing_files_opened_by_a_process"></a>9.5.5. Список файлов, открытых процессом</h3></div></div></div>
<p>Вы можете получить список всех файлов, открытых процессом с заданным PID,
например, 1.</p>
<pre class="screen">$ sudo lsof -p 1</pre>
<p>Обычно PID, равный 1, принадлежит процессу <code class="literal">init</code>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_tracing_program_activities"></a>9.5.6. Отслеживание активности программ</h3></div></div></div>
<p>Вы можете отследить действия программы с помощью
<code class="literal">strace</code>(1), <code class="literal">ltrace</code>(1) или
<code class="literal">xtrace</code>(1), которые выводят системные вызовы и сигналы,
библиотечные вызовы и сообщения между X11-клиентом и сервером.</p>
<p>Вы можете отследить все системные вызовы, сделанные командой
<code class="literal">ls</code> так:</p>
<pre class="screen">$ sudo strace ls</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_identification_of_processes_using_files_or_sockets"></a>9.5.7. Определение процессов, использующих файлы или сокеты</h3></div></div></div>
<p>Вы также можете определить процессы, использующие заданные файлы, с помощью
команды <code class="literal">fuser</code>(1). Например, для файла
"<code class="literal">/var/log/mail.log</code>" это можно сделать так:</p>
<pre class="screen">$ sudo fuser -v /var/log/mail.log
                     USER        PID ACCESS COMMAND
/var/log/mail.log:   root       2946 F.... syslogd</pre>
<p>Видно, что файл "<code class="literal">/var/log/mail.log</code>" открыт на запись
командой <code class="literal">syslogd</code>(8).</p>
<p>С помощью команды fuser вы также можете определить процессы, использующие
сокеты, например, "<code class="literal">smtp/tcp</code>":</p>
<pre class="screen">$ sudo fuser -v smtp/tcp
                     USER        PID ACCESS COMMAND
smtp/tcp:            Debian-exim   3379 F.... exim4</pre>
<p>Отсюда мы видим, что <a class="ulink" href="http://ru.wikipedia.org/wiki/TCP" target="_top">TCP</a>-соединения на порт
<a class="ulink" href="http://ru.wikipedia.org/wiki/SMTP" target="_top">SMTP</a> принимает <code class="literal">exim4</code>(8).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_repeating_a_command_with_a_constant_interval"></a>9.5.8. Повторение команды с заданным интервалом</h3></div></div></div>
<p><code class="literal">watch</code>(1) выполняет программу через заданные промежутки
времени и отображает её вывод в полноэкранном режиме.</p>
<pre class="screen">$ watch w</pre>
<p>Эта команда выводит список пользователей, вошедших в систему, и обновляет
этот список каждые 2 секунды.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_repeating_a_command_looping_over_files"></a>9.5.9. Выполнение одной команды для многих файлов</h3></div></div></div>
<p>Есть несколько способов повторить команду для многих файлов, отобранных по
какому-либо условию, например, по шаблону имени "<code class="literal">*.ext</code>".</p>
<div class="itemizedlist"><ul type="disc"><li>
Можно создать цикл for средствами оболочки (см. <a class="xref" href="#_shell_loops" title="12.1.4. Циклы в сценариях оболочки">Раздел 12.1.4, «Циклы в сценариях оболочки»</a>):
</li></ul></div>
<pre class="screen">for x in *.ext; do if [ -f "$x"]; then команда "$x" ; fi; done</pre>
<div class="itemizedlist"><ul type="disc"><li>Можно объединить команды <code class="literal">xargs</code>(1) и
<code class="literal">find</code>(1):
</li></ul></div>
<pre class="screen">find . -type f -maxdepth 1 -name '*.ext' -print0 | xargs -0 -n 1 command</pre>
<div class="itemizedlist"><ul type="disc"><li>Можно использовать ключ "<code class="literal">-exec</code>" команды
<code class="literal">find</code>(1):
</li></ul></div>
<pre class="screen">find . -type f -maxdepth 1 -name '*.ext' -exec command '{}' \;</pre>
<div class="itemizedlist"><ul type="disc"><li>Можно использовать ключ "<code class="literal">-exec</code>" команды
<code class="literal">find</code>(1) для запуска короткого сценария оболочки:
</li></ul></div>
<pre class="screen">find . -type f -maxdepth 1 -name '*.ext' -exec sh -c "команда '{}' &amp;&amp; echo 'successful'" \;</pre>
<p>Приведённые примеры написаны так, что правильно обрабатывают файлы, имена
которых содержат, например, пробелы. См. <a class="xref" href="#_idioms_for_the_selection_of_files" title="10.1.5. Идиомы для отбора файлов">Раздел 10.1.5, «Идиомы для отбора файлов»</a>, где описаны более сложные
примеры использования <code class="literal">find</code>(1).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_starting_a_program_from_gui"></a>9.5.10. Запуск программы из GUI</h3></div></div></div>
<p>Вы можете настроить запуск процессов из <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F" target="_top">графического интерфейса пользователя
(GUI)</a>.</p>
<p>В окружении GNOME программа может быть запущена с нужными аргументами
<span class="strong"><strong>двойным щелчком</strong></span> по её кнопке вызова
(launcher icon), методом перетаскивания (<span class="strong"><strong>drag-and-drop</strong></span>) значка файла на значок программы или
с помощью меню <span class="strong"><strong>Open with …</strong></span> ("Открыть с
помощью ..."), которое появляется по правому щелчку на значке открываемого
файла. KDE также всё это умеет.</p>
<p>Вот пример для GNOME, как создать значок для вызова
<code class="literal">mc</code>(1), запускаемого в
<code class="literal">gnome-terminal</code>(1).</p>
<p>Создадим сценарий "<code class="literal">mc-term</code>":</p>
<pre class="screen"># cat &gt;/usr/local/bin/mc-term &lt;&lt;EOF
#!/bin/sh
gnome-terminal -e "mc \$1"
EOF
# chmod 755 /usr/local/bin/mc-term</pre>
<p>Создадим значок на рабочем столе:</p>
<div class="orderedlist"><ol type="1">
<li>
Правый щелчок по свободному месту рабочего стола, "<code class="literal">Создать кнопку
запуска …</code>" ("<code class="literal">Create Launcher …</code>").
</li>
<li>
Установить "Тип" -- "<code class="literal">Приложение</code>" ("Type" --
"Application").
</li>
<li>
Установить "Имя" -- "<code class="literal">mc</code>" ("Name" --
"<code class="literal">mc</code>").
</li>
<li>
Установить "Команда" -- "<code class="literal">mc-term %f</code>" ("Command" --
"<code class="literal">mc-term %f</code>")
</li>
<li>
Нажать "OK".
</li>
</ol></div>
<p>Вот способ создать ассоциацию для меню "Открыть с помощью".</p>
<div class="orderedlist"><ol type="1">
<li>
Правый щелчок по значку каталога, выбрать "<code class="literal">Открыть в другой
программе …</code>" ("<code class="literal">Open with Other Application …</code>")
</li>
<li>
Выбрать "Использовать собственную команду" и ввести "<code class="literal">mc-term
%f</code>".
</li>
<li>
Нажать "Открыть".
</li>
</ol></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Кнопка вызова является файлом, который хранится в
"<code class="literal">~/Desktop</code>" и имеет расширение
"<code class="literal">.desktop</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_customizing_program_to_be_started"></a>9.5.11. Настройка запускаемых программ</h3></div></div></div>
<p>Некоторые программы автоматически запускают другие. Вот основные способы
настройки этого.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
Меню настройки приложений:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
GNOME: "Система" → "Параметры" → "Предпочтительные приложения" ("System" →
"Preferences" → "Preferred Application")
</li>
<li>
KDE desktop: "K" → "Control Center" → "KDE Components" → "Component Chooser"
</li>
<li>
Iceweasle: "Правка" → "Параметры" → "Приложения" ("Edit" → "Preferences" →
"Applications")
</li>
<li>
<code class="literal">mc</code>(1): "<code class="literal">/etc/mc/mc.ext</code>"
</li>
</ul></div>
</li>
<li>
Переменные окружения: "<code class="literal">$BROWSER</code>",
"<code class="literal">$EDITOR</code>", "<code class="literal">$VISUAL</code>" и
"<code class="literal">$PAGER</code>" (см. <code class="literal">eviron</code>(7)).
</li>
<li>
Система <code class="literal">update-alternatives</code>(8) для таких программ, как
"<code class="literal">editor</code>", "<code class="literal">view</code>",
"<code class="literal">x-www-browser</code>", "<code class="literal">gnome-www-browser</code>" и
"<code class="literal">www-browser</code>" (см. <a class="xref" href="#_setting_a_default_text_editor" title="1.4.7. Установка редактора по умолчанию">Раздел 1.4.7, «Установка редактора по умолчанию»</a>).
</li>
<li>
Файлы "<code class="literal">~/.mailcap</code>" и "<code class="literal">/etc/mailcap</code>",
содержимое которых ассоциирует тип <a class="ulink" href="http://ru.wikipedia.org/wiki/MIME" target="_top">MIME</a> с
программой (см. <code class="literal">mailcap</code>(5)).
</li>
<li>
Файлы "<code class="literal">~/.mime.types</code>" и
"<code class="literal">/etc/mime.types</code>", содержимое которых ассоциирует
расширения имён файлов с типом <a class="ulink" href="http://ru.wikipedia.org/wiki/MIME" target="_top">MIME</a>
(см. <code class="literal">run-mailcap</code>(1)).
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Команда <code class="literal">update-mime</code>(8) обновляет
"<code class="literal">/etc/mailcap</code>", используя
"<code class="literal">/etc/mailcap.order</code>"
(см. <code class="literal">mailcap.order</code>(5)).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Пакет <code class="literal">debianutils</code> предлагает средства для выбора
предпочтительного редактора, программы просмотра файлов и браузера:
<code class="literal">sensible-browser</code>(1),
<code class="literal">sensible-editor</code>(1) и
<code class="literal">sensible-pager</code>(1). Рекомендую прочитать эти скрипты.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Чтобы запускать консольные приложения, такие как <code class="literal">mutt</code> под
X Window в качестве предпочтительных, нужно создать сценарий запуска и
сделать его предпочтительным приложением. Вот способ:</p>
</div>
<pre class="screen"># cat /usr/local/bin/mutt-term &lt;&lt;EOF
#!/bin/sh
gnome-terminal -e "mutt \$@"
EOF
chmod 755 /usr/local/bin/mutt-term</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_killing_a_process"></a>9.5.12. Завершение процесса (killing)</h3></div></div></div>
<p>Используйте команду <code class="literal">kill</code>(1), чтобы завершить (или послать
сигнал) процессу по его PID.</p>
<p>Используйте <code class="literal">killall</code>(1) или <code class="literal">pkill</code>(1)
чтобы сделать то же самое по имени и другим атрибутам.</p>
<div class="table">
<a name="listoffrequentlylsforkillcommand"></a><p class="title"><b>Таблица 9.14. Список сигналов, часто используемых с командой kill</b></p>
<div class="table-contents"><table summary="Список сигналов, часто используемых с командой kill" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    номер сигнала
    </th>
<th align="left">
    имя сигнала
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    1 
    </td>
<td align="left">
    HUP
    </td>
<td align="left">
    перезапустить службу
    </td>
</tr>
<tr>
<td align="left">
    15
    </td>
<td align="left">
    TERM
    </td>
<td align="left">
    послать сигнал завершения (normal kill)
    </td>
</tr>
<tr>
<td align="left">
    9
    </td>
<td align="left">
    KILL
    </td>
<td align="left">
    принудительно завершить (kill hard)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_scheduling_tasks_once"></a>9.5.13. Установка времени однократного запуска программы</h3></div></div></div>
<p>Чтобы установить время, когда команда должна быть запущена, используйте
<code class="literal">at</code>(1):</p>
<pre class="screen">$ echo 'command -args'| at 3:40 monday</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_scheduling_tasks_regularly"></a>9.5.14. Установка расписания для запуска программ</h3></div></div></div>
<p>Используйте <code class="literal">cron</code>(8) для запуска по
расписанию. См. <code class="literal">crontab</code>(1) и
<code class="literal">crontab</code>(5).</p>
<p>Если вы входите в группу <code class="literal">crontab</code>, то можете запускать по
расписанию процессы от имени обычного пользователя, например, с именем
<code class="literal">foo</code>, создавая файл в формате
<code class="literal">crontab</code>(5):
"<code class="literal">/var/spool/cron/crontabs/foo</code>". Этот файл создаётся и
редактируется командой "<code class="literal">crontab -e</code>".</p>
<p>Вот пример файла в формате <code class="literal">crontab</code>(5).</p>
<pre class="screen"># use /bin/sh to run commands, no matter what /etc/passwd says
SHELL=/bin/sh
# mail any output to paul, no matter whose crontab this is
MAILTO=paul
# Min Hour DayOfMonth Month DayOfWeek command (Day... are OR'ed)
# run at 00:05, every day
5  0  *  * *   $HOME/bin/daily.job &gt;&gt; $HOME/tmp/out 2&gt;&amp;1
# run at 14:15 on the first of every month -- output mailed to paul
15 14 1  * *   $HOME/bin/monthly
# run at 22:00 on weekdays(1-5), annoy Joe. % for newline, last % for cc:
0 22 *   * 1-5 mail -s "It's 10pm" joe%Joe,%%Where are your kids?%.%%
23 */2 1 2 *   echo "run 23 minutes after 0am, 2am, 4am ..., on Feb 1"
5  4 *   * sun echo "run at 04:05 every Sunday"
# run at 03:40 on the first Monday of each month
40 3 1-7 * *   [ "$(date +%a)" == "Mon" ] &amp;&amp; command -args</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Для системы, не запущенной постоянно, установите пакет
<code class="literal">anacron</code>, чтобы запускать задачи по расписанию настолько
точно, насколько это возможно в периоды работы
системы. См. <code class="literal">anacron</code>(8) и
<code class="literal">anacrontab</code>(5).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Системно-важные сценарии, должные запускаться по расписанию от имени root,
следует поместить в каталоги "<code class="literal">/etc/cron.hourly/</code>",
"<code class="literal">/etc/cron.daily/</code>",
"<code class="literal">/etc/cron.weekly/</code>" или
"<code class="literal">/etc/cron.monthly/</code>". Время запуска таких сценариев можно
настроить в "<code class="literal">/etc/crontab</code>" и
"<code class="literal">/etc/anacrontab</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_alt_sysrq_key"></a>9.5.15. Клавиша Alt-SysRq</h3></div></div></div>
<p>Insurance against system malfunction is provided by the kernel compile
option "Magic SysRq key" (<a class="ulink" href="http://en.wikipedia.org/wiki/Secure_attention_key" target="_top">SAK</a> key) which is now
the default for the Debian kernel.  Pressing Alt-SysRq followed by one of
the following keys does the magic of rescuing control of the system.</p>
<div class="table">
<a name="listofsakcommandkeys"></a><p class="title"><b>Таблица 9.15. Список клавиш-команд для SAK</b></p>
<div class="table-contents"><table summary="Список клавиш-команд для SAK" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    клавиша, следующая за нажатием Alt-SysRq
    </th>
<th align="left">
    описание действия
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">r</code>
                </td>
<td align="left">
    restore the keyboard from <span class="strong"><strong>r</strong></span>aw mode after
X crashes
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">0</code>
                </td>
<td align="left">
    изменить уровень выводимых на консоль сообщений на <span class="strong"><strong>0</strong></span> для уменьшения количества выводимых сообщений об
ошибках
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">k</code>
                </td>
<td align="left">завершить (<span class="strong"><strong>k</strong></span>ill) все процессы на
<span class="strong"><strong>текущей виртуальной консоли</strong></span>
</td>
</tr>
<tr>
<td align="left">
                  <code class="literal">e</code>
                </td>
<td align="left">
    послать сигнал завершения (SIGT<span class="strong"><strong>E</strong></span>RM) всем
процессам, кроме <code class="literal">init</code>(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">i</code>
                </td>
<td align="left">
    послать сигнал безусловного завершения (SIGK<span class="strong"><strong>I</strong></span>LL) всем процессам, кроме
<code class="literal">init</code>(8)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">s</code>
                </td>
<td align="left">синхронизировать (<span class="strong"><strong>s</strong></span>ync) все подключенные
файловые системы
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">u</code>
                </td>
<td align="left">
    перевести все подключенные файловые системы в режим "только для чтения"
(read-only, <span class="strong"><strong>u</strong></span>moun)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">b</code>
                </td>
<td align="left">
    перезагрузить (re<span class="strong"><strong>b</strong></span>oot) систему без
синхронизации и отключения файловых систем
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Комбинации "Alt-SysRq s", "Alt-SysRq u" и "Alt-SysRq r" хорошо помогают для
выхода из действительно плохих ситуаций.</p>
<p>См.
"<code class="literal">/usr/share/doc/linux-doc-2.6.*/Documentation/sysrq.txt.gz</code>".</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Возможность для любого пользователя нажать Alt-SysRq может быть опасна для
системы, ведь по нажатию этой комбинации выполняются действия, доступные
обычно только для суперпользователя. Для отключения этой комбинации,
добавьте строчку "<code class="literal">echo 0 &gt;/proc/sys/kernel/sysrq</code>" к
файлу "<code class="literal">/etc/rc.local</code>", либо строчку
"<code class="literal">kernel.sysrq = 0</code>" к файлу
"<code class="literal">/etc/sysctl.conf</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>В терминале SSH вы можете использовать Alt-SysRq с помощью записи в
"<code class="literal">/proc/sysrq-trigger</code>". Например, "<code class="literal">echo s &gt;
/proc/sysrq-trigger; echo u &gt; /proc/sysrq-trigger</code>" из командной
строки суперпользователя выполнит синхронизацию (<span class="strong"><strong>s</strong></span>ync) и отключение (<span class="strong"><strong>u</strong></span>mount) всех подключенных файловых систем.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_system_maintenance_tips"></a>9.6. Советы по поддержке системы</h2></div></div></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_who_is_on_the_system"></a>9.6.1. Кто в системе сейчас?</h3></div></div></div>
<p>Вы можете проверить, кто сейчас в системе, следующими командами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">who</code>(1) показывает, кто выполнил вход (logged on).
</li>
<li>
<code class="literal">w</code>(1) показывает, кто в системе и что делает
</li>
<li>
<code class="literal">last</code>(1) показывает список недавно входивших пользователей
</li>
<li>
<code class="literal">lastb</code>(1) показывает список недавних безуспешных попыток
входа
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>"<code class="literal">/var/run/utmp</code>", "<code class="literal">/var/log/wtmp</code>" и
"<code class="literal">/var/run/btmp</code>" содержат всю эту информацию. См.
<code class="literal">login</code>(1) и <code class="literal">utmp</code>(5).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_warning_everyone"></a>9.6.2. Предупреждение для всех</h3></div></div></div>
<p>Вы можете послать сообщение всем пользователям, которые сейчас в системе, с
помощью <code class="literal">wall</code>(1) так:</p>
<pre class="screen">$ echo "We are shutting down in 1 hour" | wall</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_hardware_identification"></a>9.6.3. Определение оборудования</h3></div></div></div>
<p>Устройства, подобные <a class="ulink" href="http://en.wikipedia.org/wiki/Peripheral_Component_Interconnect" target="_top">PCI</a> (<a class="ulink" href="http://ru.wikipedia.org/wiki/AGP" target="_top">AGP</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/PCI_Express" target="_top">PCI-Express</a>,
<a class="ulink" href="http://en.wikipedia.org/wiki/PC_Card#CardBus" target="_top">CardBus</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/SxS_Pro_ExpressCard" target="_top">ExpressCard</a>, и т.п.), можно попробовать
определить сначала с помощью <code class="literal">lspci</code>(8). Обратите внимание
на параметр "<code class="literal">-nn</code>".</p>
<p>Как вариант, вы можете определить оборудование, читая содержимое
"<code class="literal">/proc/bus/pci/devices</code>" или просматривая каталоги
"<code class="literal">/sys/bus/pci</code>" (см. <a class="xref" href="#_procfs_and_sysfs" title="1.2.12. procfs и sysfs">Раздел 1.2.12, «procfs и sysfs»</a>).</p>
<div class="table">
<a name="listofhardwareidntificationtools"></a><p class="title"><b>Таблица 9.16. Список средств определения оборудования</b></p>
<div class="table-contents"><table summary="Список средств определения оборудования" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pciutils" target="_top">
<code class="literal">pciutils</code> </a> <a class="ulink" href="http://bugs.debian.org/pciutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pciutils" target="_top">V:15, I:92</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pciutils.html" target="_top">892</a></td>
<td align="left">
    Linux-утилиты для PCI: <code class="literal">lspci</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/usbutils" target="_top">
<code class="literal">usbutils</code> </a> <a class="ulink" href="http://bugs.debian.org/usbutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=usbutils" target="_top">V:39, I:98</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/usbutils.html" target="_top">604</a></td>
<td align="left">
    Linux-утилиты для работы с USB: <code class="literal">lsusb</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pcmciautils" target="_top">
<code class="literal">pcmciautils</code> </a> <a class="ulink" href="http://bugs.debian.org/pcmciautils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pcmciautils" target="_top">V:0.8, I:13</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pcmciautils.html" target="_top">100</a></td>
<td align="left">
    утилиты для работы с картами PCMCIA в Linux 2.6:
<code class="literal">pccardctl</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/scsitools" target="_top">
<code class="literal">scsitools</code> </a> <a class="ulink" href="http://bugs.debian.org/scsitools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=scsitools" target="_top">V:0.18, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/scsitools.html" target="_top">484</a></td>
<td align="left">
    набор средств для управления оборудованием SCSI:
<code class="literal">lsscsi</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pnputils" target="_top">
<code class="literal">pnputils</code> </a> <a class="ulink" href="http://bugs.debian.org/pnputils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pnputils" target="_top">V:0.01, I:0.18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pnputils.html" target="_top">108</a></td>
<td align="left">
    средства для Plug and Play BIOS: <code class="literal">lspnp</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/procinfo" target="_top">
<code class="literal">procinfo</code> </a> <a class="ulink" href="http://bugs.debian.org/procinfo" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=procinfo" target="_top">V:0.3, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/procinfo.html" target="_top">164</a></td>
<td align="left">
    информация о системе, полученная из "<code class="literal">/proc</code>":
<code class="literal">lsdev</code>(8)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lshw" target="_top"> <code class="literal">lshw</code>
</a> <a class="ulink" href="http://bugs.debian.org/lshw" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lshw" target="_top">V:1.2, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lshw.html" target="_top">604</a></td>
<td align="left">
    информация о конфигурации оборудования: <code class="literal">lshw</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/discover" target="_top">
<code class="literal">discover</code> </a> <a class="ulink" href="http://bugs.debian.org/discover" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=discover" target="_top">V:2, I:12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/discover.html" target="_top">176</a></td>
<td align="left">
    система определения оборудования: <code class="literal">discover</code>(8)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_hardware_configuration"></a>9.6.4. Настройка оборудования</h3></div></div></div>
<p>Хотя большая часть устройств может быть настроена в современных GUI вроде
GNOME или KDE с помощью графических средств, неплохо знать некоторые общие
способы настроить их.</p>
<div class="table">
<a name="listofhardwareconfigurationtools"></a><p class="title"><b>Таблица 9.17. Список средств настройки оборудования</b></p>
<div class="table-contents"><table summary="Список средств настройки оборудования" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/hal" target="_top"> <code class="literal">hal</code>
</a> <a class="ulink" href="http://bugs.debian.org/hal" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=hal" target="_top">V:39, I:51</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/hal.html" target="_top">1668</a></td>
<td align="left">
    Hardware Abstraction Layer: <code class="literal">lshal</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/console-tools" target="_top">
<code class="literal">console-tools</code> </a> <a class="ulink" href="http://bugs.debian.org/console-tools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=console-tools" target="_top">V:50, I:87</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/console-tools.html" target="_top">956</a></td>
<td align="left">
    утилиты управления консолью Linux и шрифтами
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/x11-xserver-utils" target="_top">
<code class="literal">x11-xserver-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/x11-xserver-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=x11-xserver-utils" target="_top">V:33, I:50</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/x11-xserver-utils.html" target="_top">544</a></td>
<td align="left">
    утилиты X-сервера: <code class="literal">xset</code>(1), <code class="literal">xmodmap</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/acpid" target="_top"> <code class="literal">acpid</code>
</a> <a class="ulink" href="http://bugs.debian.org/acpid" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=acpid" target="_top">V:54, I:91</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/acpid.html" target="_top">208</a></td>
<td align="left">
    daemon to manage events delivered by the Advanced Configuration and Power
Interface (ACPI)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/acpi" target="_top"> <code class="literal">acpi</code>
</a> <a class="ulink" href="http://bugs.debian.org/acpi" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=acpi" target="_top">V:3, I:33</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/acpi.html" target="_top">92</a></td>
<td align="left">
    utility to display information on ACPI devices
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/apmd" target="_top"> <code class="literal">apmd</code>
</a> <a class="ulink" href="http://bugs.debian.org/apmd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=apmd" target="_top">V:1.1, I:11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/apmd.html" target="_top">252</a></td>
<td align="left">
    daemon to manage events delivered by the Advanced Power Management (APM)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/noflushd" target="_top">
<code class="literal">noflushd</code> </a> <a class="ulink" href="http://bugs.debian.org/noflushd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=noflushd" target="_top">V:0.05, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/noflushd.html" target="_top">248</a></td>
<td align="left">
    daemon to allow idle hard disks to spin down
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sleepd" target="_top">
<code class="literal">sleepd</code> </a> <a class="ulink" href="http://bugs.debian.org/sleepd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sleepd" target="_top">V:0.06, I:0.08</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sleepd.html" target="_top">148</a></td>
<td align="left">
    daemon to put a laptop to sleep during inactivity
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/hdparm" target="_top">
<code class="literal">hdparm</code> </a> <a class="ulink" href="http://bugs.debian.org/hdparm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=hdparm" target="_top">V:12, I:37</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/hdparm.html" target="_top">292</a></td>
<td align="left">
    hard disk access optimization (see <a class="xref" href="#_optimization_of_hard_disk" title="9.3.7. Оптимизация жёсткого диска">Раздел 9.3.7, «Оптимизация жёсткого диска»</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/smartmontools" target="_top">
<code class="literal">smartmontools</code> </a> <a class="ulink" href="http://bugs.debian.org/smartmontools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=smartmontools" target="_top">V:7, I:22</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/smartmontools.html" target="_top">1076</a></td>
<td align="left">
    control and monitor storage systems using <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F_SMART" target="_top">S.M.A.R.T.</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/setserial" target="_top">
<code class="literal">setserial</code> </a> <a class="ulink" href="http://bugs.debian.org/setserial" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=setserial" target="_top">V:1.6, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/setserial.html" target="_top">180</a></td>
<td align="left">
    collection of tools for serial port management
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/memtest86+" target="_top">
<code class="literal">memtest86+</code> </a> <a class="ulink" href="http://bugs.debian.org/memtest86+" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=memtest86+" target="_top">V:0.6, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/memtest86+.html" target="_top">652</a></td>
<td align="left">
    collection of tools for memory hardware management
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/scsitools" target="_top">
<code class="literal">scsitools</code> </a> <a class="ulink" href="http://bugs.debian.org/scsitools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=scsitools" target="_top">V:0.18, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/scsitools.html" target="_top">484</a></td>
<td align="left">
    collection of tools for <a class="ulink" href="http://ru.wikipedia.org/wiki/SCSI" target="_top">SCSI</a> hardware management
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tpconfig" target="_top">
<code class="literal">tpconfig</code> </a> <a class="ulink" href="http://bugs.debian.org/tpconfig" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tpconfig" target="_top">V:0.3, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tpconfig.html" target="_top">220</a></td>
<td align="left">
    utility to configure touchpad devices
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/setcd" target="_top"> <code class="literal">setcd</code>
</a> <a class="ulink" href="http://bugs.debian.org/setcd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=setcd" target="_top">V:0.06, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/setcd.html" target="_top">28</a></td>
<td align="left">
    compact disc drive access optimization
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/big-cursor" target="_top">
<code class="literal">big-cursor</code> </a> <a class="ulink" href="http://bugs.debian.org/big-cursor" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=big-cursor" target="_top">I:0.16</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/big-cursor.html" target="_top">68</a></td>
<td align="left">
    larger mouse cursors for X
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p><a class="ulink" href="http://ru.wikipedia.org/wiki/ACPI" target="_top">ACPI</a> -- более новая технология управления
питанием, чем <a class="ulink" href="http://ru.wikipedia.org/wiki/APM" target="_top">APM</a>.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>CPU frequency scaling on modern system is governed by kernel modules such as
<code class="literal">acpi_cpufreq</code>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_system_and_hardware_time"></a>9.6.5. Системное и аппаратное время</h3></div></div></div>
<p>Так можно установить системное и аппаратное время на MM/DD hh:mm, CCYY
(месяц/день час:минута, СекундаГод).</p>
<pre class="screen"># date MMDDhhmmCCYY
# hwclock --utc --systohc
# hwclock --show</pre>
<p>Times are normally displayed in the local time on the Debian system but the
hardware and system time usually use <a class="ulink" href="http://en.wikipedia.org/wiki/Universal_Time" target="_top">UT(GMT)</a>.</p>
<p>Если аппаратное время (BIOS) установлено в UT, установите
"<code class="literal">UTC=yes</code>" в "<code class="literal">/etc/default/rcS</code>".</p>
<p>Если вы хотите обновлять системное время через сеть, подумайте об
использовании службы <a class="ulink" href="http://ru.wikipedia.org/wiki/NTP" target="_top">NTP</a> с помощью таких пакетов,
как <code class="literal">ntp</code>, <code class="literal">ntpdate</code> и
<code class="literal">chrony</code>.</p>
<p>Загляните сюда:</p>
<div class="itemizedlist"><ul type="disc">
<li>
              <a class="ulink" href="http://www.tldp.org/HOWTO/TimePrecision-HOWTO/index.html" target="_top">Managing Accurate Date and
Time HOWTO</a>
            </li>
<li>
              <a class="ulink" href="http://www.ntp.org/" target="_top">NTP Public Services Project</a>
            </li>
<li>
Пакет <code class="literal">ntp-doc</code>
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><code class="literal">ntptrace</code>(8) из пакета <code class="literal">ntp</code> может
отследить цепочку NTP-серверов до первого источника времени.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_terminal_configuration"></a>9.6.6. Настройки терминала</h3></div></div></div>
<p>Есть несколько средств настройки символьной консоли и возможностей
<code class="literal">ncurses</code>(3).</p>
<div class="itemizedlist"><ul type="disc">
<li>
Файл "<code class="literal">/etc/terminfo/*/*</code>"
((<code class="literal">terminfo</code>(5))
</li>
<li>
Переменная "<code class="literal">$TERM</code>" (<code class="literal">term</code>(7))
</li>
<li>
<code class="literal">setterm</code>(1), <code class="literal">stty</code>(1),
<code class="literal">tic</code>(1), и <code class="literal">toe</code>(1)
</li>
</ul></div>
<p>If the <code class="literal">terminfo</code> entry for <code class="literal">xterm</code>
doesn't work with a non-Debian <code class="literal">xterm</code>, change your
terminal type, "<code class="literal">$TERM</code>", from "<code class="literal">xterm</code>"
to one of the feature-limited versions such as "<code class="literal">xterm-r6</code>"
when you log in to a Debian system remotely.  See
"<code class="literal">/usr/share/doc/libncurses5/FAQ</code>" for more.
"<code class="literal">dumb</code>" is the lowest common denominator for
"<code class="literal">$TERM</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_sound_infrastructure"></a>9.6.7. Звуковая подсистема</h3></div></div></div>
<p>Device drivers for sound cards for current Linux 2.6 are provided by <a class="ulink" href="http://ru.wikipedia.org/wiki/ALSA" target="_top">Advanced Linux Sound Architecture
(ALSA)</a>.  ALSA provides emulation mode for previous <a class="ulink" href="http://ru.wikipedia.org/wiki/Open_Sound_System" target="_top">Open Sound System (OSS)</a> for
compatibility.</p>
<p>Run "<code class="literal">dpkg-reconfigure linux-sound-base</code>" to select the
sound system to use ALSA via blacklisting of kernel modules. Unless you have
very new sound hardware, udev infrastructure should configure your sound
system.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Используйте "<code class="literal">cat /dev/urandom &gt; /dev/audio</code>" или
<code class="literal">speaker-test</code>(1) для проверки встроенного динамика
(speaker). Нажмите ^C для остановки.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>If you can not get sound, your speaker may be connected to a muted output.
Modern sound system has many outputs.  <code class="literal">alsamixer</code>(1) in
the <code class="literal">alsa-utils</code> package is useful to configure volume and
mute settings.</p>
</div>
<p>Application softwares may be configured not only to access sound devices
directly but also to access them via some standardized sound server system.</p>
<div class="table">
<a name="listofsoundpackages"></a><p class="title"><b>Таблица 9.18. List of sound packages</b></p>
<div class="table-contents"><table summary="List of sound packages" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/linux-sound-base" target="_top">
<code class="literal">linux-sound-base</code> </a> <a class="ulink" href="http://bugs.debian.org/linux-sound-base" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=linux-sound-base" target="_top">V:39, I:49</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/linux-sound-base.html" target="_top">132</a></td>
<td align="left">
    base package for ALSA and OSS sound systems
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/alsa-base" target="_top">
<code class="literal">alsa-base</code> </a> <a class="ulink" href="http://bugs.debian.org/alsa-base" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=alsa-base" target="_top">V:3, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/alsa-base.html" target="_top">500</a></td>
<td align="left">
    ALSA driver configuration files
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/alsa-utils" target="_top">
<code class="literal">alsa-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/alsa-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=alsa-utils" target="_top">V:34, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/alsa-utils.html" target="_top">1984</a></td>
<td align="left">
    utilities for configuring and using ALSA
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/oss-compat" target="_top">
<code class="literal">oss-compat</code> </a> <a class="ulink" href="http://bugs.debian.org/oss-compat" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=oss-compat" target="_top">V:29, I:34</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/oss-compat.html" target="_top">60</a></td>
<td align="left">
    OSS compatibility under ALSA preventing "<code class="literal">/dev/dsp not
found</code>" errors
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/esound-common" target="_top">
<code class="literal">esound-common</code> </a> <a class="ulink" href="http://bugs.debian.org/esound-common" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=esound-common" target="_top">V:22, I:57</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/esound-common.html" target="_top">232</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Enlightened_Sound_Daemon" target="_top">Enlightened Sound Daemon
(ESD)</a> common (Enlightenment and GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/esound" target="_top">
<code class="literal">esound</code> </a> <a class="ulink" href="http://bugs.debian.org/esound" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=esound" target="_top">V:0.8, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/esound.html" target="_top">80</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Enlightened_Sound_Daemon" target="_top">Enlightened Sound Daemon
(ESD)</a> server (Enlightenment and GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/esound-clients" target="_top">
<code class="literal">esound-clients</code> </a> <a class="ulink" href="http://bugs.debian.org/esound-clients" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=esound-clients" target="_top">V:13, I:25</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/esound-clients.html" target="_top">188</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Enlightened_Sound_Daemon" target="_top">Enlightened Sound Daemon
(ESD)</a> client (Enlightenment and GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libesd0" target="_top">
<code class="literal">libesd0</code> </a> <a class="ulink" href="http://bugs.debian.org/libesd0" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libesd0" target="_top">V:33, I:56</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libe/libesd0.html" target="_top">84</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Enlightened_Sound_Daemon" target="_top">Enlightened Sound Daemon
(ESD)</a> library (Enlightenment and GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/arts" target="_top"> <code class="literal">arts</code>
</a> <a class="ulink" href="http://bugs.debian.org/arts" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=arts" target="_top">I:8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/arts.html" target="_top">40</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/ARts" target="_top">aRts</a> server (KDE)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libarts1c2a" target="_top">
<code class="literal">libarts1c2a</code> </a> <a class="ulink" href="http://bugs.debian.org/libarts1c2a" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libarts1c2a" target="_top">V:14, I:25</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/liba/libarts1c2a.html" target="_top">5968</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/ARts" target="_top">aRts</a> library (KDE)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libartsc0" target="_top">
<code class="literal">libartsc0</code> </a> <a class="ulink" href="http://bugs.debian.org/libartsc0" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libartsc0" target="_top">V:11, I:34</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/liba/libartsc0.html" target="_top">48</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/ARts" target="_top">aRts</a> library (KDE)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/jackd" target="_top"> <code class="literal">jackd</code>
</a> <a class="ulink" href="http://bugs.debian.org/jackd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=jackd" target="_top">V:0.8, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/j/jackd.html" target="_top">32</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/JACK_Audio_Connection_Kit" target="_top">JACK Audio Connection
Kit. (JACK)</a> server (low latency)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libjack0" target="_top">
<code class="literal">libjack0</code> </a> <a class="ulink" href="http://bugs.debian.org/libjack0" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libjack0" target="_top">V:1.4, I:37</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libj/libjack0.html" target="_top">156</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/JACK_Audio_Connection_Kit" target="_top">JACK Audio Connection
Kit. (JACK)</a> library (low latency)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/nas" target="_top"> <code class="literal">nas</code>
</a> <a class="ulink" href="http://bugs.debian.org/nas" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=nas" target="_top">V:0.15, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/nas.html" target="_top">328</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Network_Audio_System" target="_top">Network Audio System (NAS)</a>
server
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libaudio2" target="_top">
<code class="literal">libaudio2</code> </a> <a class="ulink" href="http://bugs.debian.org/libaudio2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libaudio2" target="_top">V:26, I:46</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/liba/libaudio2.html" target="_top">204</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Network_Audio_System" target="_top">Network Audio System (NAS)</a>
library
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pulseaudio" target="_top">
<code class="literal">pulseaudio</code> </a> <a class="ulink" href="http://bugs.debian.org/pulseaudio" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pulseaudio" target="_top">V:2, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pulseaudio.html" target="_top">4052</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/PulseAudio" target="_top">PulseAudio</a> server, replacement for ESD
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libpulse0" target="_top">
<code class="literal">libpulse0</code> </a> <a class="ulink" href="http://bugs.debian.org/libpulse0" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libpulse0" target="_top">V:13, I:35</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libpulse0.html" target="_top">792</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/PulseAudio" target="_top">PulseAudio</a> client library, replacement for
ESD
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libgstreamer0.10-0" target="_top">
<code class="literal">libgstreamer0.10-0</code> </a> <a class="ulink" href="http://bugs.debian.org/libgstreamer0.10-0" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libgstreamer0.10-0" target="_top">V:30, I:51</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libg/libgstreamer0.10-0.html" target="_top">3368</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/GStreamer" target="_top">GStreamer</a>: GNOME sound engine
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libxine1" target="_top">
<code class="literal">libxine1</code> </a> <a class="ulink" href="http://bugs.debian.org/libxine1" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libxine1" target="_top">V:6, I:28</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libx/libxine1.html" target="_top">36</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Xine" target="_top">xine</a>: KDE older sound engine
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libphonon4" target="_top">
<code class="literal">libphonon4</code> </a> <a class="ulink" href="http://bugs.debian.org/libphonon4" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libphonon4" target="_top">I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libphonon4.html" target="_top">572</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Phonon_(KDE)" target="_top">Phonon</a>: KDE new sound engine
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>There is usually a common sound engine for each popular desktop
environment. Each sound engine used by the application can choose to connect
to different sound servers.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_disabling_the_screen_saver"></a>9.6.8. Отключение хранителя экрана</h3></div></div></div>
<p>Хранитель экрана (Screen saver, скринсейвер) можно отключить такими
способами.</p>
<div class="table">
<a name="listofcommandsfongthescreensaver"></a><p class="title"><b>Таблица 9.19. Список команд для отключения хранителя экрана</b></p>
<div class="table-contents"><table summary="Список команд для отключения хранителя экрана" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    окружение
    </th>
<th align="left">
    команда
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    Консоль Linux
    </td>
<td align="left">
                  <code class="literal">setterm -powersave off</code>
                </td>
</tr>
<tr>
<td align="left">
    X Window (выключение хранителя экрана)
    </td>
<td align="left">
                  <code class="literal">xset s off</code>
                </td>
</tr>
<tr>
<td align="left">
    X Window (выключение dpms)
    </td>
<td align="left">
                  <code class="literal">xset -dpms</code>
                </td>
</tr>
<tr>
<td align="left">
    X Window (окно настроек хранителя экрана)
    </td>
<td align="left">
                  <code class="literal">xscreensaver-command -prefs</code>
                </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_disabling_beep_sounds"></a>9.6.9. Отключение встроенного динамика (speaker)</h3></div></div></div>
<p>Можно физически отключить динамик, чтобы избавиться от пищащих звуков. А
можно выгрузить модуль ядра <code class="literal">pcspkr</code>.</p>
<p>А таким способом можно запретить программе <code class="literal">readline</code>(3),
используемой <code class="literal">bash</code>(1), пищать при встрече с символом
"<code class="literal">\a</code>" (ASCII=7).</p>
<pre class="screen">$ echo "set bell-style none"&gt;&gt; ~/.inputrc</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_memory_usage"></a>9.6.10. Использование памяти</h3></div></div></div>
<p>Сообщение загрузки ядра в "<code class="literal">/var/log/dmesg</code>" содержит
полное и точное количество доступной памяти.</p>
<p><code class="literal">free</code>(1) и <code class="literal">top</code>(1) выводят информацию о
ресурсах памяти на запущенной системе.</p>
<pre class="screen">$ grep '\] Memory' /var/log/dmesg
[    0.004000] Memory: 990528k/1016784k available (1975k kernel code, 25868k reserved, 931k data, 296k init)
$ free -k
             total       used       free     shared    buffers     cached
Mem:        997184     976928      20256          0     129592     171932
-/+ buffers/cache:     675404     321780
Swap:      4545576          4    4545572</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Не беспокойтесь о большом размере использованной ("<code class="literal">used</code>")
и маленьком свободной ("<code class="literal">free</code>") в строке
"<code class="literal">Mem:</code>"; взгляните на строчку ниже (675404 и 321780 в
примере выше) и расслабьтесь.</p>
</div>
<p>У меня на MacBook'е с 1GB=1048576k DRAM (часть которой забирает
видео-подсистема), выводится следующее:</p>
<div class="table">
<a name="listofmemorysizesreported"></a><p class="title"><b>Таблица 9.20. Список выводимых размеров памяти</b></p>
<div class="table-contents"><table summary="Список выводимых размеров памяти" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    отчёт
    </th>
<th align="left">
    размер
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    общее количество, dmesg
    </td>
<td align="left">
    1016784k = 1GB - 31792k
    </td>
</tr>
<tr>
<td align="left">
    свободно, dmesg
    </td>
<td align="left">
    990528k
    </td>
</tr>
<tr>
<td align="left">
    всего, из оболочки
    </td>
<td align="left">
    997184k
    </td>
</tr>
<tr>
<td align="left">
    свободно, из оболочки
    </td>
<td align="left">
    20256k (но в действительности 321780k)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_system_security_and_integrity_check"></a>9.6.11. System security and integrity check</h3></div></div></div>
<p>Poor system maintenance may expose your system to external exploitation.</p>
<p>For system security and integrity check, you should start with the
following.</p>
<div class="itemizedlist"><ul type="disc">
<li>
The <code class="literal">debsums</code> package, See <code class="literal">debsums</code>(1)
and <a class="xref" href="#_top_level_release_file_and_authenticity" title='2.5.2. Файл верхнего уровня "Release" и аутентичность'>Раздел 2.5.2, «Файл верхнего уровня "Release" и аутентичность»</a>.
</li>
<li>
The <code class="literal">chkrootkit</code> package, See
<code class="literal">chkrootkit</code>(1).
</li>
<li>
The <code class="literal">clamav</code> package family, See
<code class="literal">clamscan</code>(1) and <code class="literal">freahclam</code>(1).
</li>
<li>
<a class="ulink" href="http://www.debian.org/security/faq" target="_top">Debian security FAQ</a>.
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/manuals/securing-debian-howto/" target="_top">Securing Debian Manual</a>.
</li>
</ul></div>
<div class="table">
<a name="listoftoolsforsyndintegritycheck"></a><p class="title"><b>Таблица 9.21. List of tools for system security and integrity check</b></p>
<div class="table-contents"><table summary="List of tools for system security and integrity check" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/logcheck" target="_top">
<code class="literal">logcheck</code> </a> <a class="ulink" href="http://bugs.debian.org/logcheck" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=logcheck" target="_top">V:3, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/logcheck.html" target="_top">152</a></td>
<td align="left">
    daemon to mail anomalies in the system logfiles to the administrator
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/debsums" target="_top">
<code class="literal">debsums</code> </a> <a class="ulink" href="http://bugs.debian.org/debsums" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=debsums" target="_top">V:2, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/debsums.html" target="_top">268</a></td>
<td align="left">
    utility to verify installed package files against MD5 checksums
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/chkrootkit" target="_top">
<code class="literal">chkrootkit</code> </a> <a class="ulink" href="http://bugs.debian.org/chkrootkit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=chkrootkit" target="_top">V:2, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/chkrootkit.html" target="_top">808</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Rootkit" target="_top">rootkit</a> detector
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/clamav" target="_top">
<code class="literal">clamav</code> </a> <a class="ulink" href="http://bugs.debian.org/clamav" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=clamav" target="_top">V:2, I:11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/clamav.html" target="_top">612</a></td>
<td align="left">
    anti-virus utility for Unix - command-line interface
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tiger" target="_top"> <code class="literal">tiger</code>
</a> <a class="ulink" href="http://bugs.debian.org/tiger" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tiger" target="_top">V:0.9, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tiger.html" target="_top">3012</a></td>
<td align="left">
    report system security vulnerabilities
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tripwire" target="_top">
<code class="literal">tripwire</code> </a> <a class="ulink" href="http://bugs.debian.org/tripwire" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tripwire" target="_top">V:0.6, I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tripwire.html" target="_top">9560</a></td>
<td align="left">
    file and directory integrity checker
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/john" target="_top"> <code class="literal">john</code>
</a> <a class="ulink" href="http://bugs.debian.org/john" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=john" target="_top">V:0.7, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/j/john.html" target="_top">532</a></td>
<td align="left">
    active password cracking tool
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/aide" target="_top"> <code class="literal">aide</code>
</a> <a class="ulink" href="http://bugs.debian.org/aide" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=aide" target="_top">V:0.2, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/aide.html" target="_top">1213</a></td>
<td align="left">
    Advanced Intrusion Detection Environment - static binary
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bastille" target="_top">
<code class="literal">bastille</code> </a> <a class="ulink" href="http://bugs.debian.org/bastille" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bastille" target="_top">V:0.13, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bastille.html" target="_top">1960</a></td>
<td align="left">
    security hardening tool
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/integrit" target="_top">
<code class="literal">integrit</code> </a> <a class="ulink" href="http://bugs.debian.org/integrit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=integrit" target="_top">V:0.09, I:0.18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/integrit.html" target="_top">440</a></td>
<td align="left">
    file integrity verification program
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/crack" target="_top"> <code class="literal">crack</code>
</a> <a class="ulink" href="http://bugs.debian.org/crack" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=crack" target="_top">V:0.02, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/crack.html" target="_top">204</a></td>
<td align="left">
    password guessing program
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Here is a simple script to check for typical world writable incorrect file
permissions.</p>
<pre class="screen"># find / -perm 777 -a \! -type s -a \! -type l -a \! \( -type d -a -perm 1777 \)</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Since the <code class="literal">debsums</code> package uses <a class="ulink" href="http://ru.wikipedia.org/wiki/MD5" target="_top">MD5</a> checksums stored locally, it can not be fully
trusted as the system security audit tool against malicious attacks.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_kernel"></a>9.7. Ядро</h2></div></div></div>
<p>Debian распространяет модульное ядро Linux в виде пакетов для поддерживаемых
архитектур.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_linux_kernel_2_6"></a>9.7.1. Ядра Linux версий 2.6</h3></div></div></div>
<p>Несколько важных особенностей ядер Linux из линейки 2.6 в сравнении с 2.4:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Файлы устройств создаются системой udev (см. <a class="xref" href="#_the_udev_system" title="3.5.11. Система udev">Раздел 3.5.11, «Система udev»</a>).
</li>
<li>
Чтение/запись IDE CD/DVD не требует модуля <code class="literal">ide-scsi</code>.
</li>
<li>
Фильтрация сетевых пакетов (netfilter, фаервол) осуществляется с помощью
модулей <code class="literal">iptable</code>.
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_kernel_parameters"></a>9.7.2. Параметры ядра</h3></div></div></div>
<p>Многие особенности ядра можно настраивать с помощью параметров ядра
следующими способами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Параметры инициализируются загрузчиком (см. <a class="xref" href="#_stage_2_the_boot_loader" title="3.3. Второй этап: загрузчик (boot loader)">Раздел 3.3, «Второй этап: загрузчик (boot loader)»</a>)
</li>
<li>
Параметры, доступные для изменения через sysfs, можно менять во время работы
ядра с помощью <code class="literal">sysctl</code>(8) (см. <a class="xref" href="#_procfs_and_sysfs" title="1.2.12. procfs и sysfs">Раздел 1.2.12, «procfs и sysfs»</a>)
</li>
<li>
Параметры модулей устанавливаются с помощью аргументов команде
<code class="literal">modprobe</code>(8), когда модуль подгружается (активируется)
(см. пример в <a class="xref" href="#_mounting_the_disk_image_file" title="10.2.3. Монтирование файла с образом диска">Раздел 10.2.3, «Монтирование файла с образом диска»</a>)
</li>
</ul></div>
<p>См. "<code class="literal">kernel-parameters.txt(.gz)</code>" и другую документацию на
ядро Linux
("<code class="literal">/usr/share/doc/linux-doc-2.6.*/Documentation/filesystems/*</code>")
из пакета <code class="literal">linux-doc-2.6.*</code>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_kernel_headers"></a>9.7.3. Заголовки ядра</h3></div></div></div>
<p>Большинство <span class="strong"><strong>обычных программ</strong></span> не нуждаются
в заголовочных файлах ядра и могут не работать, если использовать эти файлы
для компиляции. Таковые должны компилироваться с заголовками в
"<code class="literal">/usr/include/linux</code>" и
"<code class="literal">/usr/include/asm</code>", устанавливаемыми пакетом
<code class="literal">libc6-dev</code> (который создан из исходного пакета
<code class="literal">glibc</code>).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Для компиляции некоторых программ, завязанных на ядро (например, модулей
ядра из различных источников, либо службы для автомонтирования
<code class="literal">amd</code>), вам нужно указывать путь к соответствующим
заголовкам ядра (например так:
"<code class="literal">-I/usr/src/linux-particular-version/include/</code>") в
командной строке. <code class="literal">module-assistant</code>(8) (короткое название
<code class="literal">m-a</code>) помогает пользователям легко собирать и
устанавливать пакеты модулей для одного или нескольких ядер.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_compiling_the_kernel_and_related_modules"></a>9.7.4. Компиляция ядра и модулей</h3></div></div></div>
<p>В системе Debian есть собственный способ компиляции ядра и входящих в него
модулей.</p>
<div class="table">
<a name="listofkeypackagenthedebiansystem"></a><p class="title"><b>Таблица 9.22. Список пакетов, которые должны быть установлены для компиляции ядра в
системе Debian</b></p>
<div class="table-contents"><table summary="Список пакетов, которые должны быть установлены для компиляции ядра в
системе Debian" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/build-essential" target="_top">
<code class="literal">build-essential</code> </a> <a class="ulink" href="http://bugs.debian.org/build-essential" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=build-essential" target="_top">I:47</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/build-essential.html" target="_top">48</a></td>
<td align="left">
    необходимые средства для сборки пакетов Debian: <code class="literal">make</code>,
<code class="literal">gcc</code>, ...
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bzip2" target="_top"> <code class="literal">bzip2</code>
</a> <a class="ulink" href="http://bugs.debian.org/bzip2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bzip2" target="_top">V:51, I:79</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bzip2.html" target="_top">132</a></td>
<td align="left">
    средства сжатия и распаковки для файлов bz2
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libncurses5-dev" target="_top">
<code class="literal">libncurses5-dev</code> </a> <a class="ulink" href="http://bugs.debian.org/libncurses5-dev" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libncurses5-dev" target="_top">V:3, I:25</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libn/libncurses5-dev.html" target="_top">6900</a></td>
<td align="left">
    ncurses: библиотеки и документация
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git" target="_top"> <code class="literal">git</code>
</a> <a class="ulink" href="http://bugs.debian.org/git" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git" target="_top">V:5, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git.html" target="_top">12564</a></td>
<td align="left">
    git: distributed revision control system used by the Linux kernel
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fakeroot" target="_top">
<code class="literal">fakeroot</code> </a> <a class="ulink" href="http://bugs.debian.org/fakeroot" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fakeroot" target="_top">V:5, I:31</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fakeroot.html" target="_top">376</a></td>
<td align="left">
    provide fakeroot environment for building package as non-root
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/initramfs-tools" target="_top">
<code class="literal">initramfs-tools</code> </a> <a class="ulink" href="http://bugs.debian.org/initramfs-tools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=initramfs-tools" target="_top">V:45, I:97</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/initramfs-tools.html" target="_top">468</a></td>
<td align="left">
    средство сборки initramfs (особенность Debian)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kernel-package" target="_top">
<code class="literal">kernel-package</code> </a> <a class="ulink" href="http://bugs.debian.org/kernel-package" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kernel-package" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kernel-package.html" target="_top">3408</a></td>
<td align="left">
    средство сборки пакетов с ядром Linux (особенность Debian)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/module-assistant" target="_top">
<code class="literal">module-assistant</code> </a> <a class="ulink" href="http://bugs.debian.org/module-assistant" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=module-assistant" target="_top">V:2, I:19</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/module-assistant.html" target="_top">568</a></td>
<td align="left">
    средство, упрощающее сборку пакетов с модулями (особенность Debian)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dkms" target="_top"> <code class="literal">dkms</code>
</a> <a class="ulink" href="http://bugs.debian.org/dkms" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dkms" target="_top">V:5, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dkms.html" target="_top">468</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Dynamic_Kernel_Module_Support" target="_top">поддержка динамических модулей
ядра (DKMS)</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/devscripts" target="_top">
<code class="literal">devscripts</code> </a> <a class="ulink" href="http://bugs.debian.org/devscripts" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=devscripts" target="_top">V:2, I:12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/devscripts.html" target="_top">1616</a></td>
<td align="left">
    сценарии, облегчающие жизнь сопровождающего пакет Debian (особенность
Debian)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">linux-tree-2.6.*</code>
                </td>
<td align="left">
    N/A
    </td>
<td align="left">
    N/A
    </td>
<td align="left">
    исходные тексты ядра и заплаты (мета-пакет, только в Debian)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Если вы используете  <code class="literal">initrd</code> (см. <a class="xref" href="#_stage_2_the_boot_loader" title="3.3. Второй этап: загрузчик (boot loader)">Раздел 3.3, «Второй этап: загрузчик (boot loader)»</a>), стоит прочесть соответствующую
документацию: <code class="literal">initramfs-tools</code>(8),
<code class="literal">update-initramfs</code>(8), <code class="literal">mkinitramfs</code>(8),
<code class="literal">initramfs.conf</code>(5).</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не создавайте символических ссылок на каталоги с деревом исходных текстов
ядра (например, на "<code class="literal">/usr/src/linux*</code>") из
"<code class="literal">/usr/include/linux</code>" или
"<code class="literal">/usr/include/asm</code>" при компиляции ядра. (Некоторые
устаревшие документы предлагают это делать.)</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Для компиляции наиболее свежего ядра на <code class="literal">стабильной</code>
системе могут потребоваться последние версии средств из
<code class="literal">нестабильной</code> (unstable) ветки (можно использовать
backports).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>The <a class="ulink" href="http://en.wikipedia.org/wiki/Dynamic_Kernel_Module_Support" target="_top">dynamic kernel module
support (DKMS)</a> is a new distribution independent framework designed
to allow individual kernel modules to be upgraded without changing the whole
kernel. This will be endorsed for the maintenance of out-of-tree modules for
<code class="literal">squeeze</code>.  This also makes it very easy to rebuild modules
as you upgrade kernels.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_compiling_the_kernel_source_debian_standard_method"></a>9.7.5. Компиляция ядра: стандартный для Debian способ</h3></div></div></div>
<p>Стандартный метод сборки ядра в Debian заключается в том, что в результате
компиляции создаётся пакет Debian с ядром. Для создания пакета используется
<code class="literal">make-kpkg</code>(1). Официальная документация здесь внизу:
"<code class="literal">/usr/share/doc/kernel-package/README.gz</code>". Настройки для
конкретных случаев: <code class="literal">kernel-pkg.conf</code>(5),
<code class="literal">kernel-img.conf</code>(5).</p>
<p>Вот пример для amd64</p>
<pre class="screen"># aptitude install linux-tree-&lt;номер_версии&gt;
$ cd /usr/src
$ tar -xjvf linux-source-&lt;номер_версии&gt;.tar.bz2
$ cd linux-source-&lt;номер_версии&gt;
$ cp /boot/config-&lt;версия_старого_ядра&gt; .config
$ make menuconfig
 ...
$ make-kpkg clean
$ fakeroot make-kpkg --append_to_version -amd64 --initrd --revision=rev.01 kernel_image modules_image
$ cd ..
# dpkg -i linux-image*.deb</pre>
<p>Можно перезагрузиться с новым ядром: "<code class="literal">shutdown -r now</code>".</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Когда вы намереваетесь собрать цельное ядро без модулей, предназначенное
только для одной машины, вызывайте  <code class="literal">make-kpkg</code> без
параметре "<code class="literal">--initrd</code>", ведь initrd не будет нужен. Запуск
"<code class="literal">make oldconfig</code>" и "<code class="literal">make dep</code>" вручную
не больше не нужен, "<code class="literal">make-kpkg kernel_image</code>" выполняет
это сам.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_compiling_the_module_source_debian_standard_method"></a>9.7.6. Компиляция модулей: стандартный для Debian способ</h3></div></div></div>
<p>Стандартный для Debian способ сборки и установки пакета с отдельным модулем
требует пакетов <code class="literal">module-assistant</code>(8) и
module-source. Например, так можно собрать и установить модуль
<code class="literal">unionfs</code>.</p>
<pre class="screen">$ sudo aptitude install module-assistant
...
$ sudo aptitude install unionfs-source unionfs-tools unionfs-utils
$ sudo m-a update
$ sudo m-a prepare
$ sudo m-a auto-install unionfs
...
$ sudo apt-get autoremove</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_compiling_the_kernel_source_classic_method"></a>9.7.7. Компиляция ядра: обычный способ</h3></div></div></div>
<p>Вы можете также собрать ядро из исходных текстов <a class="ulink" href="http://www.kernel.org/" target="_top">разработчиков ядра</a>,
неадаптированных для Debian. В этом случае вам нужно самим заботиться о
деталях конфигурации. Вот этот способ:</p>
<pre class="screen">$ cd /usr/src
$ wget http://www.kernel.org/pub/linux/kernel/v2.6/linux-&lt;номер_версии&gt;.tar.bz2
$ tar -xjvf linux-&lt;номер_версии&gt;.tar.bz2
$ cd linux-&lt;номер_версии&gt;
$ cp /boot/config-&lt;номер_версии&gt; .config
$ make menuconfig
 ...
$ make dep; make bzImage
$ make modules
# cp ./arch/x86_64/boot/bzImage /boot/vmlinuz-&lt;номер_версии&gt;
# make modules_install
# depmod -a
# update-initramfs -c -k &lt;номер_версии&gt;</pre>
<p>Настройка загрузчика:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Если используется <code class="literal">lilo</code>, отредактируйте
"<code class="literal">/etc/lilo.conf</code>" и выполните
"<code class="literal">/sbin/lilo</code>".
</li>
<li>
Если используется <code class="literal">grub</code>, отредактируйте
"<code class="literal">/boot/grub/menu.lst</code>".
</li>
</ul></div>
<p>Можно перезагрузиться с новым ядром: "<code class="literal">shutdown -r now</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_non_free_hardware_drivers"></a>9.7.8. Non-free драйвера устройств</h3></div></div></div>
<p>Хотя большинство драйверов доступны в виде Свободного ПО и как часть системы
Debian, вам может потребоваться загрузить некоторые несвободные (non-free)
драйвера для поддержки отдельного железа, например софт-модема (winmodem).</p>
<p>Обратитесь к подходящим ресурсам.</p>
<div class="itemizedlist"><ul type="disc">
<li>
              <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D0%BE%D1%84%D1%82-%D0%BC%D0%BE%D0%B4%D0%B5%D0%BC" target="_top">http://en.wikipedia.org/wiki/Softmodem</a>
            </li>
<li>
              <a class="ulink" href="http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers" target="_top">http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers</a>
            </li>
<li>
<a class="ulink" href="http://www.google.com" target="_top">Google</a> или другие системы поиска, ключевое
слово "Linmodem".
</li>
<li>
              <a class="ulink" href="http://ndiswrapper.sourceforge.net" target="_top">http://ndiswrapper.sourceforge.net</a>
            </li>
<li>
              <a class="ulink" href="http://linuxwireless.org" target="_top">http://linuxwireless.org</a>
            </li>
<li>
<a class="ulink" href="http://madwifi-project.org" target="_top">http://madwifi-project.org</a>
(there is ath5k which contains free drivers)
</li>
</ul></div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_virtualized_system"></a>9.8. Виртуализация</h2></div></div></div>
<p>Виртуализация позволяет запускать много отдельных систем одновременно на
одном железе.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>См. <a class="ulink" href="http://wiki.debian.org/SystemVirtualization" target="_top">http://wiki.debian.org/SystemVirtualization</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_virtualization_tools"></a>9.8.1. Средства виртуализации</h3></div></div></div>
<p>В Debian есть несколько пакетов для <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F" target="_top">виртуализации</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%AD%D0%BC%D1%83%D0%BB%D1%8F%D1%86%D0%B8%D1%8F" target="_top">эмуляции</a>, кроме простого <a class="ulink" href="http://ru.wikipedia.org/wiki/Chroot" target="_top">chroot</a>. Некоторые пакеты содержат средства помощи в
настройке таких систем.</p>
<div class="table">
<a name="listofvirtualizationtools"></a><p class="title"><b>Таблица 9.23. Список средств виртуализации</b></p>
<div class="table-contents"><table summary="Список средств виртуализации" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/schroot" target="_top">
<code class="literal">schroot</code> </a> <a class="ulink" href="http://bugs.debian.org/schroot" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=schroot" target="_top">V:0.9, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/schroot.html" target="_top">2448</a></td>
<td align="left">
    специальное средство для выполнения пакетов Debian в окружении chroot
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sbuild" target="_top">
<code class="literal">sbuild</code> </a> <a class="ulink" href="http://bugs.debian.org/sbuild" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sbuild" target="_top">V:0.10, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sbuild.html" target="_top">440</a></td>
<td align="left">
    средство сборки двоичных пакетов Debian из исходных текстов Debian
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pbuilder" target="_top">
<code class="literal">pbuilder</code> </a> <a class="ulink" href="http://bugs.debian.org/pbuilder" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pbuilder" target="_top">V:0.5, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pbuilder.html" target="_top">1192</a></td>
<td align="left">
    личное средство сборки пакетов Debian
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/debootstrap" target="_top">
<code class="literal">debootstrap</code> </a> <a class="ulink" href="http://bugs.debian.org/debootstrap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=debootstrap" target="_top">V:1.7, I:11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/debootstrap.html" target="_top">268</a></td>
<td align="left">
    развёртывает базовую систему Debian (написан на sh)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cdebootstrap" target="_top">
<code class="literal">cdebootstrap</code> </a> <a class="ulink" href="http://bugs.debian.org/cdebootstrap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cdebootstrap" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cdebootstrap.html" target="_top">112</a></td>
<td align="left">
    развёртывает систему Debian (написан на C)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/rootstrap" target="_top">
<code class="literal">rootstrap</code> </a> <a class="ulink" href="http://bugs.debian.org/rootstrap" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=rootstrap" target="_top">V:0.02, I:0.18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/rootstrap.html" target="_top">156</a></td>
<td align="left">
    средство создания образов файловых систем и установки туда Linux
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/virt-manager" target="_top">
<code class="literal">virt-manager</code> </a> <a class="ulink" href="http://bugs.debian.org/virt-manager" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=virt-manager" target="_top">V:0.4, I:1.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/virt-manager.html" target="_top">5908</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Virtual_Machine_Manager" target="_top">Virtual Machine Manager</a>:
desktop application for managing virtual machines
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libvirt-bin" target="_top">
<code class="literal">libvirt-bin</code> </a> <a class="ulink" href="http://bugs.debian.org/libvirt-bin" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libvirt-bin" target="_top">V:1.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libv/libvirt-bin.html" target="_top">2420</a></td>
<td align="left">
    программы для библиотеки <a class="ulink" href="http://en.wikipedia.org/wiki/Libvirt" target="_top">libvirt</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/user-mode-linux" target="_top">
<code class="literal">user-mode-linux</code> </a> <a class="ulink" href="http://bugs.debian.org/user-mode-linux" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=user-mode-linux" target="_top">V:0.07, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/user-mode-linux.html" target="_top">20540</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/User-mode_Linux" target="_top">User-mode Linux</a> (kernel)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bochs" target="_top"> <code class="literal">bochs</code>
</a> <a class="ulink" href="http://bugs.debian.org/bochs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bochs" target="_top">V:0.05, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bochs.html" target="_top">3280</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Bochs" target="_top">Bochs</a>: эмулятор IA-32
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/qemu" target="_top"> <code class="literal">qemu</code>
</a> <a class="ulink" href="http://bugs.debian.org/qemu" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=qemu" target="_top">V:0.6, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/qemu.html" target="_top">488</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a>: быстрый эмулятор различных процессоров
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/qemu-system" target="_top">
<code class="literal">qemu-system</code> </a> <a class="ulink" href="http://bugs.debian.org/qemu-system" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=qemu-system" target="_top">V:1.7, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/qemu-system.html" target="_top">38212</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a>: средства эмуляции полных систем
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/qemu-user" target="_top">
<code class="literal">qemu-user</code> </a> <a class="ulink" href="http://bugs.debian.org/qemu-user" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=qemu-user" target="_top">V:0.2, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/qemu-user.html" target="_top">16404</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a>: user mode emulation binaries
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/qemu-utils" target="_top">
<code class="literal">qemu-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/qemu-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=qemu-utils" target="_top">V:0.3, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/qemu-utils.html" target="_top">796</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a>: вспомогательные средства
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/qemu-kvm" target="_top">
<code class="literal">qemu-kvm</code> </a> <a class="ulink" href="http://bugs.debian.org/qemu-kvm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=qemu-kvm" target="_top">V:0.9, I:1.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/qemu-kvm.html" target="_top">4304</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Kernel-based_Virtual_Machine" target="_top">KVM</a>: full virtualization on x86 hardware with the
<a class="ulink" href="http://en.wikipedia.org/wiki/Hardware-assisted_virtualization" target="_top">hardware-assisted
virtualization</a>
</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/virtualbox-ose" target="_top">
<code class="literal">virtualbox-ose</code> </a> <a class="ulink" href="http://bugs.debian.org/virtualbox-ose" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=virtualbox-ose" target="_top">V:2, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/virtualbox-ose.html" target="_top">31696</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/VirtualBox" target="_top">VirtualBox</a>: x86 виртуализация для i386 и
amd64
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xen-tools" target="_top">
<code class="literal">xen-tools</code> </a> <a class="ulink" href="http://bugs.debian.org/xen-tools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xen-tools" target="_top">V:0.2, I:1.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xen-tools.html" target="_top">1224</a></td>
<td align="left">
    tools to manage debian <a class="ulink" href="http://ru.wikipedia.org/wiki/Xen" target="_top">XEN</a> virtual server
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wine" target="_top"> <code class="literal">wine</code>
</a> <a class="ulink" href="http://bugs.debian.org/wine" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wine" target="_top">V:1.6, I:14</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wine.html" target="_top">96</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Wine" target="_top">Wine</a>: реализация Windows API (стандартный набор)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dosbox" target="_top">
<code class="literal">dosbox</code> </a> <a class="ulink" href="http://bugs.debian.org/dosbox" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dosbox" target="_top">V:0.5, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dosbox.html" target="_top">2460</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/DOSBox" target="_top">DOSBox</a>: эмулятор x86 с графикой
Tandy/Herc/CGA/EGA/VGA/SVGA, звуком и DOS
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dosemu" target="_top">
<code class="literal">dosemu</code> </a> <a class="ulink" href="http://bugs.debian.org/dosemu" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dosemu" target="_top">V:0.3, I:1.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dosemu.html" target="_top">5940</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/DOSEMU" target="_top">DOSEMU</a>: Эмулятор DOS для Linux
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/vzctl" target="_top"> <code class="literal">vzctl</code>
</a> <a class="ulink" href="http://bugs.debian.org/vzctl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=vzctl" target="_top">V:0.7, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/vzctl.html" target="_top">1056</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/OpenVZ" target="_top">OpenVZ</a> server virtualization solution -
control tools
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/vzquota" target="_top">
<code class="literal">vzquota</code> </a> <a class="ulink" href="http://bugs.debian.org/vzquota" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=vzquota" target="_top">V:0.7, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/vzquota.html" target="_top">204</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/OpenVZ" target="_top">OpenVZ</a> server virtualization solution - quota
tools
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lxc" target="_top"> <code class="literal">lxc</code>
</a> <a class="ulink" href="http://bugs.debian.org/lxc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lxc" target="_top">V:0.04, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lxc.html" target="_top">728</a></td>
<td align="left">
<a class="ulink" href="http://lxc.sourceforge.net/" target="_top">Linux containers</a> user space tools
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>См. подробное сравнение различных систем виртуализации: <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D1%85_%D0%BC%D0%B0%D1%88%D0%B8%D0%BD" target="_top">Сравнение виртуальных машин</a>
в Википедии.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_virtualization_work_flow"></a>9.8.2. Виртуализация: цикл настройки</h3></div></div></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Some functionalities described here are only available in
<code class="literal">squeeze</code>.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Ядро, устанавливаемое в Debian по умолчанию, поддерживает <a class="ulink" href="http://ru.wikipedia.org/wiki/Kernel-based_Virtual_Machine" target="_top">KVM</a> с выпуска <code class="literal">lenny</code>.</p>
</div>
<p>Типичная последовательность действий для настройки <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F" target="_top">виртуализации</a> включает несколько шагов.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
Создаётся пустая файловая система (отдельный каталог или образ диска)
</p>
<div class="itemizedlist"><ul type="circle">
<li>
Отдельный каталог можно создать командой "<code class="literal">mkdir -p
/path/to/chroot</code>".
</li>
<li>
Файл с образом диска можно создать с <code class="literal">dd</code>(1) (см. <a class="xref" href="#_making_the_disk_image_file" title="10.2.1. Создание файла с образом диска">Раздел 10.2.1, «Создание файла с образом диска»</a> и <a class="xref" href="#_making_the_empty_disk_image_file" title="10.2.5. Создание пустого образа диска">Раздел 10.2.5, «Создание пустого образа диска»</a>).
</li>
<li>
<code class="literal">qemu-img</code>(1) создаёт и преобразовывает файлы-образы
дисков, поддерживаемые <a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a>.
</li>
<li>
"Сырые" образы дисков или образы в формате <a class="ulink" href="http://en.wikipedia.org/wiki/VMDK" target="_top">VMDK</a>
используются разными средствами виртуализации.
</li>
</ul></div>
</li>
<li>
<p>
Созданный образ диска монтируется с помощью <code class="literal">mount</code>(8).
</p>
<div class="itemizedlist"><ul type="circle">
<li>
For the raw disk image file, mount it as <a class="ulink" href="http://en.wikipedia.org/wiki/Loop_device" target="_top">loop
device</a> or <a class="ulink" href="http://en.wikipedia.org/wiki/Device_mapper" target="_top">device mapper</a> devices
(see <a class="xref" href="#_mounting_the_disk_image_file" title="10.2.3. Монтирование файла с образом диска">Раздел 10.2.3, «Монтирование файла с образом диска»</a>).
</li>
<li>
Образы дисков, поддерживаемые <a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a>, подключаются
как <a class="ulink" href="http://en.wikipedia.org/wiki/Network_block_device" target="_top">сетевые блочные устройства</a>
(см. <a class="xref" href="#_mounting_the_virtual_disk_image_file" title="9.8.3. Монтирование образа виртуального диска">Раздел 9.8.3, «Монтирование образа виртуального диска»</a>).
</li>
</ul></div>
</li>
<li>
<p>
Созданная файловая система наполняется необходимыми системными данными.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
Используются программы вроде <code class="literal">debootstrap</code> и
<code class="literal">cdebootstrap</code> (см. <a class="xref" href="#_chroot_system" title="9.8.4. Система в chroot">Раздел 9.8.4, «Система в chroot»</a>).
</li>
<li>
Используются установщики ОС в случае полной эмуляции системы.
</li>
</ul></div>
</li>
<li>
<p>
Программы запускаются в виртуальном окружении.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/Chroot" target="_top">chroot</a> предоставляет простое виртуальное
окружение, достаточное для компиляции программ, запуска консольных
приложений, служб и т.п.
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a> эмулирует разные ЦПУ
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a> with <a class="ulink" href="http://ru.wikipedia.org/wiki/Kernel-based_Virtual_Machine" target="_top">KVM</a>
provides full system emulation by the <a class="ulink" href="http://en.wikipedia.org/wiki/Hardware-assisted_virtualization" target="_top">hardware-assisted
virtualization</a>.
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/VirtualBox" target="_top">VirtualBox</a> provides full system emulation
on i386 and amd64 with or without the <a class="ulink" href="http://en.wikipedia.org/wiki/Hardware-assisted_virtualization" target="_top">hardware-assisted
virtualization</a>.
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_mounting_the_virtual_disk_image_file"></a>9.8.3. Монтирование образа виртуального диска</h3></div></div></div>
<p>Для подключения обычных образов дисков см. <a class="xref" href="#_the_disk_image" title="10.2. Образ диска">Раздел 10.2, «Образ диска»</a>.</p>
<p>Образы дисков в других форматах сначала экспортируются как <a class="ulink" href="http://en.wikipedia.org/wiki/Network_block_device" target="_top">сетевые блочные устройства</a> (с помощью
<code class="literal">qemu-nbd</code>(8)), а потом подключаются с помощью модуля ядра
<code class="literal">nbd</code>.</p>
<p><code class="literal">qemu-nbd</code>(8) поддерживает диски в форматах, поддерживаемых
<a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a>: обычные образы дисков (raw), <a class="ulink" href="http://en.wikipedia.org/wiki/Qcow" target="_top">qcow2, qcow</a> <a class="ulink" href="http://en.wikipedia.org/wiki/VMDK" target="_top">vmdk</a>,
<a class="ulink" href="http://ru.wikipedia.org/wiki/VirtualBox" target="_top">vdi</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Bochs" target="_top">bochs</a>, cow
(user-mode Linux copy-on-write), <a class="ulink" href="http://en.wikipedia.org/wiki/Parallels_Workstation" target="_top">parallels</a>,
<a class="ulink" href="http://en.wikipedia.org/wiki/Apple_Disk_Image" target="_top">dmg</a>, <a class="ulink" href="http://en.wikipedia.org/wiki/Cloop" target="_top">cloop</a>, <a class="ulink" href="http://en.wikipedia.org/wiki/VHD_(file_format)" target="_top">vpc</a>, vvfat (virtual VFAT), и host_device."</p>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/Network_block_device" target="_top">Сетевое блочное устройство</a>
(Network Block Device) может поддерживать партиции тем же способом, что и
<a class="ulink" href="http://en.wikipedia.org/wiki/Loop_device" target="_top">loop device</a> (см. <a class="xref" href="#_mounting_the_disk_image_file" title="10.2.3. Монтирование файла с образом диска">Раздел 10.2.3, «Монтирование файла с образом диска»</a>). Первую партицию диска
"<code class="literal">disk.img</code>" можно примонтировать так:</p>
<pre class="screen"># modprobe nbd max_part=16
# qemu-nbd -v -c /dev/nbd0 disk.img
...
# mkdir /mnt/part1
# mount /dev/nbd0p1 /mnt/part1</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете экспортировать только первую партицию диска
"<code class="literal">disk.img</code>" с помощью "<code class="literal">-P 1</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_chroot_system"></a>9.8.4. Система в chroot</h3></div></div></div>
<p><code class="literal">chroot</code>(8) предлагает наиболее простой способ запускать
отдельные окружения GNU/Linux на одной системе одновременно без
перезагрузки.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Примеры ниже предполагают, что и основная система, и система, запускаемая в
chroot, предназначены для процессоров одной архитектуры.</p>
</div>
<p>Вы можете изучить настройку и использование <code class="literal">chroot</code>(8),
запустив программу <code class="literal">pbuilder</code>(8) и сохраняя вывод терминала
с помощью <code class="literal">script</code>(1).</p>
<pre class="screen">$ sudo mkdir /sid-root
$ sudo pbuilder --create --no-targz --debug --buildplace /sid-root</pre>
<p>Вы видите, как <code class="literal">debootstrap</code>(8) или
<code class="literal">cdebootstrap</code>(1) заполняет каталог
"<code class="literal">/sid-root</code>" данными для окружения <code class="literal">sid</code>.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Эти <code class="literal">debootstrap</code>(8) или <code class="literal">cdebootstrap</code>(1)
используются для <a class="ulink" href="http://www.debian.org/releases/stable/installmanual" target="_top">установки системы
Debian</a> программой Debian Installer. Они могут также использоваться
для установки системы Debian без использования установочного диска Debian,
из любого другого дистрибутива GNU/Linux.</p>
</div>
<pre class="screen">$ sudo pbuilder --login --no-targz  --debug --buildplace /sid-root</pre>
<p>Видно, как системная оболочка, запускаемая в окружении
<code class="literal">sid</code>, создаётся в такой последовательности:</p>
<div class="orderedlist"><ol type="1">
<li>
Копируется локальная конфигурация (<code class="literal">"/etc/hosts</code>",
<code class="literal">"/etc/hostname</code>", <code class="literal">"/etc/resolv.conf</code>").
</li>
<li>
Монтируется "<code class="literal">/proc</code>".
</li>
<li>
Монтируется "<code class="literal">/dev/pts</code>".
</li>
<li>
Create "<code class="literal">/usr/sbin/policy-rc.d</code>" which always exits with
101
</li>
<li>
Наконец, запускается "<code class="literal">chroot /sid-root bin/bash -c 'exec -a -bash
bin/bash'</code>".
</li>
</ol></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Some programs under chroot may require access to more files from the parent
system to function than <code class="literal">pbuilder</code> provides.  For example,
"<code class="literal">/sys</code>", "<code class="literal">/etc/passwd</code>",
"<code class="literal">/etc/group</code>", "<code class="literal">/var/run/utmp</code>",
"<code class="literal">/var/log/wtmp</code>", etc. may need to be bind-mounted or
copied.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>"<code class="literal">/usr/sbin/policy-rc.d</code>" предотвращает автоматический
запуск служб в
системе.
См.
"<code class="literal">/usr/share/doc/sysv-rc/README.policy-rc.d.gz</code>". (зачем
это нужно в данном случае?)</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Изначальная цель отдельного пакета <code class="literal">pbuilder</code> -- это
создание системы в chroot и сборка пакета внутри него. Это идеальная
система, чтобы проверить, что зависимости, нужные для сборки
(build-dependency), в порядке и быть уверенным, что те зависимости, которые
не являются необходимыми, отсутствуют в итоговом пакете.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Похожий пакет <code class="literal">schroot</code> может подать вам идею запускать в
chroot <code class="literal">i386</code>-систему, в то время как основная система
будет для <code class="literal">amd64</code>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_multiple_desktop_systems"></a>9.8.5. Несколько ОС на одной настольной системе</h3></div></div></div>
<p>Для безопасного запуска нескольких ОС внутри одной
<code class="literal">стабильной</code> системы Debian с использованием возможностей
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F" target="_top">виртуализации</a> я рекомендую <a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/VirtualBox" target="_top">VirtualBox</a>. Это позволит запускать приложения для
нестабильного и тестируемого выпусков Debian без рисков для основной
системы.</p>
<p>Поскольку "чистый" <a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a> очень медленный,
рекомендуется ускорить его с помощью <a class="ulink" href="http://ru.wikipedia.org/wiki/Kernel-based_Virtual_Machine" target="_top">KVM</a>, если
host-система это позволяет.</p>
<p>Образ диска "<code class="literal">virtdisk.qcow2</code>", содержащий систему Debian
для <a class="ulink" href="http://ru.wikipedia.org/wiki/QEMU" target="_top">QEMU</a>, можно создать, используя <a class="ulink" href="http://www.debian.org/distrib/netinst" target="_top">debian-installer: Small CDs</a> таким
способом:</p>
<pre class="screen">$ wget http://cdimage.debian.org/debian-cd/5.0.3/amd64/iso-cd/debian-503-amd64-netinst.iso
$ qemu-img create -f qcow2 virtdisk.qcow2 5G
$ qemu -hda virtdisk.qcow2 -cdrom debian-503-amd64-netinst.iso -boot d -m 256
...</pre>
<p>См. другие советы по теме на <a class="ulink" href="http://wiki.debian.org/QEMU" target="_top">Debian wiki:
QEMU</a>.</p>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/VirtualBox" target="_top">VirtualBox</a> имеет простой интерфейс,
основанный на <a class="ulink" href="http://en.wikipedia.org/wiki/Qt_(toolkit)" target="_top">Qt</a>. Графический интерфейс и средства
командной строки описаны в Руководстве пользователя (<a class="ulink" href="http://www.virtualbox.org/manual/UserManual.html" target="_top">VirtualBox User Manual</a> и <a class="ulink" href="http://download.virtualbox.org/virtualbox/UserManual.pdf" target="_top">VirtualBox User Manual (PDF)</a>).</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Запуск других дистрибутивов GNU/Linux, таких как <a class="ulink" href="http://www.ubuntu.com/" target="_top">Ubuntu</a> и <a class="ulink" href="http://fedoraproject.org/" target="_top">Fedora</a> в
виртуальных машинах -- отличный способ изучать тонкости
конфигурации. Различные собственнические ОС также могут легко быть
запущенными в виртуальных машинах.</p>
</div>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_data_management"></a>Глава 10. Управление данными</h2></div></div></div>
<p>Средства и советы по управлению двоичными и текстовыми данными в системе
Debian.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Несколько процессов сразу не должны иметь неуправляемого доступа на запись к
активно используемым файлам и устройствам, чтобы избежать <a class="ulink" href="http://en.wikipedia.org/wiki/Race_condition" target="_top">состояния гонки</a>. В этом помогут механизмы
<a class="ulink" href="http://en.wikipedia.org/wiki/File_locking" target="_top">блокировки файлов</a>, использующие
<code class="literal">flock</code>(1).</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_sharing_copying_and_archiving"></a>10.1. Предоставление доступа, копирование и архивирование</h2></div></div></div>
<p>Безопасность данных и предоставление контролируемого доступа к ним требует
внимания с нескольких точек зрения.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Создание архива данных
</li>
<li>
Удалённый доступ к хранилищу
</li>
<li>
Дублирование
</li>
<li>
Отслеживание истории изменений
</li>
<li>
Упрощение предоставления доступа
</li>
<li>
Предотвращение неавторизованного доступа к файлам
</li>
<li>
Выявление неавторизованного изменения файлов
</li>
</ul></div>
<p>Это можно реализовать с помощью некоторого набора средств.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Средства сжатия и архивирования
</li>
<li>
Средства копирования и синхронизации
</li>
<li>
Сетевые файловые системы
</li>
<li>
Съёмные устройства хранения
</li>
<li>
Безопасная оболочка
</li>
<li>
Система аутентификации
</li>
<li>
Система контроля версий
</li>
<li>
Средства хэширования и шифрования
</li>
</ul></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_archive_and_compression_tools"></a>10.1.1. Средства сжатия и архивирования</h3></div></div></div>
<p>Вот обзор средств сжатия и архивирования, доступных в системе Debian.</p>
<div class="table">
<a name="listofarchiveandcompressiontools"></a><p class="title"><b>Таблица 10.1. Список средств сжатия и архивирования</b></p>
<div class="table-contents"><table summary="Список средств сжатия и архивирования" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    команда
    </th>
<th align="left">
    расширение
    </th>
<th align="left">
    комментарий
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tar" target="_top"> <code class="literal">tar</code>
</a> <a class="ulink" href="http://bugs.debian.org/tar" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tar" target="_top">V:60, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tar.html" target="_top">2108</a></td>
<td align="left">
<code class="literal">tar</code>(1)
    </td>
<td align="left">
                  <code class="literal">.tar</code>
                </td>
<td align="left">
    стандартный архиватор (стандарт де факто)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cpio" target="_top"> <code class="literal">cpio</code>
</a> <a class="ulink" href="http://bugs.debian.org/cpio" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cpio" target="_top">V:43, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cpio.html" target="_top">704</a></td>
<td align="left">
<code class="literal">cpio</code>(1)
    </td>
<td align="left">
                  <code class="literal">.cpio</code>
                </td>
<td align="left">
    архиватор Unix System V, используйте вместе с <code class="literal">find</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/binutils" target="_top">
<code class="literal">binutils</code> </a> <a class="ulink" href="http://bugs.debian.org/binutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=binutils" target="_top">V:57, I:75</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/binutils.html" target="_top">11996</a></td>
<td align="left">
<code class="literal">ar</code>(1)
    </td>
<td align="left">
                  <code class="literal">.ar</code>
                </td>
<td align="left">
    архиватор для создания статичных библиотек
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fastjar" target="_top">
<code class="literal">fastjar</code> </a> <a class="ulink" href="http://bugs.debian.org/fastjar" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fastjar" target="_top">V:12, I:32</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fastjar.html" target="_top">216</a></td>
<td align="left">
<code class="literal">fastjar</code>(1)
    </td>
<td align="left">
                  <code class="literal">.jar</code>
                </td>
<td align="left">
    архиватор для Java (аналог zip)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pax" target="_top"> <code class="literal">pax</code>
</a> <a class="ulink" href="http://bugs.debian.org/pax" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pax" target="_top">V:1.5, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pax.html" target="_top">172</a></td>
<td align="left">
<code class="literal">pax</code>(1)
    </td>
<td align="left">
                  <code class="literal">.pax</code>
                </td>
<td align="left">
    новый стандартный архиватор POSIX, компромисс между <code class="literal">tar</code> и
<code class="literal">cpio</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/afio" target="_top"> <code class="literal">afio</code>
</a> <a class="ulink" href="http://bugs.debian.org/afio" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=afio" target="_top">V:0.2, I:1.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/afio.html" target="_top">240</a></td>
<td align="left">
<code class="literal">afio</code>(1)
    </td>
<td align="left">
                  <code class="literal">.afio</code>
                </td>
<td align="left">
    расширенный <code class="literal">cpio</code> с пофайловым сжатием и т.п.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gzip" target="_top"> <code class="literal">gzip</code>
</a> <a class="ulink" href="http://bugs.debian.org/gzip" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gzip" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gzip.html" target="_top">284</a></td>
<td align="left">
<code class="literal">gzip</code>(1), <code class="literal">zcat</code>(1), …
    </td>
<td align="left">
                  <code class="literal">.gz</code>
                </td>
<td align="left">
    средство сжатия GNU <a class="ulink" href="http://en.wikipedia.org/wiki/LZ77_and_LZ78" target="_top">LZ77</a> (стандарт де факто)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bzip2" target="_top"> <code class="literal">bzip2</code>
</a> <a class="ulink" href="http://bugs.debian.org/bzip2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bzip2" target="_top">V:51, I:79</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bzip2.html" target="_top">132</a></td>
<td align="left">
<code class="literal">bzip2</code>(1), <code class="literal">bzcat</code>(1), …
    </td>
<td align="left">
                  <code class="literal">.bz2</code>
                </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B5%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%91%D0%B0%D1%80%D1%80%D0%BE%D1%83%D0%B7%D0%B0_%E2%80%94_%D0%A3%D0%B8%D0%BB%D0%B5%D1%80%D0%B0" target="_top">блочно-сортирующее сжатие по
методу Барроуза-Уиллера</a>; уровень сжатия больше, чем у
<code class="literal">gzip</code>(1), но медленней; похожий синтаксис
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lzma" target="_top"> <code class="literal">lzma</code>
</a> <a class="ulink" href="http://bugs.debian.org/lzma" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lzma" target="_top">V:9, I:83</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lzma.html" target="_top">172</a></td>
<td align="left">
<code class="literal">lzma</code>(1)
    </td>
<td align="left">
                  <code class="literal">.lzma</code>
                </td>
<td align="left">сжатие <a class="ulink" href="http://ru.wikipedia.org/wiki/LZMA" target="_top">LZMA</a>; уровень сжатия выше, чем у
<code class="literal">gzip</code>(1); (осуждается)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xz-utils" target="_top">
<code class="literal">xz-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/xz-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xz-utils" target="_top">V:4, I:22</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xz-utils.html" target="_top">368</a></td>
<td align="left">
<code class="literal">xz</code>(1), <code class="literal">xzdec</code>(1), …
    </td>
<td align="left">
                  <code class="literal">.xz</code>
                </td>
<td align="left">сжатие <a class="ulink" href="http://en.wikipedia.org/wiki/Xz" target="_top">XZ</a>; уровень сжатия выше, чем у
<code class="literal">bzip2</code>(1); работает медленней, чем
<code class="literal">gzip</code>, но быстрей, чем <code class="literal">bzip2</code>; идёт на
смену <a class="ulink" href="http://ru.wikipedia.org/wiki/LZMA" target="_top">LZMA</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/p7zip" target="_top"> <code class="literal">p7zip</code>
</a> <a class="ulink" href="http://bugs.debian.org/p7zip" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=p7zip" target="_top">V:2, I:24</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/p7zip.html" target="_top">1052</a></td>
<td align="left">
<code class="literal">7zr</code>(1), <code class="literal">p7zip</code>(1)
    </td>
<td align="left">
                  <code class="literal">.7z</code>
                </td>
<td align="left">архиватор <a class="ulink" href="http://ru.wikipedia.org/wiki/7-Zip" target="_top">7-Zip</a> с высоким коэфициентом сжатия
(сжатие <a class="ulink" href="http://ru.wikipedia.org/wiki/LZMA" target="_top">LZMA</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/p7zip-full" target="_top">
<code class="literal">p7zip-full</code> </a> <a class="ulink" href="http://bugs.debian.org/p7zip-full" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=p7zip-full" target="_top">V:13, I:24</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/p7zip-full.html" target="_top">3612</a></td>
<td align="left">
<code class="literal">7z</code>(1), <code class="literal">7za</code>(1)
    </td>
<td align="left">
                  <code class="literal">.7z</code>
                </td>
<td align="left">архиватор <a class="ulink" href="http://ru.wikipedia.org/wiki/7-Zip" target="_top">7-Zip</a> с высоким коэфициентом сжатия
(сжатие <a class="ulink" href="http://ru.wikipedia.org/wiki/LZMA" target="_top">LZMA</a> и др.)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lzop" target="_top"> <code class="literal">lzop</code>
</a> <a class="ulink" href="http://bugs.debian.org/lzop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lzop" target="_top">V:0.7, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lzop.html" target="_top">144</a></td>
<td align="left">
<code class="literal">lzop</code>(1)
    </td>
<td align="left">
                  <code class="literal">.lzo</code>
                </td>
<td align="left">средство сжатия <a class="ulink" href="http://ru.wikipedia.org/wiki/LZO" target="_top">LZO</a>, более быстрое, чем
<code class="literal">gzip</code>(1) (с меньшим коэфициентом сжатия, чем
<code class="literal">gzip</code>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/zip" target="_top"> <code class="literal">zip</code>
</a> <a class="ulink" href="http://bugs.debian.org/zip" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=zip" target="_top">V:8, I:53</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/z/zip.html" target="_top">632</a></td>
<td align="left">
<code class="literal">zip</code>(1)
    </td>
<td align="left">
                  <code class="literal">.zip</code>
                </td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Info-ZIP" target="_top">InfoZIP</a>: средство сжатия и архивации DOS
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/unzip" target="_top"> <code class="literal">unzip</code>
</a> <a class="ulink" href="http://bugs.debian.org/unzip" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=unzip" target="_top">V:24, I:69</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/unzip.html" target="_top">408</a></td>
<td align="left">
<code class="literal">unzip</code>(1)
    </td>
<td align="left">
                  <code class="literal">.zip</code>
                </td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Info-ZIP" target="_top">InfoZIP</a>: средство разархивирования и расжатия
из DOS
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не устанавливайте переменную окружения "<code class="literal">$TAPE</code>", не зная
точно, что хотите получить. Она изменяет поведение команды
<code class="literal">tar</code>(1).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Архив, созданный с помощью <code class="literal">tar</code>(1) и сжатый с
<code class="literal">gzip</code>(1), обычно имеет расширение
"<code class="literal">.tgz</code>" либо "<code class="literal">.tar.gz</code>".</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Архив, созданный с <code class="literal">tar</code>(1) и сжатый с
<code class="literal">xz</code>(1), обычно имеет расширение "<code class="literal">.txz</code>"
либо "<code class="literal">.tar.xz</code>".</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Популярные в мире <a class="ulink" href="http://ru.wikipedia.org/wiki/FLOSS" target="_top">FOSS</a> средства сжатия, часто
используемые вместе с <code class="literal">tar</code>(1), развиваются так:
<code class="literal">gzip</code> → <code class="literal">bzip2</code> → <code class="literal">xz</code>.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><code class="literal">cp</code>(1), <code class="literal">scp</code>(1) и
<code class="literal">tar</code>(1) могут иметь ограничения для специальных
файлов. <code class="literal">cpio</code>(1) и <code class="literal">afio</code>(1) более
гибкие.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><code class="literal">cpio</code>(1) и <code class="literal">afio</code>(1) созданы для
использования вместе с <code class="literal">find</code>(1) и другими командами; они
подходят для сценариев резервного копирования, поскольку та часть сценария,
которая выбирает файл, может быть протестирована отдельно.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><code class="literal">afio</code>(1) сжимает отдельно каждый файл в архиве. Благодаря
этому использовать <code class="literal">afio</code> безопасней, чем
<code class="literal">tar</code> или <code class="literal">cpio</code>: отдельная ошибка не
приведёт к порче всего архива. <code class="literal">afio</code>(1) -- <span class="strong"><strong>лучшее средство архивирования</strong></span> для сценариев
резервного копирования.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Внутренняя структура файлов данных OpenOffice -- это файл
"<code class="literal">.jar</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_copy_and_synchronization_tools"></a>10.1.2. Средства копирования и синхронизации</h3></div></div></div>
<p>Вот обзор простых средств копирования и резервного копирования, доступных в
системе Debian.</p>
<div class="table">
<a name="listofcopyandsynhronizationtools"></a><p class="title"><b>Таблица 10.2. Список средств копирования и синхронизации</b></p>
<div class="table-contents"><table summary="Список средств копирования и синхронизации" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    средство
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/coreutils" target="_top">
<code class="literal">coreutils</code> </a> <a class="ulink" href="http://bugs.debian.org/coreutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=coreutils" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html" target="_top">13828</a></td>
<td align="left">
    GNU cp
    </td>
<td align="left">
    локальное копирование файлов и каталогов ("-a" для рекурсивного действия)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openssh-client" target="_top">
<code class="literal">openssh-client</code> </a> <a class="ulink" href="http://bugs.debian.org/openssh-client" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openssh-client" target="_top">V:52, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openssh-client.html" target="_top">2208</a></td>
<td align="left">
    scp
    </td>
<td align="left">
    удалённое копирование файлов и каталогов (клиент, "<code class="literal">-r</code>"
для рекурсивного действия)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openssh-server" target="_top">
<code class="literal">openssh-server</code> </a> <a class="ulink" href="http://bugs.debian.org/openssh-server" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openssh-server" target="_top">V:69, I:82</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openssh-server.html" target="_top">804</a></td>
<td align="left">
    sshd
    </td>
<td align="left">
    удалённое копирование файлов и каталогов (удалённый сервер)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/rsync" target="_top"> <code class="literal">rsync</code>
</a> <a class="ulink" href="http://bugs.debian.org/rsync" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=rsync" target="_top">V:18, I:50</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/rsync.html" target="_top">704</a></td>
<td align="left">
    -
    </td>
<td align="left">
    удалённое резервное копирование и синхронизация "в одну сторону"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/unison" target="_top">
<code class="literal">unison</code> </a> <a class="ulink" href="http://bugs.debian.org/unison" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=unison" target="_top">V:0.9, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/unison.html" target="_top">1816</a></td>
<td align="left">
    -
    </td>
<td align="left">
    удалённое резервное копирование и синхронизация "в обе стороны"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Копирование файлов с <code class="literal">rsync</code>(8) богаче возможностями, чем
другие способы</p>
<div class="itemizedlist"><ul type="disc">
<li>
delta-transfer алгоритм: пересылаются только различающиеся части файлов, что
снижает сетевую трафик
</li>
<li>
quick check algorithm (by default) that looks for files that have changed in
size or in last-modified time
</li>
<li>
ключи "<code class="literal">--exclude</code>" и "<code class="literal">--exclude-from</code>"
аналогичны используемым в <code class="literal">tar</code>(1)
</li>
<li>
"a trailing slash on the source directory" syntax that avoids creating an
additional directory level at the destination.
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Execution of the <code class="literal">bkup</code> script mentioned in <a class="xref" href="#_a_copy_script_for_the_data_backup" title="10.1.9. A copy script for the data backup">Раздел 10.1.9, «A copy script for the data backup»</a> with the
"<code class="literal">-gl</code>" option under <code class="literal">cron</code>(8) should
provide very similar functionality as Plan9's <code class="literal">dumpfs</code> for
the static data archive.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Version control system (VCS) tools in <a class="xref" href="#list-of-vcs" title="Таблица 10.16. Список средств VCS">Таблица 10.16, «Список средств VCS»</a> can
function as the multi-way copy and synchronization tools.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_idioms_for_the_archive"></a>10.1.3. Идиомы для архивирования</h3></div></div></div>
<p>Есть несколько способов архивировать и разархивировать содержимое всего
каталога "<code class="literal">./source</code>" разными средствами.</p>
<p>GNU <code class="literal">tar</code>(1):</p>
<pre class="screen">$ tar cvzf archive.tar.gz ./source
$ tar xvzf archive.tar.gz</pre>
<p><code class="literal">cpio</code>(1):</p>
<pre class="screen">$ find ./source -xdev -print0 | cpio -ov --null &gt; archive.cpio; gzip archive.cpio
$ zcat archive.cpio.gz | cpio -i</pre>
<p><code class="literal">afio</code>(1):</p>
<pre class="screen">$ find ./source -xdev -print0 | afio -ovZ0 archive.afio
$ afio -ivZ archive.afio</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_idioms_for_the_copy"></a>10.1.4. Идиомы для копирования</h3></div></div></div>
<p>Есть несколько способов архивировать и разархивировать содержимое всего
каталога "<code class="literal">./source</code>" разными средствами.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Локальная копия: из каталога "<code class="literal">./source</code>" → в каталог
"<code class="literal">/dest</code>"
</li>
<li>
Удалённая копия: из каталога "<code class="literal">./source</code>" на локальной
системе → в каталог "<code class="literal">/dest</code>" на
"<code class="literal">user@host.dom</code>"
</li>
</ul></div>
<p><code class="literal">rsync</code>(8):</p>
<pre class="screen"># cd ./source; rsync -av . /dest
# cd ./source; rsync -av . user@host.dom:/dest</pre>
<p>You can alternatively use "a trailing slash on the source directory" syntax.</p>
<pre class="screen"># rsync -av ./source/ /dest
# rsync -av ./source/ user@host.dom:/dest</pre>
<p>Для GNU <code class="literal">cp</code>(1) и openSSH <code class="literal">scp</code>(1):</p>
<pre class="screen"># cd ./source; cp -a . /dest
# cd ./source; scp -pr . user@host.dom:/dest</pre>
<p>GNU <code class="literal">tar</code>(1):</p>
<pre class="screen"># (cd ./source &amp;&amp; tar cf - . ) | (cd /dest &amp;&amp; tar xvfp - )
# (cd ./source &amp;&amp; tar cf - . ) | ssh user@host.dom '(cd /dest &amp;&amp; tar xvfp - )'</pre>
<p><code class="literal">cpio</code>(1):</p>
<pre class="screen"># cd ./source; find . -print0 | cpio -pvdm --null --sparse /dest</pre>
<p><code class="literal">afio</code>(1):</p>
<pre class="screen"># cd ./source; find . -print0 | afio -pv0a /dest</pre>
<p>Во всех этих примерах вы можете заменить "<code class="literal">.</code>" (текущий
рабочий каталог) на "<code class="literal">foo</code>" для копирования файлов из
"<code class="literal">./source/foo</code>" в "<code class="literal">/dest/foo</code>".</p>
<p>Вы можете заменить "<code class="literal">.</code>" на полный путь
"<code class="literal">/path/to/source/foo</code>", чтобы не выполнять "<code class="literal">cd
./source;</code>". Файлы будут копироваться в различные места, в
зависимости от используемого средства:</p>
<div class="itemizedlist"><ul type="disc">
<li>
в "<code class="literal">/dest/foo</code>": для <code class="literal">rsync</code>(8), GNU
<code class="literal">cp</code>(1) и <code class="literal">scp</code>(1)
</li>
<li>
в "<code class="literal">/dest/path/to/source/foo</code>": для GNU
<code class="literal">tar</code>(1), <code class="literal">cpio</code>(1) и
<code class="literal">afio</code>(1)
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><code class="literal">rsync</code>(8) и GNU <code class="literal">cp</code>(1) поддерживают
параметр "<code class="literal">-u</code>": если файл в каталоге-приёмнике новей, он
не трогается.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_idioms_for_the_selection_of_files"></a>10.1.5. Идиомы для отбора файлов</h3></div></div></div>
<p>С помощью <code class="literal">find</code>(1) отбираются файлы для команд
архивирования и копирования (см. <a class="xref" href="#_repeating_a_command_looping_over_files" title="9.5.9. Выполнение одной команды для многих файлов">Раздел 9.5.9, «Выполнение одной команды для многих файлов»</a> и <a class="xref" href="#_idioms_for_the_copy" title="10.1.4. Идиомы для копирования">Раздел 10.1.4, «Идиомы для копирования»</a>), или для команды
<code class="literal">xargs</code>(1) (см. <a class="xref" href="#_repeating_a_command_looping_over_files" title="9.5.9. Выполнение одной команды для многих файлов">Раздел 9.5.9, «Выполнение одной команды для многих файлов»</a>). Возможности команд
можно расширить с помощью их ключей.</p>
<p>Basic syntax of <code class="literal">find</code>(1) can be summarized as the
following.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Условные операторы вычисляются слева направо.
</li>
<li>
Это вычисление завершается, если найдено удовлетворяющее условие.
</li>
<li>
"Логическое <span class="strong"><strong>OR</strong></span>" (определённое ключом
"<code class="literal">-o</code>" среди условных операторов) имеет низший приоритет,
чем "логическое <span class="strong"><strong>AND</strong></span>" (определённое ключом
"<code class="literal">-a</code>" или не указанное среди условных операторов).
</li>
<li>
"Логическое <span class="strong"><strong>NOT</strong></span>" (определённое
"<code class="literal">!</code>") имеет низший приоритет, чем "логическое <span class="strong"><strong>AND</strong></span>".
</li>
<li>
"<code class="literal">-prune</code>" всегда возвращает логическое <span class="strong"><strong>TRUE</strong></span> и, если это каталог, поиск файла прекращается
после этой точки.
</li>
<li>
"<code class="literal">-name</code>" matches the base of the filename with shell glob
(see <a class="xref" href="#_shell_glob" title="1.5.6. Шаблоны для имён файлов: shell glob">Раздел 1.5.6, «Шаблоны для имён файлов: shell glob»</a>) but it also matches its initial
"<code class="literal">.</code>" with metacharacters such as "<code class="literal">*</code>"
and "<code class="literal">?</code>". (New <a class="ulink" href="http://ru.wikipedia.org/wiki/POSIX" target="_top">POSIX</a> feature)
</li>
<li>
"<code class="literal">-regex</code>" matches the full path with emacs style <span class="strong"><strong>BRE</strong></span> (see <a class="xref" href="#_regular_expressions" title="1.6.2. Регулярные выражения">Раздел 1.6.2, «Регулярные выражения»</a>) as
default.
</li>
<li>
"<code class="literal">-size</code>" matches the file based on the file size (value
precedented with "<code class="literal">+</code>" for larger, precedented with
"<code class="literal">-</code>" for smaller)
</li>
<li>
"<code class="literal">-newer</code>" matches the file newer than the one specified in
its argument.
</li>
<li>
"<code class="literal">-print0</code>" always returns logical <span class="strong"><strong>TRUE</strong></span> and print the full filename (<a class="ulink" href="http://en.wikipedia.org/wiki/Null_character" target="_top">null terminated</a>) on the standard output.
</li>
</ul></div>
<p><code class="literal">find</code>(1) часто используется в стиле, насыщенном идиомами,
например:</p>
<pre class="screen"># find /path/to \
    -xdev -regextype posix-extended \
    -type f -regex ".*\.afio|.*~" -prune -o \
    -type d -regex ".*/\.git" -prune -o \
    -type f -size +99M -prune -o \
    -type f -newer /path/to/timestamp -print0</pre>
<p>Это означает выполнение следующих действий:</p>
<div class="orderedlist"><ol type="1">
<li>
Искать все файлы, начиная с "<code class="literal">/path/to</code>"
</li>
<li>
Ограничить пространство поиска файловой системой, с которой поиск начался и
использовать <span class="strong"><strong>ERE</strong></span> (см. <a class="xref" href="#_regular_expressions" title="1.6.2. Регулярные выражения">Раздел 1.6.2, «Регулярные выражения»</a>)
</li>
<li>
Исключить файлы, имена которых соответствуют регулярному выражению
"<code class="literal">.*\.afio</code>" или "<code class="literal">.*~</code>", остановив
обработку
</li>
<li>
Исключить каталоги, имена которых соответствуют регулярному выражению
"<code class="literal">.*/\.git</code>" из поиска, остановив обработку
</li>
<li>
Исключить файлы, размер которых больше, чем 99 Мегабайт (1Мбайт = 1048576
байт) из поиска, остановив обработку
</li>
<li>
Вывести имена файлов, которые удовлетворяют заданным условиям и новей, чем
"<code class="literal">/path/to/timestamp</code>"
</li>
</ol></div>
<p>Обратите внимание на использование "<code class="literal">-prune -o</code>", чтобы
исключить файлы.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>For non-Debian <a class="ulink" href="http://ru.wikipedia.org/wiki/Unix-%D0%BF%D0%BE%D0%B4%D0%BE%D0%B1%D0%BD%D0%B0%D1%8F_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">Unix-like</a> system, some
options may not be supported by <code class="literal">find</code>(1). In such a case,
please consider to adjust matching methods and replace
"<code class="literal">-print0</code>" with "<code class="literal">-print</code>".  You may need
to adjust related commands too.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_backup_and_recovery"></a>10.1.6. Резервное копирование и восстановление</h3></div></div></div>
<p>Все мы знаем, что компьютеры иногда дают сбой, либо людские ошибки приводят
к повреждению систем и данных. Резервное копирование и восстановление --
необходимая часть успешного системного администрирования. Все возможные
аварии однажды случаются.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Поддерживайте вашу систему резервного копирования простой и делайте
резервные копии часто. Иметь резервную копию данных важней, чем иметь
технически хороший метод резервного копирования.</p>
</div>
<p>Есть 3 ключевых фактора, которые определяют политику резервного копирования
и восстановления.</p>
<div class="orderedlist"><ol type="1">
<li>
<p>
Знание ЧТО копировать и восстанавливать
</p>
<div class="itemizedlist"><ul type="disc">
<li>
Файлы, созданные вами: данные в "<code class="literal">~/</code>"
</li>
<li>
Файлы, созданные программами, которые вы используете:
"<code class="literal">/var/</code>" (кроме "<code class="literal">/var/cache/</code>",
"<code class="literal">/var/run/</code>" и "<code class="literal">/var/tmp/</code>")
</li>
<li>
Системные файлы настройки: данные в "<code class="literal">/etc/</code>"
</li>
<li>
Локально установленное ПО: данные в "<code class="literal">/usr/local/</code>" или
"<code class="literal">/opt/</code>"
</li>
<li>
Информация, связанная с установкой системы: текстовые заметки по ключевым
этапам (разбивка диска, ...)
</li>
<li>
Проверенные данные, подтверждённые экспериментальной операцией
восстановления в будущем
</li>
</ul></div>
</li>
<li>
<p>
Знание КАК копировать и восстанавливать.
</p>
<div class="itemizedlist"><ul type="disc">
<li>
Защищённое место хранения данных: защита от перезаписи и системных ошибок
</li>
<li>
Частота копирования: резервное копирование по расписанию
</li>
<li>
Чрезмерное резервирование (с запасом надёжности): зеркалирование
</li>
<li>
Несложность процесса: одна простая команда для создания резервной копии
</li>
</ul></div>
</li>
<li>
<p>
Оценка рисков и предполагаемой стоимости.
</p>
<div class="itemizedlist"><ul type="disc">
<li>
Ценность данных в случае утери
</li>
<li>
Необходимые ресурсы: человеческие, аппаратные, программные, ...
</li>
<li>
Возможные варианты аварий и их вероятность
</li>
</ul></div>
</li>
</ol></div>
<p>As for secure storage of data, data should be at least on different disk
partitions preferably on different disks and machines to withstand the
filesystem corruption.  Important data are best stored on a write-once media
such as CD/DVD-R to prevent overwrite accidents.  (See <a class="xref" href="#_the_binary_data" title="10.3. Двоичные данные">Раздел 10.3, «Двоичные данные»</a> for how to write to the storage media from the
shell commandline.  GNOME desktop GUI environment gives you easy access via
menu: "Places→CD/DVD Creator".)</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>You may wish to stop some application daemons such as MTA (see <a class="xref" href="#_mail_transport_agent_mta" title="6.3. Почтовый сервер (MTA)">Раздел 6.3, «Почтовый сервер (MTA)»</a>) while backing up data.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>You should pay extra care to the backup and restoration of identity related
data files such as "<code class="literal">/etc/ssh/ssh_host_dsa_key</code>",
"<code class="literal">/etc/ssh/ssh_host_rsa_key</code>",
"<code class="literal">~/.gnupg/*</code>", "<code class="literal">~/.ssh/*</code>",
"<code class="literal">/etc/passwd</code>", "<code class="literal">/etc/shadow</code>",
"<code class="literal">/etc/fetchmailrc</code>",
"<code class="literal">popularity-contest.conf</code>",
"<code class="literal">/etc/ppp/pap-secrets</code>", and
"<code class="literal">/etc/exim4/passwd.client</code>".  Some of these data can not
be regenerated by entering the same input string to the system.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>If you run a cron job as a user process, you must restore files in
"<code class="literal">/var/spool/cron/crontabs</code>" directory and restart
<code class="literal">cron</code>(8).  See <a class="xref" href="#_scheduling_tasks_regularly" title="9.5.14. Установка расписания для запуска программ">Раздел 9.5.14, «Установка расписания для запуска программ»</a> for <code class="literal">cron</code>(8) and
<code class="literal">crontab</code>(1).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_backup_utility_suites"></a>10.1.7. Средства для резервного копирования</h3></div></div></div>
<p>Вот список основных средств резервного копирования, доступных в системе
Debian.</p>
<div class="table">
<a name="listofbackupsuiteutilities"></a><p class="title"><b>Таблица 10.3. Список утилит для резервного копирования</b></p>
<div class="table-contents"><table summary="Список утилит для резервного копирования" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/rdiff-backup" target="_top">
<code class="literal">rdiff-backup</code> </a> <a class="ulink" href="http://bugs.debian.org/rdiff-backup" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=rdiff-backup" target="_top">V:1.4, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/rdiff-backup.html" target="_top">804</a></td>
<td align="left">
    (remote) incremental backup
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dump" target="_top"> <code class="literal">dump</code>
</a> <a class="ulink" href="http://bugs.debian.org/dump" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dump" target="_top">V:0.4, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dump.html" target="_top">716</a></td>
<td align="left">
    <code class="literal">dump</code>(8) и <code class="literal">restore</code>(8) из <a class="ulink" href="http://ru.wikipedia.org/wiki/BSD" target="_top">BSD</a> 4.4 для <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext2" target="_top">ext2</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xfsdump" target="_top">
<code class="literal">xfsdump</code> </a> <a class="ulink" href="http://bugs.debian.org/xfsdump" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xfsdump" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xfsdump.html" target="_top">628</a></td>
<td align="left">
    <code class="literal">xfsdump</code>(8) и <code class="literal">xfsrestore</code>(8) для
файловой системы <a class="ulink" href="http://ru.wikipedia.org/wiki/XFS" target="_top">XFS</a> в ОС GNU/Linux и <a class="ulink" href="http://ru.wikipedia.org/wiki/IRIX" target="_top">IRIX</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/backupninja" target="_top">
<code class="literal">backupninja</code> </a> <a class="ulink" href="http://bugs.debian.org/backupninja" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=backupninja" target="_top">V:0.5, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/backupninja.html" target="_top">444</a></td>
<td align="left">
    lightweight, extensible <span class="strong"><strong>meta-backup</strong></span>
system
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mondo" target="_top"> <code class="literal">mondo</code>
</a> <a class="ulink" href="http://bugs.debian.org/mondo" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mondo" target="_top">V:0.10, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mondo.html" target="_top">1168</a></td>
<td align="left">
<a class="ulink" href="http://en.wikipedia.org/wiki/Mondo_Rescue" target="_top">Mondo Rescue</a>: мощный набор утилит для
резервного копирования
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sbackup" target="_top">
<code class="literal">sbackup</code> </a> <a class="ulink" href="http://bugs.debian.org/sbackup" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sbackup" target="_top">V:0.05, I:0.16</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sbackup.html" target="_top">488</a></td>
<td align="left">
    простая программа резервного копирования для GNOME
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/keep" target="_top"> <code class="literal">keep</code>
</a> <a class="ulink" href="http://bugs.debian.org/keep" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=keep" target="_top">V:0.14, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/keep.html" target="_top">1232</a></td>
<td align="left">
    программа резервного копирования для KDE
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bacula-common" target="_top">
<code class="literal">bacula-common</code> </a> <a class="ulink" href="http://bugs.debian.org/bacula-common" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bacula-common" target="_top">V:1.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bacula-common.html" target="_top">1388</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Bacula" target="_top">Bacula</a>: network backup, recovery and
verification - common support files
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bacula-client" target="_top">
<code class="literal">bacula-client</code> </a> <a class="ulink" href="http://bugs.debian.org/bacula-client" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bacula-client" target="_top">I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bacula-client.html" target="_top">84</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Bacula" target="_top">Bacula</a>: network backup, recovery and
verification - client meta-package
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bacula-console" target="_top">
<code class="literal">bacula-console</code> </a> <a class="ulink" href="http://bugs.debian.org/bacula-console" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bacula-console" target="_top">V:0.3, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bacula-console.html" target="_top">184</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Bacula" target="_top">Bacula</a>: network backup, recovery and
verification - text console
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bacula-server" target="_top">
<code class="literal">bacula-server</code> </a> <a class="ulink" href="http://bugs.debian.org/bacula-server" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bacula-server" target="_top">I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bacula-server.html" target="_top">84</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Bacula" target="_top">Bacula</a>: network backup, recovery and
verification - server meta-package
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/amanda-common" target="_top">
<code class="literal">amanda-common</code> </a> <a class="ulink" href="http://bugs.debian.org/amanda-common" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=amanda-common" target="_top">V:0.4, I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/amanda-common.html" target="_top">7020</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Advanced_Maryland_Automatic_Network_Disk_Archiver" target="_top">Amanda</a>: Advanced Maryland Automatic Network
Disk Archiver (Libs)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/amanda-client" target="_top">
<code class="literal">amanda-client</code> </a> <a class="ulink" href="http://bugs.debian.org/amanda-client" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=amanda-client" target="_top">V:0.4, I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/amanda-client.html" target="_top">832</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Advanced_Maryland_Automatic_Network_Disk_Archiver" target="_top">Amanda</a>: Advanced Maryland Automatic Network
Disk Archiver (Client)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/amanda-server" target="_top">
<code class="literal">amanda-server</code> </a> <a class="ulink" href="http://bugs.debian.org/amanda-server" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=amanda-server" target="_top">V:0.12, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/amanda-server.html" target="_top">1304</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Advanced_Maryland_Automatic_Network_Disk_Archiver" target="_top">Amanda</a>: Advanced Maryland Automatic Network
Disk Archiver (Server)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/backuppc" target="_top">
<code class="literal">backuppc</code> </a> <a class="ulink" href="http://bugs.debian.org/backuppc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=backuppc" target="_top">V:0.8, I:1.0</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/backuppc.html" target="_top">2170</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/BackupPC" target="_top">BackupPC</a> is a high-performance,
enterprise-grade system for backing up PCs (disk based)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/backup-manager" target="_top">
<code class="literal">backup-manager</code> </a> <a class="ulink" href="http://bugs.debian.org/backup-manager" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=backup-manager" target="_top">V:0.4, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/backup-manager.html" target="_top">672</a></td>
<td align="left">
    консольная утилита для резервного копирования
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/backup2l" target="_top">
<code class="literal">backup2l</code> </a> <a class="ulink" href="http://bugs.debian.org/backup2l" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=backup2l" target="_top">V:0.2, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/backup2l.html" target="_top">152</a></td>
<td align="left">
    low-maintenance backup/restore tool for mountable media (disk based)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Разные средства -- разные преимущества:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<a class="ulink" href="http://en.wikipedia.org/wiki/Mondo_Rescue" target="_top">Mondo Rescue</a> нацелено на обегчение
быстрого восстановления всей системы с резервной копии на CD/DVD и т.п. без
установки новой системы.
</li>
<li>
<code class="literal">sbackup</code> и <code class="literal">keep</code> предлагают
пользователям настольных компьютеров простой графический интерфейс для
регулярного резервного копирования данных пользователя. Похожей
функциональности можно достичь с помощью простого сценария (см. <a class="xref" href="#_an_example_script_for_the_system_backup" title="10.1.8. Пример сценария для резервного копирования">Раздел 10.1.8, «Пример сценария для резервного копирования»</a>) и
<code class="literal">cron</code>(8).
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/Bacula" target="_top">Bacula</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Advanced_Maryland_Automatic_Network_Disk_Archiver" target="_top">Amanda</a> и
<a class="ulink" href="http://ru.wikipedia.org/wiki/BackupPC" target="_top">BackupPC</a> -- полнофункциональные средства
резервного копирования по сети.
</li>
</ul></div>
<p>Простые средства, описанные в <a class="xref" href="#_archive_and_compression_tools" title="10.1.1. Средства сжатия и архивирования">Раздел 10.1.1, «Средства сжатия и архивирования»</a> и <a class="xref" href="#_copy_and_synchronization_tools" title="10.1.2. Средства копирования и синхронизации">Раздел 10.1.2, «Средства копирования и синхронизации»</a> могут быть использованы в
сценариях пользователя, упрощающих резервное копирование.</p>
<div class="itemizedlist"><ul type="disc">
<li>
The <code class="literal">rdiff-backup</code> package enables incremental (remote)
backups.
</li>
<li>
The <code class="literal">dump</code> package helps to archive and restore the whole
filesystem incrementally and efficiently.
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>See files in "<code class="literal">/usr/share/doc/dump/</code>" and <a class="ulink" href="http://dump.sourceforge.net/isdumpdeprecated.html" target="_top">"Is dump really deprecated?"</a> to lean
about the <code class="literal">dump</code> package.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_an_example_script_for_the_system_backup"></a>10.1.8. Пример сценария для резервного копирования</h3></div></div></div>
<p>В персональной настольной системе с <code class="literal">нестабильным</code> выпуском
Debian, мне нужно защитить личные и критичные данные. В любом случае, я
переустанавливаю систему раз в год. Так что не вижу причин делать резервную
копию всей системы или устанавливать для этого навороченные средства.</p>
<p>Я использую простой сценарий для создания архива с резервной копией и
записываю этот архив на CD/DVD из графического интерфейса. Вот пример такого
сценария:</p>
<pre class="screen">#!/bin/sh -e
# Copyright (C) 2007-2008 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
BUUID=1000; USER=osamu # UID and name of a user who accesses backup files
BUDIR="/var/backups"
XDIR0=".+/Mail|.+/Desktop"
XDIR1=".+/\.thumbnails|.+/\.?Trash|.+/\.?[cC]ache|.+/\.gvfs|.+/sessions"
XDIR2=".+/CVS|.+/\.git|.+/\.svn|.+/Downloads|.+/Archive|.+/Checkout|.+/tmp"
XSFX=".+\.iso|.+\.tgz|.+\.tar\.gz|.+\.tar\.bz2|.+\.afio|.+\.tmp|.+\.swp|.+~"
SIZE="+99M"
DATE=$(date --utc +"%Y%m%d-%H%M")
[ -d "$BUDIR" ] || mkdir -p "BUDIR"
umask 077
dpkg --get-selections \* &gt; /var/lib/dpkg/dpkg-selections.list
debconf-get-selections &gt; /var/cache/debconf/debconf-selections

{
find /etc /usr/local /opt /var/lib/dpkg/dpkg-selections.list \
     /var/cache/debconf/debconf-selections -xdev -print0
find /home/$USER /root -xdev -regextype posix-extended \
  -type d -regex "$XDIR0|$XDIR1" -prune -o -type f -regex "$XSFX" -prune -o \
  -type f -size  "$SIZE" -prune -o -print0
find /home/$USER/Mail/Inbox /home/$USER/Mail/Outbox -print0
find /home/$USER/Desktop  -xdev -regextype posix-extended \
  -type d -regex "$XDIR2" -prune -o -type f -regex "$XSFX" -prune -o \
  -type f -size  "$SIZE" -prune -o -print0
} | cpio -ov --null -O $BUDIR/BU$DATE.cpio
chown $BUUID $BUDIR/BU$DATE.cpio
touch $BUDIR/backup.stamp</pre>
<p>Этот сценарий предназначен для выполнения от имени суперпользователя.</p>
<p>Я предполагаю, что вы измените этот сценарий и будете использовать его так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Отредактируйте сценарий, чтобы его действие распространялось на все ваши
важные данные (см. <a class="xref" href="#_idioms_for_the_selection_of_files" title="10.1.5. Идиомы для отбора файлов">Раздел 10.1.5, «Идиомы для отбора файлов»</a> и
<a class="xref" href="#_backup_and_recovery" title="10.1.6. Резервное копирование и восстановление">Раздел 10.1.6, «Резервное копирование и восстановление»</a>).
</li>
<li>
Replace "<code class="literal">find … -print0</code>" with "<code class="literal">find … -newer
$BUDIR/backup.stamp -print0</code>" to make a incremental backup.
</li>
<li>
Пересылайте заархивированные файлы на удалённый узел с помощью
<code class="literal">scp</code>(1) или <code class="literal">rsync</code>(1); либо записывайте
их на CD/DVD для большей безопасности данных. (Я использую окружение GNOME
для записи CD/DVD. Об контроле целостности данных см. <a class="xref" href="#_shell_script_example_with_zenity" title="12.1.8. Пример сценария с использованием zenity">Раздел 12.1.8, «Пример сценария с использованием zenity»</a>.)
</li>
</ul></div>
<p>Keep it simple!</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can recover debconf configuration data with
"<code class="literal">debconf-set-selections debconf-selections</code>" and dpkg
selection data with "<code class="literal">dpkg --set-selection
&lt;dpkg-selections.list</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_a_copy_script_for_the_data_backup"></a>10.1.9. A copy script for the data backup</h3></div></div></div>
<p>For the set of data under a directory tree, the copy with "<code class="literal">cp
-a</code>" provides the normal backup.</p>
<p>For the set of large non-overwritten static data under a directory tree such
as the one under the "<code class="literal">/var/cache/apt/packages/</code>"
directory, hardlinks with "<code class="literal">cp -al</code>" provide an alternative
to the normal backup with efficient use of the disk space.</p>
<p>Here is a copy script, which I named as <code class="literal">bkup</code>, for the
data backup. This script copies all (non-VCS) files under the current
directory to the dated directory on the parent directory or on a remote
host.</p>
<pre class="screen">#!/bin/sh -e
# Copyright (C) 2007-2008 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
fdot(){ find . -type d \( -iname ".?*" -o -iname "CVS" \) -prune -o -print0;}
fall(){ find . -print0;}
mkdircd(){ mkdir -p "$1";chmod 700 "$1";cd "$1"&gt;/dev/null;}
FIND="fdot";OPT="-a";MODE="CPIOP";HOST="localhost";EXTP="$(hostname -f)"
BKUP="$(basename $(pwd)).bkup";TIME="$(date  +%Y%m%d-%H%M%S)";BU="$BKUP/$TIME"
while getopts gcCsStrlLaAxe:h:T f; do case $f in
g)  MODE="GNUCP";; # cp (GNU)
c)  MODE="CPIOP";; # cpio -p
C)  MODE="CPIOI";; # cpio -i
s)  MODE="CPIOSSH";; # cpio/ssh
S)  MODE="AFIOSSH";; # afio/ssh
t)  MODE="TARSSH";; # tar/ssh
r)  MODE="RSYNCSSH";; # rsync/ssh
l)  OPT="-alv";; # hardlink (GNU cp)
L)  OPT="-av";;  # copy (GNU cp)
a)  FIND="fall";; # find all
A)  FIND="fdot";; # find non CVS/ .???/
x)  set -x;; # trace
e)  EXTP="${OPTARG}";; # hostname -f
h)  HOST="${OPTARG}";; # user@remotehost.example.com
T)  MODE="TEST";; # test find mode
\?) echo "use -x for trace."
esac; done
shift $(expr $OPTIND - 1)
if [ $# -gt 0 ]; then
  for x in $@; do cp $OPT $x $x.$TIME; done
elif [ $MODE = GNUCP ]; then
  mkdir -p "../$BU";chmod 700 "../$BU";cp $OPT . "../$BU/"
elif [ $MODE = CPIOP ]; then
  mkdir -p "../$BU";chmod 700 "../$BU"
  $FIND|cpio --null --sparse -pvd ../$BU
elif [ $MODE = CPIOI ]; then
  $FIND|cpio -ov --null | ( mkdircd "../$BU"&amp;&amp;cpio -i )
elif [ $MODE = CPIOSSH ]; then
  $FIND|cpio -ov --null|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp;cpio -i )"
elif [ $MODE = AFIOSSH ]; then
  $FIND|afio -ov -0 -|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp;afio -i - )"
elif [ $MODE = TARSSH ]; then
  (tar cvf - . )|ssh -C $HOST "( mkdircd \"$EXTP/$BU\"&amp;&amp; tar xvfp - )"
elif [ $MODE = RSYNCSSH ]; then
  rsync -rlpt ./ "${HOST}:${EXTP}-${BKUP}-${TIME}"
else
  echo "Any other idea to backup?"
  $FIND |xargs -0 -n 1 echo
fi</pre>
<p>Здесь приводятся лишь примеры команд. Пожалуйста, прочитайте сценарий и
отредактируйте его под свои нужды перед использованием.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Я держу этот сценарий, <code class="literal">bkup</code>, в каталоге
"<code class="literal">/usr/local/bin/</code>". Я использую команду
<code class="literal">bkup</code> без параметров, когда мне нужен временный
"отпечаток" текущего каталога.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Для создания истории изменений в файлах с исходным кодом или в файлах
настройки, проще и эффективней использовать <code class="literal">git</code>(7)
(см. <a class="xref" href="#_git_for_recording_configuration_history" title="10.9.5. Git для записи истории изменения конфигурационных файлов">Раздел 10.9.5, «Git для записи истории изменения конфигурационных файлов»</a>).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_removable_storage_device"></a>10.1.10. Съёмные устройства хранения данных</h3></div></div></div>
<p>Съёмным может быть любое из перечисленных устройств:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Жёсткий диск
</li>
<li>
Любой флэш-диск.
</li>
<li>
Цифровая камера, подключенная по <a class="ulink" href="http://ru.wikipedia.org/wiki/USB" target="_top">USB</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/IEEE_1394" target="_top">IEEE 1394 / Firewire</a>, <a class="ulink" href="http://en.wikipedia.org/wiki/PC_card" target="_top">PC Card</a>, и т.п.
</li>
</ul></div>
<p>В современной среде рабочего стола, например, в GNOME, съёмные устройства
могут автоматически монтироваться от имени пользователя с помощью
<code class="literal">gnome-mount</code>(1).</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
В качестве точки монтирования в GNOME выбирается каталог
"<code class="literal">/media/&lt;метка_диска&gt;</code>". Метку диска можно
настраивать следующими средствами:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
<code class="literal">mlabel</code>(1) для файловой системы FAT
</li>
<li>
<code class="literal">genisoimage</code>(1) с параметром "<code class="literal">-V</code>" для
ISO9660
</li>
<li>
<code class="literal">tune2fs</code>(1) с "<code class="literal">-L</code>" для ext2/ext3
</li>
</ul></div>
</li>
<li>
The choice of encoding may need to be provided as mount option (see <a class="xref" href="#_filename_encoding" title="8.3.6. Кодировка имён файлов">Раздел 8.3.6, «Кодировка имён файлов»</a>).
</li>
<li>
The ownership of the mounted filesystem may need to be adjusted for use by
the normal user.
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В современных окружениях рабочего стола автомонтирование происходит лишь в
том случае, если съёмный носитель не определён в
"<code class="literal">/etc/fstab</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>если возникают проблемы из-за ошибочных параметров монтирования, удалите
соответствующие настройки в "<code class="literal">/system/storage/</code>" с помощью
<code class="literal">gconf-editor</code>(1).</p>
</div>
<div class="table">
<a name="listofpackageswhingetcfstabentry"></a><p class="title"><b>Таблица 10.4. Список пакетов, позволяющих обычным пользователям монтировать съёмные
устройства без необходимости указывать их в "<code class="literal">/etc/fstab</code>".</b></p>
<div class="table-contents"><table summary='Список пакетов, позволяющих обычным пользователям монтировать съёмные
устройства без необходимости указывать их в "/etc/fstab".' border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnome-mount" target="_top">
<code class="literal">gnome-mount</code> </a> <a class="ulink" href="http://bugs.debian.org/gnome-mount" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnome-mount" target="_top">V:16, I:31</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnome-mount.html" target="_top">NOT_FOUND</a></td>
<td align="left">
    (от)монтирование и извлечение съёмных устройств (используется в GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pmount" target="_top">
<code class="literal">pmount</code> </a> <a class="ulink" href="http://bugs.debian.org/pmount" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pmount" target="_top">V:5, I:21</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pmount.html" target="_top">548</a></td>
<td align="left">
    монтирование съёмных устройств обычным пользователем (используется в KDE)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cryptmount" target="_top">
<code class="literal">cryptmount</code> </a> <a class="ulink" href="http://bugs.debian.org/cryptmount" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cryptmount" target="_top">V:0.2, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cryptmount.html" target="_top">360</a></td>
<td align="left">
    Управление и монтирование пользователем зашифрованных файловых систем
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/usbmount" target="_top">
<code class="literal">usbmount</code> </a> <a class="ulink" href="http://bugs.debian.org/usbmount" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=usbmount" target="_top">V:0.3, I:1.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/usbmount.html" target="_top">112</a></td>
<td align="left">
    автоматическое (от)монтирование USB-дисков
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>When sharing data with other system via removable storage device, you should
format it with common <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A4%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">filesystem</a> supported
by both systems. Here is a list of filesystem choices.</p>
<div class="table">
<a name="listoffilesystemalusagescenarios"></a><p class="title"><b>Таблица 10.5. List of filesystem choices for removable storage devices with typical usage
scenarios</b></p>
<div class="table-contents"><table summary="List of filesystem choices for removable storage devices with typical usage
scenarios" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    файловая система
    </th>
<th align="left">
    описание типичного способа использования
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/File_Allocation_Table" target="_top">FAT12</a>
                </td>
<td align="left">
    кросс-платформенный обмен данными на флоппи-дисках (&lt;32Мб)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/File_Allocation_Table" target="_top">FAT16</a>
                </td>
<td align="left">
    кросс-платформенный обмен данными на небольших жёстких дисках (&lt;2Гб)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/File_Allocation_Table" target="_top">FAT32</a>
                </td>
<td align="left">
    кросс-платформенный обмен данными на больших жёстких дисках (&lt;8Тб,
поддерживается системами MS Windows 95, OSR2 или новее)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/NTFS" target="_top">NTFS</a>
                </td>
<td align="left">
    cross platform sharing of data on the large hard disk like device (supported
natively on <a class="ulink" href="http://ru.wikipedia.org/wiki/Windows_NT" target="_top">MS Windows NT</a> and later
version, and supported by <a class="ulink" href="http://ru.wikipedia.org/wiki/NTFS-3G" target="_top">NTFS-3G</a> via <a class="ulink" href="http://ru.wikipedia.org/wiki/Filesystem_in_Userspace" target="_top">FUSE</a> on Linux)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_9660" target="_top">ISO9660</a>
                </td>
<td align="left">
    кросс-платформенный обмен статичными данными на CD-R и DVD+/-R
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/Universal_Disk_Format" target="_top">UDF</a>
                </td>
<td align="left">
    incremental data writing on CD-R and DVD+/-R (new)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A4%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_Minix" target="_top">файловая система MINIX</a>
                </td>
<td align="left">
    space efficient unix file data storage on the floppy disk
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext2" target="_top">ext2</a>
                </td>
<td align="left">
    обмен данными на жёстких дисках (и т.п.) со старыми Linux-системами
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext3</a>
                </td>
<td align="left">
    обмен данными жёстких дисках (и т.п.) с современными Linux-системами (<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%96%D1%83%D1%80%D0%BD%D0%B0%D0%BB%D0%B8%D1%80%D1%83%D0%B5%D0%BC%D0%B0%D1%8F_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0" target="_top">журналируемая ФС</a>)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>См. <a class="xref" href="#_removable_disk_encryption_with_dm_crypt_luks" title="9.4.1. Шифрование данных на сменных носителях с помощью dm-crypt/LUKS">Раздел 9.4.1, «Шифрование данных на сменных носителях с помощью dm-crypt/LUKS»</a> на тему
кросс-платформенного обмена данными на зашифрованных дисках.</p>
</div>
<p>Файловая система FAT поддерживается почти всеми современными операционными
системами и очень полезна для обмена данными на жёстких дисках, USB-дисках и
т.п.</p>
<p>When formatting removable hard disk like devices for cross platform sharing
of data with the FAT filesystem, the following should be safe choices.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
Partitioning them with <code class="literal">fdisk</code>(8),
<code class="literal">cfdisk</code>(8) or <code class="literal">parted</code>(8) (see <a class="xref" href="#_disk_partition_configuration" title="9.3.1. Настройка раздела диска">Раздел 9.3.1, «Настройка раздела диска»</a>) into a single primary partition
and to mark it as the following.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
Type "6" for FAT16 for media smaller than 2GB.
</li>
<li>
Type "c" for FAT32 (LBA) for larger media.
</li>
</ul></div>
</li>
<li>
<p>
Formatting the primary partition with <code class="literal">mkfs.vfat</code>(8) with
the following.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
Just its device name, e.g. "<code class="literal">/dev/sda1</code>" for FAT16
</li>
<li>
The explicit option and its device name, e.g. "<code class="literal">-F 32
/dev/sda1</code>" for FAT32
</li>
</ul></div>
</li>
</ul></div>
<p>When using the FAT or ISO9660 filesystems for sharing data, the following
should be the safe considerations.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Archiving files into an archive file first using <code class="literal">tar</code>(1),
<code class="literal">cpio</code>(1), or <code class="literal">afio</code>(1) to retain the long
filename, the symbolic link, the original Unix file permission and the owner
information.
</li>
<li>
Splitting the archive file into less than 2 GiB chunks with the
<code class="literal">split</code>(1) command to protect it from the file size
limitation.
</li>
<li>
Encrypting the archive file to secure its contents from the unauthorized
access.
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>For FAT filesystems by its design, the maximum file size is <code class="literal">(2^32 -
1) bytes = (4GiB - 1 byte)</code>. For some applications on the older 32
bit OS, the maximum file size was even smaller <code class="literal">(2^31 - 1) bytes =
(2GiB - 1 byte)</code>.  Debian does not suffer the latter problem.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Microsoft itself does not recommend to use FAT for drives or partitions of
over 200 MB.  Microsoft highlights its short comings such as inefficient
disk space usage in their "<a class="ulink" href="http://support.microsoft.com/kb/100108/" target="_top">Overview of FAT, HPFS, and NTFS
File Systems</a>".  Of course, we should normally use the ext3
filesystem for Linux.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>For more on filesystems and accessing filesystems, please read "<a class="ulink" href="http://tldp.org/HOWTO/Filesystems-HOWTO.html" target="_top">Filesystems HOWTO</a>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_sharing_data_via_network"></a>10.1.11. Обмен данными через сеть</h3></div></div></div>
<p>Для обмена данными через сеть с другими системами вам нужно использовать
общие службы. Вот некоторые советы.</p>
<div class="table">
<a name="listofthenetworkcalusagescenario"></a><p class="title"><b>Таблица 10.6. List of the network service to chose with the typical usage scenario</b></p>
<div class="table-contents"><table summary="List of the network service to chose with the typical usage scenario" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    сетевая служба
    </th>
<th align="left">
    описание типичного способа использования
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/SMB" target="_top">SMB/CIFS</a> network mounted filesystem with
<a class="ulink" href="http://ru.wikipedia.org/wiki/Samba" target="_top">Samba</a>
    </td>
<td align="left">
    sharing files via "Microsoft Windows Network", see
<code class="literal">smb.conf</code>(5) and <a class="ulink" href="http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/" target="_top">The Official Samba 3.2.x HOWTO and
Reference Guide</a> or the <code class="literal">samba-doc</code> package
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/Network_File_System" target="_top">NFS</a> network mounted filesystem with the Linux
kernel
    </td>
<td align="left">
    sharing files via "Unix/Linux Network", see <code class="literal">exports</code>(5)
and <a class="ulink" href="http://tldp.org/HOWTO/NFS-HOWTO/index.html" target="_top">Linux NFS-HOWTO</a>
    </td>
</tr>
<tr>
<td align="left">служба <a class="ulink" href="http://ru.wikipedia.org/wiki/HTTP" target="_top">HTTP</a>
    </td>
<td align="left">
    sharing file between the web server/client
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/HTTPS" target="_top">HTTPS</a> service
    </td>
<td align="left">
    sharing file between the web server/client with encrypted Secure Sockets
Layer (SSL) or <a class="ulink" href="http://ru.wikipedia.org/wiki/TLS" target="_top">Transport Layer
Security</a> (TLS)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/FTP" target="_top">FTP</a> service
    </td>
<td align="left">
    sharing file between the FTP server/client
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Although these filesystems mounted over network and file transfer methods
over network are quite convenient for sharing data, these may be insecure.
Their network connection must be secured by the following.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Encrypt it with <a class="ulink" href="http://ru.wikipedia.org/wiki/TLS" target="_top">SSL/TLS</a>
</li>
<li>
Tunnel it via <a class="ulink" href="http://ru.wikipedia.org/wiki/SSH" target="_top">SSH</a>
</li>
<li>
Tunnel it via <a class="ulink" href="http://ru.wikipedia.org/wiki/VPN" target="_top">VPN</a>
</li>
<li>
Limit it behind the secure firewall
</li>
</ul></div>
<p>См. также <a class="xref" href="#_other_network_application_servers" title="6.10. Другие серверы сетевых приложений">Раздел 6.10, «Другие серверы сетевых приложений»</a> и <a class="xref" href="#_other_network_application_clients" title="6.11. Другие клиенты сетевых приложений">Раздел 6.11, «Другие клиенты сетевых приложений»</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_archive_media"></a>10.1.12. Выбор устройства для хранения архива</h3></div></div></div>
<p>Выбирая <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%8F_%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D1%8C" target="_top">устройство хранения</a>
для архива с важными данными, вы должны быть внимательны к их
ограничениям. Для маленького личного бэкапа, я использую CD-R и DVD-R
компании с хорошим именем и затем храню их с прохладном, защищённом от
света, сухом и чистом месте. (Ленточные накопители для архива более
популярны для профессионального использования.)</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D0%B9%D1%84" target="_top">Огнестойкий сейф</a> предназначен для
бумажных документов. Большая часть компьютерных устройств хранения имеет
меньшую максимально допустимую температуру, чем бумага. Я обычно полагаюсь
на несколько зашифрованных копий, сохранённых в разных защищённых местах.</p>
</div>
<p>Оптимистичные сроки жизни архивных устройств, встреченные в сети (главным
образом у производителей):</p>
<div class="itemizedlist"><ul type="disc">
<li>
100+ лет: безкислотная (антикоррозийная) бумага и чернила
</li>
<li>
100 лет: оптические носители (CD/DVD, CD/DVD-R)
</li>
<li>
30 лет: магнитные носители (лента, дискеты)
</li>
<li>
20 лет: носители с изменением фазового состояния (CD-RW)
</li>
</ul></div>
<p>Это без учёта механических повреждений при использовании.</p>
<p>Оптимистичные показатели количества циклов записи, встреченные в сети
(большей частью у производителей):</p>
<div class="itemizedlist"><ul type="disc">
<li>
250,000+ циклов: жёсткий диск
</li>
<li>
10,000+ циклов: флэш-память
</li>
<li>
1,000 циклов: CD/DVD-RW
</li>
<li>
1 цикл: CD/DVD-R, бумага
</li>
</ul></div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Приведённые здесь сроки жизни и количества циклов записи не должны быть
использованы для решений с любыми критичными данными. Пожалуйста,
проконсультируйтесь с информацией производителя по конкретному продукту.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>CD/DVD-R и бумага имеют только один цикл записи, это предотвращает случайную
потерю данных из-за перезаписи. Это преимущество!</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если вам нужно быстро и часто делать резервную копию большого объёма данных,
единственным реальным решением может оказаться запись на жёсткий диск
удалённого узла, подключенного по быстрому соединению.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_disk_image"></a>10.2. Образ диска</h2></div></div></div>
<p>Здесь речь идёт о работе с образами диска. См. также <a class="xref" href="#_data_storage_tips" title="9.3. Советы по работе с дисками и разделами">Раздел 9.3, «Советы по работе с дисками и разделами»</a>.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_making_the_disk_image_file"></a>10.2.1. Создание файла с образом диска</h3></div></div></div>
<p>Файл "<code class="literal">disk.img</code>", содержащий образ отключенного диска,
например, второго SCSI-диска "<code class="literal">/dev/sdb</code>", можно сделать с
помощью  <code class="literal">cp</code>(1) или <code class="literal">dd</code>(1) так:</p>
<pre class="screen"># cp /dev/sdb disk.img
# dd if=/dev/sdb of=disk.img</pre>
<p>Образ <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C" target="_top">загрузочной записи (MBR)</a>
традиционных PC (см. <a class="xref" href="#_disk_partition_configuration" title="9.3.1. Настройка раздела диска">Раздел 9.3.1, «Настройка раздела диска»</a>),
которая находится на первом секторе первичного IDE-диска можно сделать с
помощью <code class="literal">dd</code>(1) таким способом:</p>
<pre class="screen"># dd if=/dev/hda of=mbr.img bs=512 count=1
# dd if=/dev/hda of=mbr-nopart.img bs=446 count=1
# dd if=/dev/hda of=mbr-part.img skip=446 bs=1 count=66</pre>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">mbr.img</code>": главная загрузочная запись (MBR) с таблицей
разделов (partition table)
</li>
<li>
"<code class="literal">mbr-nopart.img</code>": главная загрузочная запись (MBR) без
таблицы разделов
</li>
<li>
"<code class="literal">part.img</code>": только таблица разделов (partition table)
</li>
</ul></div>
<p>Если ваш загрузочный диск -- SCSI (включая новые диски SATA), замените
"<code class="literal">/dev/hda</code>" на "<code class="literal">/dev/sda</code>".</p>
<p>Если вы делаете образ раздела диска, замените "<code class="literal">/dev/hda</code>"
на "<code class="literal">/dev/hda1</code>", и т.п.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_writing_directly_to_the_disk"></a>10.2.2. Запись на диск напрямую</h3></div></div></div>
<p>Файл с образом диска, "<code class="literal">disk.img</code>", может быть записан на
отключенное (unmounted) устройство, например, второй диск SCSI,
"<code class="literal">/dev/sdb</code>" с подходящим размером, так:</p>
<pre class="screen"># dd if=disk.img of=/dev/sdb</pre>
<p>Аналогично, образ раздела диска, "<code class="literal">partition.img</code>", может
быть записан на отключенный (unmounted) раздел устройства, например, первый
раздел второго SCSI-диска, "<code class="literal">/dev/sdb1</code>" с подходящим
размером, так:</p>
<pre class="screen"># dd if=partition.img of=/dev/sdb1</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_mounting_the_disk_image_file"></a>10.2.3. Монтирование файла с образом диска</h3></div></div></div>
<p>Образ диска "<code class="literal">partition.img</code>", содержащего единственный
раздел (партицию) можно примонтировать или отмонтировать, используя <a class="ulink" href="http://en.wikipedia.org/wiki/Loop_device" target="_top">loop device</a> (устройство обратной связи):</p>
<pre class="screen"># losetup -v -f partition.img
Loop device is /dev/loop0
# mkdir -p /mnt/loop0
# mount -t auto /dev/loop0 /mnt/loop0
...hack...hack...hack
# umount /dev/loop0
# losetup -d /dev/loop0</pre>
<p>То же самое можно сделать проще так:</p>
<pre class="screen"># mkdir -p /mnt/loop0
# mount -t auto -o loop partition.img /mnt/loop0
...hack...hack...hack
# umount partition.img</pre>
<p>Каждый раздел образа диска "<code class="literal">disk.img</code>" (если на образе
диска несколько разделов) также можно примонтировать с помощью <a class="ulink" href="http://en.wikipedia.org/wiki/Loop_device" target="_top">устройства обратной связи</a>. По умолчанию
устройство обратной связи не работает с разделами дисков, поэтому нам нужно
включить эту возможность так:</p>
<pre class="screen"># modinfo -p loop # verify kernel capability
max_part:Maximum number of partitions per loop device
max_loop:Maximum number of loop devices
# losetup -a # verify nothing using the loop device
# rmmod loop
# modprobe loop max_part=16</pre>
<p>Теперь устройство обратной связи может обслуживать до 16 разделов.</p>
<pre class="screen"># losetup -v -f disk.img
Loop device is /dev/loop0
# fdisk -l /dev/loop0

Disk /dev/loop0: 5368 MB, 5368709120 bytes
255 heads, 63 sectors/track, 652 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Disk identifier: 0x452b6464

      Device Boot      Start         End      Blocks   Id  System
/dev/loop0p1               1         600     4819468+  83  Linux
/dev/loop0p2             601         652      417690   83  Linux
# mkdir -p /mnt/loop0p1
# mount -t ext3 /dev/loop0p1 /mnt/loop0p1
# mkdir -p /mnt/loop0p2
# mount -t ext3 /dev/loop0p2 /mnt/loop0p2
...hack...hack...hack
# umount /dev/loop0p1
# umount /dev/loop0p2
# losetup -d /dev/loop0</pre>
<p>Как вариант, похожего результата можно достичь, используя устройства,
созданные с помощью <code class="literal">kpartx</code>(8) из пакета
<code class="literal">kpartx</code> (см. <a class="ulink" href="http://en.wikipedia.org/wiki/Device_mapper" target="_top">device
mapper</a>):</p>
<pre class="screen"># kpartx -a -v disk.img
...
# mkdir -p /mnt/loop0p2
# mount -t ext3 /dev/mapper/loop0p2 /mnt/loop0p2
...
...hack...hack...hack
# umount /dev/mapper/loop0p2
...
# kpartx -d /mnt/loop0</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Также вы можете примонтировать отдельный раздел такого образа диска с
помощью устройства обратной связи (<a class="ulink" href="http://en.wikipedia.org/wiki/Loop_device" target="_top">loop
device</a>), но задавая смещение от начала образа диска, чтобы
"пропустить" <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C" target="_top">MBR</a> и т.д. Но так вероятность
ошибиться больше.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_cleaning_a_disk_image_file"></a>10.2.4. Очистка образа диска</h3></div></div></div>
<p>Вот способ очистить образ диска "<code class="literal">disk.img</code>" от всех
удалённых файлов, переместив всю информацию с него на новый разреженный
образ диска "<code class="literal">new.img</code>":</p>
<pre class="screen"># mkdir old; mkdir new
# mount -t auto -o loop disk.img old
# dd bs=1 count=0 if=/dev/zero of=new.img seek=5G
# mount -t auto -o loop new.img new
# cd old
# cp -a --sparse=always ./ ../new/
# cd ..
# umount new.img
# umount disk.img</pre>
<p>Если на образе диска "<code class="literal">disk.img</code>" файловая система ext2 или
ext3, вы также можете использовать <code class="literal">zerofree</code>(8) из пакета
<code class="literal">zerofree</code>:</p>
<pre class="screen"># losetup -f -v disk.img
Loop device is /dev/loop3
# zerofree /dev/loop3
# cp --sparse=always disk.img new.img</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_making_the_empty_disk_image_file"></a>10.2.5. Создание пустого образа диска</h3></div></div></div>
<p>Пустой образ диска "<code class="literal">disk.img</code>", который сможет
"разрастись" до размера 5Гб, можно создать с помощью
<code class="literal">dd</code>(1) так:</p>
<pre class="screen">$ dd bs=1 count=0 if=/dev/zero of=disk.img seek=5G</pre>
<p>Вы можете создать файловую систему ext3 на таком образе диска,
"<code class="literal">disk.img</code>", с помощью <a class="ulink" href="http://en.wikipedia.org/wiki/Loop_device" target="_top">устройства обратной связи</a>:</p>
<pre class="screen"># losetup -f -v disk.img
Loop device is /dev/loop1
# mkfs.ext3 /dev/loop1
...hack...hack...hack
# losetup -d /dev/loop1
$ du  --apparent-size -h disk.img
5.0G  disk.img
$ du -h disk.img
83M disk.img</pre>
<p>Размер файла "<code class="literal">disk.img</code>" -- 5.0 гигабайт, в то время как
использованное им место на диске -- 83 мегабайта. Такое противоречие
возможно, поскольку файловая система <a class="ulink" href="http://ru.wikipedia.org/wiki/Ext3" target="_top">ext2fs</a>
может содержать <a class="ulink" href="http://en.wikipedia.org/wiki/Sparse_file" target="_top">разреженные файлы</a> (sparse
files).</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Настоящий объём дискового пространства, используемый <a class="ulink" href="http://en.wikipedia.org/wiki/Sparse_file" target="_top">разреженным файлом</a>, растёт вместе с данными,
записанными в этот файл.</p>
</div>
<p>Применяя такое действие к образам диска, созданным с помощью <a class="ulink" href="http://en.wikipedia.org/wiki/Loop_device" target="_top">устройства обратной связи</a> (loop device), или с
помощью <a class="ulink" href="http://en.wikipedia.org/wiki/Device_mapper" target="_top">device mapper</a> (см. <a class="xref" href="#_mounting_the_disk_image_file" title="10.2.3. Монтирование файла с образом диска">Раздел 10.2.3, «Монтирование файла с образом диска»</a>), вы можете разбить образ диска
программами <code class="literal">parted</code>(8) или <code class="literal">fdisk</code>(8) и
создать на нём файловую систему с помощью <code class="literal">mkfs.ext3</code>(8),
<code class="literal">mkswap</code>(8) и т.п.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_making_the_iso9660_image_file"></a>10.2.6. Создание образа файловой системы ISO9660</h3></div></div></div>
<p>Вот способ создать файл <code class="literal">cd.iso</code> с образом файловой системы
<a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_9660" target="_top">ISO9660</a>. На этот образ диска будет записано
содержимое каталога "<code class="literal">source_directory</code>". Для создания
образа диска используется <code class="literal">genisoimage</code>(1) из пакета <a class="ulink" href="http://ru.wikipedia.org/wiki/Cdrkit" target="_top">cdrkit</a>.</p>
<pre class="screen">#  genisoimage -r -J -T -V volume_id -o cd.iso каталог_с_файлами_для_диска</pre>
<p>Аналогично, образ загрузочного диска ISO9660,
"<code class="literal">cdboot.iso</code>", можно создать из каталога с установщиком
Debian в роли "<code class="literal">source_directory</code>":</p>
<pre class="screen">#  genisoimage -r -o cdboot.iso -V volume_id \
   -b isolinux/isolinux.bin -c isolinux/boot.cat \
   -no-emul-boot -boot-load-size 4 -boot-info-table source_directory</pre>
<p>Здесь для загрузки используется загрузчик <a class="ulink" href="http://ru.wikipedia.org/wiki/Syslinux" target="_top">Isolinux</a> (см. <a class="xref" href="#_stage_2_the_boot_loader" title="3.3. Второй этап: загрузчик (boot loader)">Раздел 3.3, «Второй этап: загрузчик (boot loader)»</a>).</p>
<p>Вы можете вычислить контрольную сумму MD5 и снять образ диска прямо с
устройства CD-ROM:</p>
<pre class="screen">$ isoinfo -d -i /dev/cdrom
CD-ROM is in ISO 9660 format
...
Logical block size is: 2048
Volume size is: 23150592
...
# dd if=/dev/cdrom bs=2048 count=23150592 conv=notrunc,noerror | md5sum
# dd if=/dev/cdrom bs=2048 count=23150592 conv=notrunc,noerror &gt; cd.iso</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Следует избегать неконтролируемого считывания дисков ISO9660, чтобы избежать
ошибок и получить верный результат.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_writing_directly_to_the_cd_dvd_r_rw"></a>10.2.7. Запись образа диска на CD/DVD-R/RW</h3></div></div></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>С точки зрения программы <code class="literal">wodim</code>(1) из пакета <a class="ulink" href="http://ru.wikipedia.org/wiki/Cdrkit" target="_top">cdrkit</a>, DVD -- это просто большой CD.</p>
</div>
<p>Вы можете найти нужное устройство такой командой:</p>
<pre class="screen"># wodim --devices</pre>
<p>Теперь чистый диск CD-R вставляется в CD-привод, и образ файловой системы
ISO9660, "<code class="literal">cd.iso</code>", записывается на нужное устройство,
например, на "<code class="literal">/dev/hda</code>":</p>
<pre class="screen"># wodim -v -eject dev=/dev/hda cd.iso</pre>
<p>Если вместо CD-R используется CD-RW, добавьте параметр для очистки диска
перед записью:</p>
<pre class="screen"># wodim -v -eject blank=fast dev=/dev/hda cd.iso</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если ваше окружение рабочего стола автоматически монтирует CD, отмонтируйте
его с помощью "<code class="literal">sudo unmount /dev/hda</code>" перед запуском
<code class="literal">wodim</code>(1).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_mounting_the_iso9660_image_file"></a>10.2.8. Монтирование образа диска ISO9660</h3></div></div></div>
<p>Если файл "<code class="literal">cd.iso</code>" содержит файловую систему ISO9660, то
можно примонтировать этот образ диска вручную к каталогу
"<code class="literal">/cdrom</code>" такой командой:</p>
<pre class="screen"># mount -t iso9660 -o ro,loop cd.iso /cdrom</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Современные окружения рабочего стола автоматически монтируют съёмные
устройства (см. <a class="xref" href="#_removable_storage_device" title="10.1.10. Съёмные устройства хранения данных">Раздел 10.1.10, «Съёмные устройства хранения данных»</a>).</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_binary_data"></a>10.3. Двоичные данные</h2></div></div></div>
<p>Здесь рассказывается о манипуляциях двоичными данными на устройстве
хранения. См. также <a class="xref" href="#_data_storage_tips" title="9.3. Советы по работе с дисками и разделами">Раздел 9.3, «Советы по работе с дисками и разделами»</a>.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_viewing_and_editing_binary_data"></a>10.3.1. Просмотр и редактирование двоичных данных</h3></div></div></div>
<p>Простейший способ просмотра двоичных данных -- использовать команду
"<code class="literal">od -t x1</code>".</p>
<div class="table">
<a name="listofpackageswhndeditbinarydata"></a><p class="title"><b>Таблица 10.7. Список пакетов для просмотра и радактирования двоичных данных</b></p>
<div class="table-contents"><table summary="Список пакетов для просмотра и радактирования двоичных данных" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/coreutils" target="_top">
<code class="literal">coreutils</code> </a> <a class="ulink" href="http://bugs.debian.org/coreutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=coreutils" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html" target="_top">13828</a></td>
<td align="left">
    содержит команду <code class="literal">od</code>(1) для вывода файлов (HEX, ASCII,
OCTAL, …)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bsdmainutils" target="_top">
<code class="literal">bsdmainutils</code> </a> <a class="ulink" href="http://bugs.debian.org/bsdmainutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bsdmainutils" target="_top">V:80, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bsdmainutils.html" target="_top">764</a></td>
<td align="left">
    содержит команду <code class="literal">hd</code>(1) для вывода файлов (HEX, ASCII,
OCTAL, …)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/hexedit" target="_top">
<code class="literal">hexedit</code> </a> <a class="ulink" href="http://bugs.debian.org/hexedit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=hexedit" target="_top">V:0.3, I:1.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/hexedit.html" target="_top">108</a></td>
<td align="left">
    редактор и просмотрщик двоичных файлов (HEX, ASCII)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bless" target="_top"> <code class="literal">bless</code>
</a> <a class="ulink" href="http://bugs.debian.org/bless" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bless" target="_top">V:0.07, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bless.html" target="_top">1232</a></td>
<td align="left">
    мощный шестнадцатеричный редактор (для GNOME)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/okteta" target="_top">
<code class="literal">okteta</code> </a> <a class="ulink" href="http://bugs.debian.org/okteta" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=okteta" target="_top">V:0.3, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/okteta.html" target="_top">2528</a></td>
<td align="left">
    шестнадцатеричный редактор (для KDE4)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ncurses-hexedit" target="_top">
<code class="literal">ncurses-hexedit</code> </a> <a class="ulink" href="http://bugs.debian.org/ncurses-hexedit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ncurses-hexedit" target="_top">V:0.06, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/ncurses-hexedit.html" target="_top">192</a></td>
<td align="left">
    шестнадцатеричный редактор и просмотрщик (HEX, ASCII, EBCDIC)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lde" target="_top"> <code class="literal">lde</code>
</a> <a class="ulink" href="http://bugs.debian.org/lde" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lde" target="_top">V:0.03, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lde.html" target="_top">992</a></td>
<td align="left">
    Linux Disk Editor
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/beav" target="_top"> <code class="literal">beav</code>
</a> <a class="ulink" href="http://bugs.debian.org/beav" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=beav" target="_top">V:0.03, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/beav.html" target="_top">164</a></td>
<td align="left">
    средство просмотра и редактирования двоичных файлов (HEX, ASCII, EBCDIC,
OCTAL, …)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/hex" target="_top"> <code class="literal">hex</code>
</a> <a class="ulink" href="http://bugs.debian.org/hex" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=hex" target="_top">V:0.01, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/hex.html" target="_top">84</a></td>
<td align="left">
    средство вывода шестнадцатеричных дампов (поддерживает двухбайтовые коды
японских иероглифов)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>HEX -- сокращённое обозначение <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A8%D0%B5%D1%81%D1%82%D0%BD%D0%B0%D0%B4%D1%86%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D1%87%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%81%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F" target="_top">шестнадцатеричного</a> формата (с <a class="ulink" href="http://en.wikipedia.org/wiki/Radix" target="_top">основанием</a> 16). OCTAL -- сокращённое обозначение
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%92%D0%BE%D1%81%D1%8C%D0%BC%D0%B5%D1%80%D0%B8%D1%87%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%81%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F" target="_top">восьмеричного</a> формата (с основанием 8). ASCII
-- <a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">американский стандартный
код для обмена информацией</a>, то есть обычная кодировка для
английского текста. EBCDIC -- <a class="ulink" href="http://ru.wikipedia.org/wiki/EBCDIC" target="_top">расширенный двоично-десятичный код
обмена информацией</a>, использующийся в операционных системах на <a class="ulink" href="http://en.wikipedia.org/wiki/IBM_mainframe" target="_top">мейнфремах IBM</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_manipulating_files_without_mounting_disk"></a>10.3.2. Как манипулировать файлами, не монтируя диск</h3></div></div></div>
<p>Есть средства читать и записывать файлы, не монтируя диск.</p>
<div class="table">
<a name="listofpackagestohoutmountingdisk"></a><p class="title"><b>Таблица 10.8. Список пакетов для манипуляций с файлами на непримонтированном диске</b></p>
<div class="table-contents"><table summary="Список пакетов для манипуляций с файлами на непримонтированном диске" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mtools" target="_top">
<code class="literal">mtools</code> </a> <a class="ulink" href="http://bugs.debian.org/mtools" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mtools" target="_top">V:4, I:42</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mtools.html" target="_top">408</a></td>
<td align="left">
    средства для доступа к дискам MSDOS без монтирования
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/hfsutils" target="_top">
<code class="literal">hfsutils</code> </a> <a class="ulink" href="http://bugs.debian.org/hfsutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=hfsutils" target="_top">V:0.17, I:1.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/hfsutils.html" target="_top">236</a></td>
<td align="left">
    средства для доступа к HFS и HFS+ без монтирования
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_data_redundancy"></a>10.3.3. Data redundancy</h3></div></div></div>
<p>Software <a class="ulink" href="http://ru.wikipedia.org/wiki/RAID" target="_top">RAID</a> systems offered by the Linux
kernel provide data redundancy in the kernel filesystem level to achieve
high levels of storage reliability.</p>
<p>There are tools to add data redundancy to files in application program level
to achieve high levels of storage reliability, too.</p>
<div class="table">
<a name="listoftoolstoaddedundancytofiles"></a><p class="title"><b>Таблица 10.9. List of tools to add data redundancy to files</b></p>
<div class="table-contents"><table summary="List of tools to add data redundancy to files" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/par2" target="_top"> <code class="literal">par2</code>
</a> <a class="ulink" href="http://bugs.debian.org/par2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=par2" target="_top">V:0.5, I:1.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/par2.html" target="_top">272</a></td>
<td align="left">
    Parity Archive Volume Set, for checking and repair of files
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dvdisaster" target="_top">
<code class="literal">dvdisaster</code> </a> <a class="ulink" href="http://bugs.debian.org/dvdisaster" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dvdisaster" target="_top">V:0.14, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dvdisaster.html" target="_top">1388</a></td>
<td align="left">
    data loss/scratch/aging protection for CD/DVD media
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dvbackup" target="_top">
<code class="literal">dvbackup</code> </a> <a class="ulink" href="http://bugs.debian.org/dvbackup" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dvbackup" target="_top">V:0.01, I:0.10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dvbackup.html" target="_top">544</a></td>
<td align="left">
    backup tool using MiniDV camcorders (providing <code class="literal">rsbep</code>(1))
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/vdmfec" target="_top">
<code class="literal">vdmfec</code> </a> <a class="ulink" href="http://bugs.debian.org/vdmfec" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=vdmfec" target="_top">V:0.00, I:0.02</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/vdmfec.html" target="_top">88</a></td>
<td align="left">
    recover lost blocks using Forward Error Correction
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_data_file_recovery_and_forensic_analysis"></a>10.3.4. Восстановление данных и компьютерная экспертиза</h3></div></div></div>
<p>Вот средства для восстановления файлов и компьютерной экспертизы.</p>
<div class="table">
<a name="listofpackagesfoforensicanalysis"></a><p class="title"><b>Таблица 10.10. Список пакетов для восстановления данных и для компьютерной экспертизы</b></p>
<div class="table-contents"><table summary="Список пакетов для восстановления данных и для компьютерной экспертизы" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/testdisk" target="_top">
<code class="literal">testdisk</code> </a> <a class="ulink" href="http://bugs.debian.org/testdisk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=testdisk" target="_top">V:0.2, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/testdisk.html" target="_top">4620</a></td>
<td align="left">
    средства для сканирования разделов и восстановления дисков
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/magicrescue" target="_top">
<code class="literal">magicrescue</code> </a> <a class="ulink" href="http://bugs.debian.org/magicrescue" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=magicrescue" target="_top">V:0.07, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/magicrescue.html" target="_top">344</a></td>
<td align="left">
    восстановление файлов методом поиска "волшебных байтиков"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/scalpel" target="_top">
<code class="literal">scalpel</code> </a> <a class="ulink" href="http://bugs.debian.org/scalpel" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=scalpel" target="_top">V:0.04, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/scalpel.html" target="_top">124</a></td>
<td align="left">
    средство восстановления файлов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/myrescue" target="_top">
<code class="literal">myrescue</code> </a> <a class="ulink" href="http://bugs.debian.org/myrescue" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=myrescue" target="_top">V:0.02, I:0.19</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/myrescue.html" target="_top">84</a></td>
<td align="left">
    восстановление данных с повреждённых жёстких дисков
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/recover" target="_top">
<code class="literal">recover</code> </a> <a class="ulink" href="http://bugs.debian.org/recover" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=recover" target="_top">V:0.07, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/recover.html" target="_top">104</a></td>
<td align="left">
    восстановление удалённых файлов с файловой системы ext2
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/e2undel" target="_top">
<code class="literal">e2undel</code> </a> <a class="ulink" href="http://bugs.debian.org/e2undel" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=e2undel" target="_top">V:0.06, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/e2undel.html" target="_top">244</a></td>
<td align="left">
    восстановление удалённых файлов с файловой системы ext2
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ext3grep" target="_top">
<code class="literal">ext3grep</code> </a> <a class="ulink" href="http://bugs.debian.org/ext3grep" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ext3grep" target="_top">V:0.08, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/ext3grep.html" target="_top">300</a></td>
<td align="left">
    восстановление удалённых файлов с файловой системы ext3
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/scrounge-ntfs" target="_top">
<code class="literal">scrounge-ntfs</code> </a> <a class="ulink" href="http://bugs.debian.org/scrounge-ntfs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=scrounge-ntfs" target="_top">V:0.03, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/scrounge-ntfs.html" target="_top">80</a></td>
<td align="left">
    программа восстановления данных с файловой системы NTFS
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gzrt" target="_top"> <code class="literal">gzrt</code>
</a> <a class="ulink" href="http://bugs.debian.org/gzrt" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gzrt" target="_top">V:0.01, I:0.13</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gzrt.html" target="_top">68</a></td>
<td align="left">
    (частичное) восстановление повреждённого архива gzip
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sleuthkit" target="_top">
<code class="literal">sleuthkit</code> </a> <a class="ulink" href="http://bugs.debian.org/sleuthkit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sleuthkit" target="_top">V:0.13, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sleuthkit.html" target="_top">540</a></td>
<td align="left">
    средства для компьютерного анализа (SleuthKit)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/autopsy" target="_top">
<code class="literal">autopsy</code> </a> <a class="ulink" href="http://bugs.debian.org/autopsy" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=autopsy" target="_top">V:0.07, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/autopsy.html" target="_top">1372</a></td>
<td align="left">
    графический интерфейс для SleuthKit
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/foremost" target="_top">
<code class="literal">foremost</code> </a> <a class="ulink" href="http://bugs.debian.org/foremost" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=foremost" target="_top">V:0.10, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/foremost.html" target="_top">140</a></td>
<td align="left">
    средство восстановления данных
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/guymager" target="_top">
<code class="literal">guymager</code> </a> <a class="ulink" href="http://bugs.debian.org/guymager" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=guymager" target="_top">V:0.00, I:0.02</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/guymager.html" target="_top">688</a></td>
<td align="left">
    средство восстановления данных (Qt)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tct" target="_top"> <code class="literal">tct</code>
</a> <a class="ulink" href="http://bugs.debian.org/tct" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tct" target="_top">V:0.03, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tct.html" target="_top">604</a></td>
<td align="left">
    набор средств для компьютерной экспертизы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dcfldd" target="_top">
<code class="literal">dcfldd</code> </a> <a class="ulink" href="http://bugs.debian.org/dcfldd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dcfldd" target="_top">V:0.02, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dcfldd.html" target="_top">124</a></td>
<td align="left">
    расширенная версия <code class="literal">dd</code> для анализа и безопасности
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/rdd" target="_top"> <code class="literal">rdd</code>
</a> <a class="ulink" href="http://bugs.debian.org/rdd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=rdd" target="_top">V:0.01, I:0.10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/rdd.html" target="_top">200</a></td>
<td align="left">
    средство копирования
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_splitting_a_large_file_into_small_files"></a>10.3.5. Как разбить большой файл на мелкие кусочки</h3></div></div></div>
<p>Если файл слишком велик для резервного копирования, его можно разбить на
кусочки размером, например, 2000MiB, чтобы впоследствии снова собрать эти
кусочки воедино.</p>
<pre class="screen">$ split -b 2000m огромный_файл
$ cat x* &gt;огромный_файл</pre>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Пожалуйста, убедитесь, что нет других файлов, начинающихся с
"<code class="literal">x</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_clearing_file_contents"></a>10.3.6. Очистка содержимого файла</h3></div></div></div>
<p>Чтобы очистить содержимое файла (например, лог-файла), не следует удалять
его командой <code class="literal">rm</code>(1) и создавать заново пустой файл: файл
может потребоваться системе, пока вы будете это делать. Вот безопасный
способ очистить файл от всего содержимого:</p>
<pre class="screen">$ :&gt;имя_файла_для_очистки</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_dummy_files"></a>10.3.7. Пустые файлы (dummy)</h3></div></div></div>
<p>Такими командами можно создавать пустые файлы ("dummy files"):</p>
<pre class="screen">$ dd if=/dev/zero    of=5kb.file bs=1k count=5
$ dd if=/dev/urandom of=7mb.file bs=1M count=7
$ touch zero.file
$ : &gt; alwayszero.file</pre>
<p>Выполнив их, вы найдёте следующие файлы:</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">5kb.file</code>" -- 5кБ нулей.
</li>
<li>
"<code class="literal">7mb.file</code>" -- 7МБ случайных чисел.
</li>
<li>
"<code class="literal">zero.file</code>" -- создать файл нулевой длинны. Если же файл
с таким именем уже существует, его атрибут <code class="literal">mtime</code> будет
обновлён, в то время как его содержимое и размер не изменятся.
</li>
<li>
"<code class="literal">alwayszero.file</code>" -- создать файл нулевой длины. Если
файл с таким именем уже существует, то его атрибут <code class="literal">mtime</code>
будет обновлён, а файл обнулится.
</li>
</ul></div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_erasing_an_entire_hard_disk"></a>10.3.8. Очистка содержимого всего диска</h3></div></div></div>
<p>Есть несколько способов полностью стереть данные на всём жёстком диске,
например, на USB-диске "<code class="literal">/dev/sda</code>".</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Перед тем, как выполнять такие команды, проверьте, куда монтируется ваш
USB-диск, с помощью команды <code class="literal">mount</code>(8). Устройство, на
которое указывает "<code class="literal">/dev/sda</code>", может быть жёстким диском
SCSI или SATA, на котором находится вся ваша система.</p>
</div>
<p>Стереть содержимое диска, заполнив его нулями, можно так:</p>
<pre class="screen"># dd if=/dev/zero of=/dev/sda</pre>
<p>Стереть всё, записав случайные числа, можно так:</p>
<pre class="screen"># dd if=/dev/urandom of=/dev/sda</pre>
<p>Эффективно стереть всё, перезаписав случайными данными, можно так:</p>
<pre class="screen"># shred -v -n 1 /dev/sda</pre>
<p>Команда <code class="literal">dd</code>(1) доступна в командной строке многих
загрузочных CD с Линуксом (например, на установочном диске Debian), так что
вы можете полностью стереть вашу установленную систему (например, с
"<code class="literal">/dev/hda</code>", "<code class="literal">/dev/sda</code>" и т.п.),
загрузившись с такого диска.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_erasing_unused_area_of_an_hard_disk"></a>10.3.9. Очистка неиспользуемых областей жёсткого диска</h3></div></div></div>
<p>Неиспользуемые области жёсткого диска (или USB-диска), например,
"<code class="literal">/dev/sdb1</code>", могут содержать удалённые данные, поскольку
эти данные всего лишь "отключены" от файловой системы. Их можно удалить,
заполнив это "свободное" пространство:</p>
<pre class="screen"># mount -t auto /dev/sdb1 /mnt/foo
# cd /mnt/foo
# dd if=/dev/zero of=junk
dd: writing to `junk': No space left on device
...
# sync
# umount /dev/sdb1</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Это достаточно хорошее решение для USB-флэшки, но не панацея. Большая часть
имён удалённых файлов и их атрибуты могут быть скрытыми и оставаться в
файловой системе.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_undeleting_deleted_but_still_open_files"></a>10.3.10. Восстановление удалённых, но всё ещё открытых файлов</h3></div></div></div>
<p>Даже если вы случайно удалили файл, если он всё ещё используется какой-либо
программой (в режиме чтения или записи), возможно восстановить такой файл.</p>
<p>Попробуйте для примера: </p>
<pre class="screen">$ echo foo &gt; bar
$ less bar
$ ps aux | grep ' less[ ]'
bozo    4775  0.0  0.0  92200   884 pts/8    S+   00:18   0:00 less bar
$ rm bar
$ ls -l /proc/4775/fd | grep bar
lr-x------ 1 bozo bozo 64 2008-05-09 00:19 4 -&gt; /home/bozo/bar (deleted)
$ cat /proc/4775/fd/4 &gt;bar
$ ls -l
-rw-r--r-- 1 bozo bozo 4 2008-05-09 00:25 bar
$ cat bar
foo</pre>
<p>Попробуйте в другом терминале (если у вас установлен пакет
<code class="literal">lsof</code>):</p>
<pre class="screen">$ ls -li bar
2228329 -rw-r--r-- 1 bozo bozo 4 2008-05-11 11:02 bar
$ lsof |grep bar|grep less
less 4775 bozo 4r REG 8,3 4 2228329 /home/bozo/bar
$ rm bar
$ lsof |grep bar|grep less
less 4775 bozo 4r REG 8,3 4 2228329 /home/bozo/bar (deleted)
$ cat /proc/4775/fd/4 &gt;bar
$ ls -li bar
2228302 -rw-r--r-- 1 bozo bozo 4 2008-05-11 11:05 bar
$ cat bar
foo</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_searching_all_hardlinks"></a>10.3.11. Поиск всех жёстких ссылок (hardlinks)</h3></div></div></div>
<p>Файлы с жёстким ссылками можно обнаружить командой "<code class="literal">ls
-li</code>":</p>
<pre class="screen">$ ls -li
total 0
2738405 -rw-r--r-- 1 root root 0 2008-09-15 20:21 bar
2738404 -rw-r--r-- 2 root root 0 2008-09-15 20:21 baz
2738404 -rw-r--r-- 2 root root 0 2008-09-15 20:21 foo</pre>
<p>Файлы "<code class="literal">baz</code>" и "<code class="literal">foo</code>" имеют счётчик
ссылок, равный "2" (&gt;1), что указывает на наличие у них жёстких ссылок. У
них общий номер <a class="ulink" href="http://ru.wikipedia.org/wiki/Inode" target="_top">inode</a> -- "2738404". Это значит,
что они представляют собой один файл, на который есть две жёсткие
ссылки. Если случайно оказалось, что вы нашли не все жёсткие ссылки, вы
можете поискать по номеру <a class="ulink" href="http://ru.wikipedia.org/wiki/Inode" target="_top">inode</a>, например,
"2738404":</p>
<pre class="screen"># find /path/to/mount/point -xdev -inum 2738404</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_invisible_disk_space_consumption"></a>10.3.12. Невидимое потребление места на диске</h3></div></div></div>
<p>Все удалённые, но открытые файлы занимают место на диске, хоть это и не
видно с помощью команды <code class="literal">du</code>(1). Такие файлы (вместе с их
размером) можно обнаружить:</p>
<pre class="screen"># lsof -s -X / |grep deleted</pre>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_data_security_infrastructure"></a>10.4. Инфраструктура защиты данных</h2></div></div></div>
<p>Инфраструктура защиты данных представляет собой набор из средства шифрования
данных, средства создания "отпечатков" (message digest) и средства создания
подписей.</p>
<div class="table">
<a name="listofdatasecurirastructuretools"></a><p class="title"><b>Таблица 10.11. Список средств защиты данных</b></p>
<div class="table-contents"><table summary="Список средств защиты данных" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<code class="literal">gpg</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnupg" target="_top"> <code class="literal">gnupg</code>
</a> <a class="ulink" href="http://bugs.debian.org/gnupg" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnupg" target="_top">V:48, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnupg.html" target="_top">5288</a></td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/GnuPG" target="_top">GNU Privacy Guard</a> -- OpenPGP,
шифрование и создание цифровых подписей
    </td>
</tr>
<tr>
<td align="left">
    N/A
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnupg-doc" target="_top">
<code class="literal">gnupg-doc</code> </a> <a class="ulink" href="http://bugs.debian.org/gnupg-doc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnupg-doc" target="_top">I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnupg-doc.html" target="_top">4124</a></td>
<td align="left">
    Документация для GNU Privacy Guard
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">gpgv</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gpgv" target="_top"> <code class="literal">gpgv</code>
</a> <a class="ulink" href="http://bugs.debian.org/gpgv" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gpgv" target="_top">V:59, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gpgv.html" target="_top">436</a></td>
<td align="left">
    GNU Privacy Guard -- средство проверки подписей
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">paperkey</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/paperkey" target="_top">
<code class="literal">paperkey</code> </a> <a class="ulink" href="http://bugs.debian.org/paperkey" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=paperkey" target="_top">V:0.01, I:0.12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/paperkey.html" target="_top">88</a></td>
<td align="left">
    извлечение и печать секретной части секретного ключа OpenPGP
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">cryptsetup</code>(8)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cryptsetup" target="_top">
<code class="literal">cryptsetup</code> </a> <a class="ulink" href="http://bugs.debian.org/cryptsetup" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cryptsetup" target="_top">V:3, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cryptsetup.html" target="_top">1168</a></td>
<td align="left">
    средства шифрования блочных устройств (<a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypto</a>/<a class="ulink" href="http://ru.wikipedia.org/wiki/LUKS" target="_top">LUKS</a>)
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">ecryptfs</code>(7), …
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ecryptfs-utils" target="_top">
<code class="literal">ecryptfs-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/ecryptfs-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ecryptfs-utils" target="_top">V:0.18, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/ecryptfs-utils.html" target="_top">416</a></td>
<td align="left">
    utilities for <a class="ulink" href="http://ecryptfs.sourceforge.net/" target="_top">ecryptfs</a> stacked filesystem
encryption
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">md5sum</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/coreutils" target="_top">
<code class="literal">coreutils</code> </a> <a class="ulink" href="http://bugs.debian.org/coreutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=coreutils" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html" target="_top">13828</a></td>
<td align="left">
    вычисление и проверка контрольных сумм ("отпечатков") MD5
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">sha1sum</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/coreutils" target="_top">
<code class="literal">coreutils</code> </a> <a class="ulink" href="http://bugs.debian.org/coreutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=coreutils" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html" target="_top">13828</a></td>
<td align="left">
    вычисление и проверка контрольных сумм ("отпечатков") SHA1
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">openssl</code>(1ssl)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openssl" target="_top">
<code class="literal">openssl</code> </a> <a class="ulink" href="http://bugs.debian.org/openssl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openssl" target="_top">V:54, I:91</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openssl.html" target="_top">2376</a></td>
<td align="left">
    вычисление "отпечатка" с "<code class="literal">openssl dgst</code>" (OpenSSL)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>См. <a class="xref" href="#_data_encryption_tips" title="9.4. Советы по шифрованию данных">Раздел 9.4, «Советы по шифрованию данных»</a> на тему <a class="ulink" href="http://en.wikipedia.org/wiki/Dm-crypt" target="_top">dm-crypto</a> и <a class="ulink" href="http://ecryptfs.sourceforge.net/" target="_top">ecryptfs</a>, которые реализуют автоматическое
шифрование данных с помощью модулей ядра Linux.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_key_management_for_gnupg"></a>10.4.1. Управление ключами GnuPG</h3></div></div></div>
<p>Вот команды <a class="ulink" href="http://ru.wikipedia.org/wiki/GnuPG" target="_top">GnuPG</a> для основных
операций с ключами</p>
<div class="table">
<a name="listofgnuprivacythekeymanagement"></a><p class="title"><b>Таблица 10.12. Список команд GnuPG для управления ключами</b></p>
<div class="table-contents"><table summary="Список команд GnuPG для управления ключами" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">gpg --gen-key</code>
                </td>
<td align="left">
    создать новый ключ
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --gen-revoke ID_пользователя</code>
                </td>
<td align="left">
    генерировать отзывающий сертификат для ключа пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --edit-key ID_пользователя</code>
                </td>
<td align="left">
    отредактировать ключ, для помощи наберите "help"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o file --exports</code>
                </td>
<td align="left">
    экспортировать все ключи в файл
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --imports file</code>
                </td>
<td align="left">
    импортировать все ключи из файла
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --send-keys ID_пользователя</code>
                </td>
<td align="left">
    отослать ключи пользователя с заданным UID на сервер ключей
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --recv-keys ID_пользователя</code>
                </td>
<td align="left">
    импортировать ключи пользователя с сервера ключей
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --list-keys ID_пользователя</code>
                </td>
<td align="left">
    вывести список ключей пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --list-sigs ID_пользователя</code>
                </td>
<td align="left">
    вывести подписи на ключах пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --check-sigs ID_пользователя</code>
                </td>
<td align="left">
    проверить подписи на ключах пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --fingerprint ID_пользователя</code>
                </td>
<td align="left">
    проверка отпечатков пользователя
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --refresh-keys</code>
                </td>
<td align="left">
    обновить локальную связку ключей с сервера
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вот значения кодов доверия (trust code).</p>
<div class="table">
<a name="listofthemeaningofthetrustcode"></a><p class="title"><b>Таблица 10.13. Список значений кодов доверия (trust code)</b></p>
<div class="table-contents"><table summary="Список значений кодов доверия (trust code)" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    код
    </th>
<th align="left">
    описание уровня доверия
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">-</code>
                </td>
<td align="left">
    уровень доверия не установлен, либо ещё не вычислен
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">e</code>
                </td>
<td align="left">
    ошибка вычисления уровня доверия
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">q</code>
                </td>
<td align="left">
    недостаточно информации для вычисления
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">n</code>
                </td>
<td align="left">
    никогда не доверять этому ключу
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">m</code>
                </td>
<td align="left">
    незначительно доверяемый
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">f</code>
                </td>
<td align="left">
    полностью доверенный
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">u</code>
                </td>
<td align="left">
    максимально доверенный
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Следующая команда загружает мой ключ "<code class="literal">1DD8D791</code>" на
популярный сервер ключей "<code class="literal">hkp://keys.gnupg.net</code>":</p>
<pre class="screen">$ gpg --keyserver hkp://keys.gnupg.net --send-keys 1DD8D791</pre>
<p>A good default keyserver set up in "<code class="literal">~/.gnupg/gpg.conf</code>"
(or old location "<code class="literal">~/.gnupg/options</code>") contains the
following.</p>
<pre class="screen">keyserver hkp://keys.gnupg.net</pre>
<p>Следующая команда получает неизвестные ключи с сервера ключей.</p>
<pre class="screen">$ gpg --list-sigs --with-colons | grep '^sig.*\[User ID not found\]' |\
  cut -d ':' -f 5| sort | uniq | xargs gpg --recv-keys</pre>
<p>There was a bug in <a class="ulink" href="http://sourceforge.net/projects/pks/" target="_top">OpenPGP Public Key
Server</a> (pre version 0.9.6) which corrupted key with more than 2
sub-keys.  The newer <code class="literal">gnupg</code> (&gt;1.2.1-2) package can
handle these corrupted subkeys.  See <code class="literal">gpg</code>(1) under
"<code class="literal">--repair-pks-subkey-bug</code>" option.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_using_gnupg_on_files"></a>10.4.2. Команды GnuPG для файлов</h3></div></div></div>
<p>Here are examples for using <a class="ulink" href="http://ru.wikipedia.org/wiki/GnuPG" target="_top">GNU Privacy
Guard</a> commands on files.</p>
<div class="table">
<a name="listofgnuprivacydcommandsonfiles"></a><p class="title"><b>Таблица 10.14. Список команд GnuPG для использования с файлами</b></p>
<div class="table-contents"><table summary="Список команд GnuPG для использования с файлами" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">gpg -a -s file</code>
                </td>
<td align="left">
    sign file into <a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a> armored file.asc
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --armor --sign file</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --clearsign file</code>
                </td>
<td align="left">
    clear-sign message
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --clearsign file|mail foo@example.org</code>
                </td>
<td align="left">
    mail a clear-signed message to <code class="literal">foo@example.org</code>
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --clearsign --not-dash-escaped patchfile</code>
                </td>
<td align="left">
    clear-sign patchfile
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --verify file</code>
                </td>
<td align="left">
    verify clear-signed file
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o file.sig -b file</code>
                </td>
<td align="left">
    create detached signature
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o file.sig --detach-sig file</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg --verify file.sig file</code>
                </td>
<td align="left">
    verify file with file.sig
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o crypt_file.gpg -r name -e file</code>
                </td>
<td align="left">
    public-key encryption intended for name from file to binary crypt_file.gpg
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o crypt_file.gpg --recipient name --encrypt file</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o crypt_file.asc -a -r name -e file</code>
                </td>
<td align="left">
    public-key encryption intended for name from file to <a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a> armored crypt_file.asc
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o crypt_file.gpg -c file</code>
                </td>
<td align="left">
    symmetric encryption from file to crypt_file.gpg
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o crypt_file.gpg --symmetric file</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o crypt_file.asc -a -c file</code>
                </td>
<td align="left">
    symmetric encryption intended for name from file to <a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a> armored crypt_file.asc
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o file -d crypt_file.gpg -r name</code>
                </td>
<td align="left">
    расшифровка файла
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">gpg -o file --decrypt crypt_file.gpg</code>
                </td>
<td align="left">
    , ,
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_using_gnupg_with_mutt"></a>10.4.3. Using GnuPG with Mutt</h3></div></div></div>
<p>Add the following to "<code class="literal">~/.muttrc</code>" to keep a slow GnuPG
from automatically starting, while allowing it to be used by typing
"<code class="literal">S</code>" at the index menu.</p>
<pre class="screen">macro index S ":toggle pgp_verify_sig\n"
set pgp_verify_sig=no</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_using_gnupg_with_vim"></a>10.4.4. Using GnuPG with Vim</h3></div></div></div>
<p>The <code class="literal">gnupg</code> plugin let you run GnuPG transparently for
files with extension "<code class="literal">.gpg</code>", "<code class="literal">.asc</code>",
and "<code class="literal">.ppg</code>".</p>
<pre class="screen"># aptitude install vim-scripts vim-addon-manager
$ vim-addons install gnupg</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_md5_sum"></a>10.4.5. The MD5 sum</h3></div></div></div>
<p><code class="literal">md5sum</code>(1) provides utility to make a digest file using
the method in <a class="ulink" href="http://tools.ietf.org/html/rfc1321" target="_top">rfc1321</a> and verifying each file
with it.</p>
<pre class="screen">$ md5sum foo bar &gt;baz.md5
$ cat baz.md5
d3b07384d113edec49eaa6238ad5ff00  foo
c157a79031e1c40f85931829bc5fc552  bar
$ md5sum -c baz.md5
foo: OK
bar: OK</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>The computation for the <a class="ulink" href="http://ru.wikipedia.org/wiki/MD5" target="_top">MD5</a> sum is less CPU
intensive than the one for the cryptographic signature by <a class="ulink" href="http://ru.wikipedia.org/wiki/GnuPG" target="_top">GNU Privacy Guard (GnuPG)</a>. Usually,
only the top level digest file is cryptographically signed to ensure data
integrity.</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_source_code_merge_tools"></a>10.5. Средства для объединения файлов с исходным кодом (merge)</h2></div></div></div>
<p>Есть много средств объединить файлы с исходным кодом. Вот те, что попались
мне на глаза.</p>
<div class="table">
<a name="listofsourcecodemergetools"></a><p class="title"><b>Таблица 10.15. Список средств соединения файлов с исходным кодом (merge)</b></p>
<div class="table-contents"><table summary="Список средств соединения файлов с исходным кодом (merge)" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<code class="literal">diff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/diff" target="_top"> <code class="literal">diff</code>
</a> <a class="ulink" href="http://bugs.debian.org/diff" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=diff" target="_top">V:71, I:88</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/diff.html" target="_top">36</a></td>
<td align="left">
    сравнивает файлы построчно
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">diff3</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/diff" target="_top"> <code class="literal">diff</code>
</a> <a class="ulink" href="http://bugs.debian.org/diff" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=diff" target="_top">V:71, I:88</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/diff.html" target="_top">36</a></td>
<td align="left">
    сравнивает и объединяет три файла построчно
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">vimdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/vim" target="_top"> <code class="literal">vim</code>
</a> <a class="ulink" href="http://bugs.debian.org/vim" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=vim" target="_top">V:15, I:33</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/vim.html" target="_top">1832</a></td>
<td align="left">
    сравнение и редактирование 2 файлов в vim с отображением различий
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">patch</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patch" target="_top"> <code class="literal">patch</code>
</a> <a class="ulink" href="http://bugs.debian.org/patch" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patch" target="_top">V:10, I:92</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patch.html" target="_top">244</a></td>
<td align="left">
    соединяет файл различий (diff-файл) с оригиналом
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">dpatch</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dpatch" target="_top">
<code class="literal">dpatch</code> </a> <a class="ulink" href="http://bugs.debian.org/dpatch" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dpatch" target="_top">V:1.4, I:12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dpatch.html" target="_top">344</a></td>
<td align="left">
    управление заплатами (patch) для пакета Debian
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">diffstat</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/diffstat" target="_top">
<code class="literal">diffstat</code> </a> <a class="ulink" href="http://bugs.debian.org/diffstat" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=diffstat" target="_top">V:2, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/diffstat.html" target="_top">92</a></td>
<td align="left">
    статистика изменений, вносимых diff-файлом
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">combinediff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    создаёт одну совокупную заплату (patch) из двух последовательных
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">dehtmldiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    извлекает diff-файл из HTML-страницы
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">filterdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    извлекает/исключает отличия из diff-файла
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">fixcvsdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    исправляет diff-файлы, созданные CVS, которые не обрабатываются командой
<code class="literal">patch</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">flipdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    меняет очерёдность двух заплат
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">grepdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    show which files are modified by a patch matching a regex
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">interdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    показывает отличия между двумя diff-файлами
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">lsdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    показывает, какие файлы изменены заплатой
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">recountdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    recompute counts and offsets in unified context diffs
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">rediff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    fix offsets and counts of a hand-edited diff
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">splitdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    separate out incremental patches
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">unwrapdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/patchutils" target="_top">
<code class="literal">patchutils</code> </a> <a class="ulink" href="http://bugs.debian.org/patchutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=patchutils" target="_top">V:1.9, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/patchutils.html" target="_top">292</a></td>
<td align="left">
    demangle patches that have been word-wrapped
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">wiggle</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wiggle" target="_top">
<code class="literal">wiggle</code> </a> <a class="ulink" href="http://bugs.debian.org/wiggle" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wiggle" target="_top">V:0.01, I:0.11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wiggle.html" target="_top">232</a></td>
<td align="left">
    apply rejected patches
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">quilt</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/quilt" target="_top"> <code class="literal">quilt</code>
</a> <a class="ulink" href="http://bugs.debian.org/quilt" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=quilt" target="_top">V:1.5, I:9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/quilt.html" target="_top">872</a></td>
<td align="left">
    manage series of patches
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">meld</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/meld" target="_top"> <code class="literal">meld</code>
</a> <a class="ulink" href="http://bugs.debian.org/meld" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=meld" target="_top">V:0.7, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/meld.html" target="_top">2102</a></td>
<td align="left">
    compare and merge files (GTK)
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">xxdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xxdiff" target="_top">
<code class="literal">xxdiff</code> </a> <a class="ulink" href="http://bugs.debian.org/xxdiff" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xxdiff" target="_top">V:0.2, I:1.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xxdiff.html" target="_top">1352</a></td>
<td align="left">
    compare and merge files (plain X)
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">dirdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dirdiff" target="_top">
<code class="literal">dirdiff</code> </a> <a class="ulink" href="http://bugs.debian.org/dirdiff" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dirdiff" target="_top">V:0.07, I:0.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dirdiff.html" target="_top">224</a></td>
<td align="left">
    display differences and merge changes between directory trees
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">docdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/docdiff" target="_top">
<code class="literal">docdiff</code> </a> <a class="ulink" href="http://bugs.debian.org/docdiff" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=docdiff" target="_top">V:0.02, I:0.15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/docdiff.html" target="_top">688</a></td>
<td align="left">
    compare two files word by word / char by char
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">imediff2</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/imediff2" target="_top">
<code class="literal">imediff2</code> </a> <a class="ulink" href="http://bugs.debian.org/imediff2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=imediff2" target="_top">V:0.02, I:0.10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/imediff2.html" target="_top">76</a></td>
<td align="left">
    interactive full screen 2-way merge tool
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">makepatch</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/makepatch" target="_top">
<code class="literal">makepatch</code> </a> <a class="ulink" href="http://bugs.debian.org/makepatch" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=makepatch" target="_top">V:0.01, I:0.18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/makepatch.html" target="_top">148</a></td>
<td align="left">
    generate extended patch files
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">applypatch</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/makepatch" target="_top">
<code class="literal">makepatch</code> </a> <a class="ulink" href="http://bugs.debian.org/makepatch" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=makepatch" target="_top">V:0.01, I:0.18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/makepatch.html" target="_top">148</a></td>
<td align="left">
    apply extended patch files
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">wdiff</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wdiff" target="_top"> <code class="literal">wdiff</code>
</a> <a class="ulink" href="http://bugs.debian.org/wdiff" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wdiff" target="_top">V:1.6, I:14</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wdiff.html" target="_top">1024</a></td>
<td align="left">
    display word differences between text files
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_extracting_differences_for_source_files"></a>10.5.1. Извлечение отличий между файлами с исходным кодом</h3></div></div></div>
<p>Каждая из этих команд находит отличия между двумя файлами с исходным кодом и
создаёт единый файл с этими отличиями (diff-файл),
"<code class="literal">file.patch0</code>" или "<code class="literal">file.patch1</code>":</p>
<pre class="screen">$ diff -u file.old file.new &gt; file.patch0
$ diff -u old/file new/file &gt; file.patch1</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_merging_updates_for_source_files"></a>10.5.2. Merging updates for source files</h3></div></div></div>
<p>Diff-файлы (ещё говорят patch-файл) используется для пересылки обновлений в
программах. Получатель обновления прикладывает "заплатку" (patch) к другому
файлу так:</p>
<pre class="screen">$ patch -p0 file &lt; file.patch0
$ patch -p1 file &lt; file.patch1</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_updating_via_3_way_merge"></a>10.5.3. Updating via 3-way-merge</h3></div></div></div>
<p>If you have three versions of a source code, you can perform 3-way-merge
effectively using <code class="literal">diff3</code>(1) by the following.</p>
<pre class="screen">$ diff3 -m мой.файл старый.файл твой.файл &gt; файл</pre>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_version_control_systems"></a>10.6. Системы управления версиями (VCS)</h2></div></div></div>
<p>Вот сводка по всем <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D1%8F%D0%BC%D0%B8" target="_top">системам
управления версиями</a>, доступным в Debian.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Если вы ещё не пользовались системами VCS, начните изучение с <span class="strong"><strong>Git</strong></span>, который стремительно набирает популярность.</p>
</div>
<div class="table">
<a name="list-of-vcs"></a><p class="title"><b>Таблица 10.16. Список средств VCS</b></p>
<div class="table-contents"><table summary="Список средств VCS" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    средство
    </th>
<th align="left">
    тип хранилища VCS
    </th>
<th align="left">
    комментарий
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cssc" target="_top"> <code class="literal">cssc</code>
</a> <a class="ulink" href="http://bugs.debian.org/cssc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cssc" target="_top">V:0.00, I:0.04</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cssc.html" target="_top">2240</a></td>
<td align="left">
                <a class="ulink" href="http://cssc.sourceforge.net/" target="_top">CSSC</a>
              </td>
<td align="left">
    локальное
    </td>
<td align="left">
    вариант <a class="ulink" href="http://en.wikipedia.org/wiki/Source_Code_Control_System" target="_top">Unix SCCS</a> (устарело)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/rcs" target="_top"> <code class="literal">rcs</code>
</a> <a class="ulink" href="http://bugs.debian.org/rcs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=rcs" target="_top">V:1.4, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/rcs.html" target="_top">772</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Revision_Control_System" target="_top">RCS</a>
              </td>
<td align="left">
    локальное
    </td>
<td align="left">
    <a class="ulink" href="http://en.wikipedia.org/wiki/Source_Code_Control_System" target="_top">Unix SCCS</a>, сделанный как следует
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cvs" target="_top"> <code class="literal">cvs</code>
</a> <a class="ulink" href="http://bugs.debian.org/cvs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cvs" target="_top">V:3, I:23</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cvs.html" target="_top">3660</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/CVS" target="_top">CVS</a>
              </td>
<td align="left">
    удалённое
    </td>
<td align="left">
    в прошлом -- стандартная удалённая VCS
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/subversion" target="_top">
<code class="literal">subversion</code> </a> <a class="ulink" href="http://bugs.debian.org/subversion" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=subversion" target="_top">V:10, I:31</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/subversion.html" target="_top">4288</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Subversion" target="_top">Subversion</a>
              </td>
<td align="left">
    удалённое
    </td>
<td align="left">
    "CVS сделанный как следует", новый стандарт удалённых VCS де факто
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git" target="_top"> <code class="literal">git</code>
</a> <a class="ulink" href="http://bugs.debian.org/git" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git" target="_top">V:5, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git.html" target="_top">12564</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Git" target="_top">Git</a>
              </td>
<td align="left">
    распределённое
    </td>
<td align="left">
    быстрая DVCS, написана на C, используется разработчиками ядра Linux и
многими другими
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mercurial" target="_top">
<code class="literal">mercurial</code> </a> <a class="ulink" href="http://bugs.debian.org/mercurial" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mercurial" target="_top">V:1.5, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mercurial.html" target="_top">368</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Mercurial" target="_top">Mercurial</a>
              </td>
<td align="left">
    распределённое
    </td>
<td align="left">
    DVCS на Питоне и немного на C
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bzr" target="_top"> <code class="literal">bzr</code>
</a> <a class="ulink" href="http://bugs.debian.org/bzr" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bzr" target="_top">V:0.9, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bzr.html" target="_top">15184</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Bazaar" target="_top">Bazaar</a>
              </td>
<td align="left">
    распределённое
    </td>
<td align="left">
    DVCS influenced by <code class="literal">tla</code> written in Python (used by <a class="ulink" href="http://www.ubuntu.com/" target="_top">Ubuntu</a>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/darcs" target="_top"> <code class="literal">darcs</code>
</a> <a class="ulink" href="http://bugs.debian.org/darcs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=darcs" target="_top">V:0.2, I:1.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/darcs.html" target="_top">9568</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/Darcs" target="_top">Darcs</a>
              </td>
<td align="left">
    распределённое
    </td>
<td align="left">
    DVCS with smart algebra of patches (slow)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tla" target="_top"> <code class="literal">tla</code>
</a> <a class="ulink" href="http://bugs.debian.org/tla" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tla" target="_top">V:0.18, I:1.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tla.html" target="_top">936</a></td>
<td align="left">
                <a class="ulink" href="http://en.wikipedia.org/wiki/GNU_arch" target="_top">GNU arch</a>
              </td>
<td align="left">
    распределённое
    </td>
<td align="left">
    DVCS mainly by Tom Lord (Historic)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/monotone" target="_top">
<code class="literal">monotone</code> </a> <a class="ulink" href="http://bugs.debian.org/monotone" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=monotone" target="_top">V:0.06, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/monotone.html" target="_top">5272</a></td>
<td align="left">
                <a class="ulink" href="http://en.wikipedia.org/wiki/Monotone_(software)" target="_top">Monotone</a>
              </td>
<td align="left">
    распределённое
    </td>
<td align="left">
    DVCS на C++
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tkcvs" target="_top"> <code class="literal">tkcvs</code>
</a> <a class="ulink" href="http://bugs.debian.org/tkcvs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tkcvs" target="_top">V:0.07, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tkcvs.html" target="_top">2476</a></td>
<td align="left">
    CVS, …
    </td>
<td align="left">
    удалённое
    </td>
<td align="left">
    GUI для хранилищ VCS (CVS, Subversion, RCS)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gitk" target="_top"> <code class="literal">gitk</code>
</a> <a class="ulink" href="http://bugs.debian.org/gitk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gitk" target="_top">V:0.9, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gitk.html" target="_top">928</a></td>
<td align="left">
    Git
    </td>
<td align="left">
    распределённое
    </td>
<td align="left">
    GUI для хранилищ VCS (Git)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>VCS иногда называют системами управления редакциями (RCS) или системами
конфигурационного управления (SCM).</p>
<p>Распределённые VCS, такие, как Git -- это выбор наших дней. CVS и Subversion
могут ещё быть полезными, чтобы присоединиться к разработке существующих
открытых программ.</p>
<p>Debian предоставляет бесплатную службу VCS -- <a class="ulink" href="http://alioth.debian.org/" target="_top">Debian Alioth</a>. Этот сервис поддерживает
почти все VCS. Документацию по нему можно найти здесь: <a class="ulink" href="http://wiki.debian.org/Alioth" target="_top">http://wiki.debian.org/Alioth</a>.</p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>В <code class="literal">lenny</code> система управления версиями Git входила в пакет
<code class="literal">git-core</code>, в то время как пакет <code class="literal">git</code>
включал в себя интерактивные средства GNU.</p>
</div>
<p>Основные правила создания архива VCS с разделяемым доступом.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Используйте "<code class="literal">umask 002</code>" (см. <a class="xref" href="#_control_of_permissions_for_newly_created_files_umask" title="1.2.4. Управление разрешениями создаваемых файлов: umask">Раздел 1.2.4, «Управление разрешениями создаваемых файлов: umask»</a>)
</li>
<li>
Все файлы в архиве VCS должны принадлежать одной группе
</li>
<li>
Устанавливайте бит <code class="literal">set group ID</code> для всех каталогов архива
VCS (для создания файлов как в системах BSD, см. <a class="xref" href="#_filesystem_permissions" title="1.2.3. Права доступа к файлам и каталогам">Раздел 1.2.3, «Права доступа к файлам и каталогам»</a>)
</li>
<li>
Включайте пользователя, разделяющего доступ к архиву VCS, в соответствующую
группу
</li>
</ul></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_comparison_of_vcs_commands"></a>10.6.1. Сравнение команд различных VCS</h3></div></div></div>
<p>Вот очень упрощённое сравнение команд различных VCS, дающее их общую
картину. На практике в используемой последовательности команд могут
потребоваться ключи и параметры.</p>
<div class="table">
<a name="comparisonofnativevcscommands"></a><p class="title"><b>Таблица 10.17. Сравнение команд различных VCS</b></p>
<div class="table-contents"><table summary="Сравнение команд различных VCS" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    CVS
    </th>
<th align="left">
    Subversion
    </th>
<th align="left">
    Git
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">cvs init</code>
                </td>
<td align="left">
                  <code class="literal">svn create</code>
                </td>
<td align="left">
                  <code class="literal">git init</code>
                </td>
<td align="left">
    создать (локальное) хранилище
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cvs login</code>
                </td>
<td align="left">
    -
    </td>
<td align="left">
    -
    </td>
<td align="left">
    войти на удалённое хранилище
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cvs co</code>
                </td>
<td align="left">
                  <code class="literal">svn co</code>
                </td>
<td align="left">
                  <code class="literal">git clone</code>
                </td>
<td align="left">
    получить содержимое удалённого хранилища в виде рабочего дерева (check out)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cvs up</code>
                </td>
<td align="left">
                  <code class="literal">svn up</code>
                </td>
<td align="left">
                  <code class="literal">git pull</code>
                </td>
<td align="left">
    update the working tree by merging the remote repository
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cvs add</code>
                </td>
<td align="left">
                  <code class="literal">svn add</code>
                </td>
<td align="left">
                  <code class="literal">git add .</code>
                </td>
<td align="left">
    добавить файл(ы) в рабочее дерево хранилища VCS
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cvs rm</code>
                </td>
<td align="left">
                  <code class="literal">svn rm</code>
                </td>
<td align="left">
                  <code class="literal">git rm</code>
                </td>
<td align="left">
    удалить файл(ы) из рабочего дерева хранилища VCS
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cvs ci</code>
                </td>
<td align="left">
                  <code class="literal">svn ci</code>
                </td>
<td align="left">
    -
    </td>
<td align="left">
    "залить" изменения на удалённое хранилище
    </td>
</tr>
<tr>
<td align="left">
    -
    </td>
<td align="left">
    -
    </td>
<td align="left">
                  <code class="literal">git commit -a</code>
                </td>
<td align="left">
    "залить" изменения в локальное хранилище
    </td>
</tr>
<tr>
<td align="left">
    -
    </td>
<td align="left">
    -
    </td>
<td align="left">
                  <code class="literal">git push</code>
                </td>
<td align="left">
    обновить содержимое удалённого хранилища из локального хранилища
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cvs status</code>
                </td>
<td align="left">
                  <code class="literal">svn status</code>
                </td>
<td align="left">
                  <code class="literal">git status</code>
                </td>
<td align="left">
    отобразить состояние рабочего дерева VCS
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">cvs diff</code>
                </td>
<td align="left">
                  <code class="literal">svn diff</code>
                </td>
<td align="left">
                  <code class="literal">git diff</code>
                </td>
<td align="left">
    diff &lt;ссылка_на_хранилище&gt; &lt;рабочее_дерево&gt;
    </td>
</tr>
<tr>
<td align="left">
    -
    </td>
<td align="left">
    -
    </td>
<td align="left">
                  <code class="literal">git repack -a -d; git prune</code>
                </td>
<td align="left">
    repack the local repository into single pack
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">tkcvs</code>
                </td>
<td align="left">
                  <code class="literal">tkcvs</code>
                </td>
<td align="left">
                  <code class="literal">gitk</code>
                </td>
<td align="left">
    просмотр хранилища через GUI
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Использование подкоманд <code class="literal">git</code> вида
"<code class="literal">git-имя_подкоманды</code>" из консоли осуждается с начала 2006
года (deprecated).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Графические средства, такие, как <code class="literal">tkcvs</code>(1) и
<code class="literal">gitk</code>(1), действительно могут помочь вам отслеживать
историю редакций файлов. Web-интерфейс, предоставляемый многими
общедоступными архивами для просмотра содержимого хранилищ также может быть
полезным.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Git может напрямую работать с хранилищами различных VCS (например, с такими,
как CVS и Subversion) и предоставляет локальное хранилище для локальных
изменений (пакеты <code class="literal">git-cvs</code> и <code class="literal">git-svn</code>).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Команды Git, не имеющие эквивалентов в CVS и Subversion: "fetch", "rebase",
"cherry-pick", …</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_cvs"></a>10.7. CVS</h2></div></div></div>
<p>Загляните сюда:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">cvs</code>(1)
</li>
<li>
"<code class="literal">/usr/share/doc/cvs/html-cvsclient</code>"
</li>
<li>
"<code class="literal">/usr/share/doc/cvs/html-info</code>"
</li>
<li>
"<code class="literal">/usr/share/doc/cvsbook</code>"
</li>
<li>
"<code class="literal">info cvs</code>"
</li>
</ul></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_configuration_of_cvs_repository"></a>10.7.1. Настройка хранилища CVS</h3></div></div></div>
<p>Следующая конфигурация позволяет делать коммиты только членам группы
"<code class="literal">src</code>", а администрирование разрешается членам группы
"<code class="literal">staff</code>".</p>
<pre class="screen"># cd /var/lib; umask 002; mkdir cvs
# export CVSROOT=/srv/cvs/project
# cd $CVSROOT
# chown root:src .
# chmod 2775 .
# cvs -d $CVSROOT init
# cd CVSROOT
# chown -R root:staff .
# chmod 2775 .
# touch val-tags
# chmod 664 history val-tags
# chown root:src history val-tags</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You may restrict creation of new project by changing the owner of
"<code class="literal">$CVSROOT</code>" directory to "<code class="literal">root:staff</code>"
and its permission to "<code class="literal">3775</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_local_access_to_cvs"></a>10.7.2. Локальный доступ к CVS</h3></div></div></div>
<p>The default CVS repository is pointed by "<code class="literal">$CVSROOT</code>".  The
following sets up "<code class="literal">$CVSROOT</code>" for the local access.</p>
<pre class="screen">$ export CVSROOT=/srv/cvs/project</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_remote_access_to_cvs_with_pserver"></a>10.7.3. Удалённый доступ к CVS с помощьюч pserver</h3></div></div></div>
<p>Many public CVS servers provide read-only remote access to them with account
name "<code class="literal">anonymous</code>" via pserver service.  For example,
Debian web site contents are maintained by <a class="ulink" href="http://alioth.debian.org/projects/webwml/" target="_top">webwml project</a> via CVS at Debian alioth
service.  The following sets up "<code class="literal">$CVSROOT</code>" for the remote
access to this CVS repository.</p>
<pre class="screen">$ export CVSROOT=:pserver:anonymous@cvs.alioth.debian.org:/cvsroot/webwml
$ cvs login</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Поскольку pserver уязвим для прослушивания и небезопасен, доступ на запись
обычно отключается администраторами сервера.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_remote_access_to_cvs_with_ssh"></a>10.7.4. Удалённый доступ к CVS по ssh</h3></div></div></div>
<p>The following sets up "<code class="literal">$CVS_RSH</code>" and
"<code class="literal">$CVSROOT</code>" for the remote access to the CVS repository by
<a class="ulink" href="http://alioth.debian.org/projects/webwml/" target="_top">webwml project</a> with SSH.</p>
<pre class="screen">$ export CVS_RSH=ssh
$ export CVSROOT=:ext:account@cvs.alioth.debian.org:/cvs/webwml</pre>
<p>Вы можете использовать также авторизацию с помощью общедоступных ключей, что
избавит от ввода пароля.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_importing_a_new_source_to_cvs"></a>10.7.5. Importing a new source to CVS</h3></div></div></div>
<p>Create a new local source tree location at
"<code class="literal">~/path/to/module1</code>" by the following.</p>
<pre class="screen">$ mkdir -p ~/path/to/module1; cd ~/path/to/module1</pre>
<p>Populate a new local source tree under
"<code class="literal">~/path/to/module1</code>" with files.</p>
<p>Import it to CVS with the following parameters.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Имя модуля: "<code class="literal">module1</code>"
</li>
<li>
Vendor tag: "<code class="literal">Main-branch</code>" (tag for the entire branch)
</li>
<li>
Release tag: "<code class="literal">Release-initial</code>" (tag for a specific
release)
</li>
</ul></div>
<pre class="screen">$ cd ~/path/to/module1
$ cvs import -m \"Start module1\" module1 Main-branch Release-initial
$ rm -Rf . # optional</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_file_permissions_in_cvs_repository"></a>10.7.6. Разрешения на доступ к файлам в хранилище CVS</h3></div></div></div>
<p>CVS does not overwrite the current repository file but replaces it with
another one.  Thus, write permission to the repository directory is
critical.  For every new module for "<code class="literal">module1</code>" in
repository at "<code class="literal">/srv/cvs/project</code>", run the following to
ensure this condition if needed.</p>
<pre class="screen"># cd /srv/cvs/project
# chown -R root:src module1
# chmod -R ug+rwX   module1
# chmod    2775     module1</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_work_flow_of_cvs"></a>10.7.7. Рабочий процесс использования CVS</h3></div></div></div>
<p>Вот пример типичной последовательности действий при работе с CVS.</p>
<p>Проверить все доступные модули проекта, на который указывает
"<code class="literal">$CVSROOT</code>":</p>
<pre class="screen">$ cvs rls
CVSROOT
module1
module2
...</pre>
<p>Checkout "<code class="literal">module1</code>" to its default directory
"<code class="literal">./module1</code>" by the following.</p>
<pre class="screen">$ cd ~/path/to
$ cvs co module1
$ cd module1</pre>
<p>Внесение изменений в содержимое по мере необходимости.</p>
<p>Check changes by making "<code class="literal">diff -u [repository] [local]</code>"
equivalent by the following.</p>
<pre class="screen">$ cvs diff -u</pre>
<p>You find that you broke some file "<code class="literal">file_to_undo</code>" severely
but other files are fine.</p>
<p>Overwrite "<code class="literal">file_to_undo</code>" file with the clean copy from
CVS by the following.</p>
<pre class="screen">$ cvs up -C file_to_undo</pre>
<p>Save the updated local source tree to CVS by the following.</p>
<pre class="screen">$ cvs ci -m "Описание изменений"</pre>
<p>Create and add "<code class="literal">file_to_add</code>" file to CVS by the
following.</p>
<pre class="screen">$ vi file_to_add
$ cvs add file_to_add
$ cvs ci -m "Added file_to_add"</pre>
<p>Merge the latest version from CVS by the following.</p>
<pre class="screen">$ cvs up -d</pre>
<p>Watch out for lines starting with "<code class="literal">C filename</code>" which
indicates conflicting changes.</p>
<p>Look for unmodified code in "<code class="literal">.#filename.version</code>".</p>
<p>Search for "<code class="literal">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>" and
"<code class="literal">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>" in files for conflicting
changes.</p>
<p>Edit files to fix conflicts as needed.</p>
<p>Add a release tag "<code class="literal">Release-1</code>" by the following.</p>
<pre class="screen">$ cvs ci -m "last commit for Release-1"
$ cvs tag Release-1</pre>
<p>Edit further.</p>
<p>Remove the release tag "<code class="literal">Release-1</code>" by the following.</p>
<pre class="screen">$ cvs tag -d Release-1</pre>
<p>Check in changes to CVS by the following.</p>
<pre class="screen">$ cvs ci -m "real last commit for Release-1"</pre>
<p>Re-add the release tag "<code class="literal">Release-1</code>" to updated CVS HEAD of
main by the following.</p>
<pre class="screen">$ cvs tag Release-1</pre>
<p>Create a branch with a sticky branch tag
"<code class="literal">Release-initial-bugfixes</code>" from the original version
pointed by the tag "<code class="literal">Release-initial</code>" and check it out to
"<code class="literal">~/path/to/old</code>" directory by the following.</p>
<pre class="screen">$ cvs rtag -b -r Release-initial Release-initial-bugfixes module1
$ cd ~/path/to
$ cvs co -r Release-initial-bugfixes -d old module1
$ cd old</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Use "<code class="literal">-D 2005-12-20</code>" (<a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8601" target="_top">ISO
8601</a> date format) instead of "<code class="literal">-r Release-initial</code>"
to specify particular date as the branch point.</p>
</div>
<p>Work on this local source tree having the sticky tag
"<code class="literal">Release-initial-bugfixes</code>" which is based on the original
version.</p>
<p>Work on this branch by yourself … until someone else joins to this
"<code class="literal">Release-initial-bugfixes</code>" branch.</p>
<p>Sync with files modified by others on this branch while creating new
directories as needed by the following.</p>
<pre class="screen">$ cvs up -d</pre>
<p>Edit files to fix conflicts as needed.</p>
<p>Check in changes to CVS by the following.</p>
<pre class="screen">$ cvs ci -m "checked into this branch"</pre>
<p>Update the local tree by HEAD of main while removing sticky tag
("<code class="literal">-A</code>") and without keyword expansion
("<code class="literal">-kk</code>") by the following.</p>
<pre class="screen">$ cvs up -d -kk -A</pre>
<p>Update the local tree (content = HEAD of main) by merging from the
"<code class="literal">Release-initial-bugfixes</code>" branch and without keyword
expansion by the following.</p>
<pre class="screen">$ cvs up -d -kk -j Release-initial-bugfixes</pre>
<p>Fix conflicts with editor.</p>
<p>Check in changes to CVS by the following.</p>
<pre class="screen">$ cvs ci -m "merged Release-initial-bugfixes"</pre>
<p>Make archive by the following.</p>
<pre class="screen">$ cd ..
$ mv old old-module1-bugfixes
$ tar -cvzf old-module1-bugfixes.tar.gz old-module1-bugfixes
$ rm -rf old-module1-bugfixes</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>"<code class="literal">cvs up</code>" command can take "<code class="literal">-d</code>" option
to create new directories and "<code class="literal">-P</code>" option to prune empty
directories.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can checkout only a sub directory of "<code class="literal">module1</code>" by
providing its name as "<code class="literal">cvs co module1/subdir</code>".</p>
</div>
<div class="table">
<a name="notableoptionsfotargumentstocvsb"></a><p class="title"><b>Таблица 10.18. Notable options for CVS commands (use as first argument(s) to
<code class="literal">cvs</code>(1))</b></p>
<div class="table-contents"><table summary="Notable options for CVS commands (use as first argument(s) to
cvs(1))" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    option
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">-n</code>
                </td>
<td align="left">
    dry run, no effect
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">-t</code>
                </td>
<td align="left">
    display messages showing steps of cvs activity
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_latest_files_from_cvs"></a>10.7.8. Latest files from CVS</h3></div></div></div>
<p>To get the latest files from CVS, use "<code class="literal">tomorrow</code>" by the
following.</p>
<pre class="screen">$ cvs ex -D tomorrow module_name</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_administration_of_cvs"></a>10.7.9. Administration of CVS</h3></div></div></div>
<p>Add module alias "<code class="literal">mx</code>" to a CVS project (local server) by
the following.</p>
<pre class="screen">$ export CVSROOT=/srv/cvs/project
$ cvs co CVSROOT/modules
$ cd CVSROOT
$ echo "mx -a module1" &gt;&gt;modules
$ cvs ci -m "Now mx is an alias for module1"
$ cvs release -d .</pre>
<p>Now, you can check out "<code class="literal">module1</code>" (alias:
"<code class="literal">mx</code>") from CVS to "<code class="literal">new</code>" directory by
the following.</p>
<pre class="screen">$ cvs co -d new mx
$ cd new</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>In order to perform above procedure, you should have appropriate file
permissions.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_execution_bit_for_cvs_checkout"></a>10.7.10. Execution bit for CVS checkout</h3></div></div></div>
<p>When you checkout files from CVS, their execution permission bit is
retained.</p>
<p>Whenever you see execution permission problems in a checked out file,
e.g. "<code class="literal">filename</code>", change its permission in the
corresponding CVS repository by the following to fix it.</p>
<pre class="screen"># chmod ugo-x filename</pre>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_subversion"></a>10.8. Subversion</h2></div></div></div>
<p>Subversion is a <span class="strong"><strong>recent-generation</strong></span> version
control system replacing older CVS.  It has most of CVS's features except
tags and branches.</p>
<p>Для настройки сервера Subversion вам потребуются пакеты
<code class="literal">subversion</code>, <code class="literal">libapache2-svn</code> и
<code class="literal">subversion-tools</code>.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_configuration_of_subversion_repository"></a>10.8.1. Настройка хранилища Subversion</h3></div></div></div>
<p>Currently, the <code class="literal">subversion</code> package does not set up a
repository, so one must set it up manually.  One possible location for a
repository is in "<code class="literal">/srv/svn/project</code>".</p>
<p>Создайте каталог так:</p>
<pre class="screen"># mkdir -p        /srv/svn/project</pre>
<p>Создайте базу данных хранилища так:</p>
<pre class="screen"># svnadmin create /srv/svn/project</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_access_to_subversion_via_apache2_server"></a>10.8.2. Доступ к Subversion с помощьюя сервера Apache2</h3></div></div></div>
<p>Если вы обращаетесь к хранилищу Subversion с помощью сервера Apache2, вам
нужно просто сделать это хранилище доступным для записи пользователю
WWW-сервера:</p>
<pre class="screen"># chown -R www-data:www-data /srv/svn/project</pre>
<p>Добавьте (или разкомментируйте) следующие строки в
"<code class="literal">/etc/apache2/mods-available/dav_svn.conf</code>", чтобы
разрешить доступ к хранилищу авторизованным пользователям.</p>
<pre class="screen">&lt;Location /project&gt;
  DAV svn
  SVNPath /srv/svn/project
  AuthType Basic
  AuthName "Subversion repository"
  AuthUserFile /etc/subversion/passwd
&lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
    Require valid-user
&lt;/LimitExcept&gt;
&lt;/Location&gt;</pre>
<p>Создайте файл с паролями пользователей так:</p>
<pre class="screen"># htpasswd2 -c /etc/subversion/passwd some-username</pre>
<p>Перезапустите Apache2.</p>
<p>Ваше новое хранилище Subversion доступно по адресу
"<code class="literal">http://localhost/project</code>" и
"<code class="literal">http://example.com/project</code>" с помощью команды
<code class="literal">svn</code>(1) (предполагается, что URL вашего web-сервера --
"<code class="literal">http://example.com/</code>").</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_local_access_to_subversion_by_group"></a>10.8.3. Локальный доступ к Subversion для группы пользователей</h3></div></div></div>
<p>The following sets up Subversion repository for the local access by a group,
e.g. <code class="literal">project</code>.</p>
<pre class="screen"># chmod  2775     /srv/svn/project
# chown -R root:src /srv/svn/project
# chmod -R ug+rwX   /srv/svn/project</pre>
<p>Your new Subversion repository is group accessible at URL
"<code class="literal">file:///localhost/srv/svn/project</code>" or
"<code class="literal">file:///srv/svn/project</code>" from <code class="literal">svn</code>(1)
for local users belonging to <code class="literal">project</code> group.  You must run
commands, such as <code class="literal">svn</code>, <code class="literal">svnserve</code>,
<code class="literal">svnlook</code>, and <code class="literal">svnadmin</code> under
"<code class="literal">umask 002</code>" to ensure group access.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_remote_access_to_subversion_via_ssh"></a>10.8.4. Удалённый доступ к Subversion по SSH</h3></div></div></div>
<p>A group accessible Subversion repository is at URL
"<code class="literal">example.com:/srv/svn/project</code>" for SSH, you can access it
from <code class="literal">svn</code>(1) at URL
"<code class="literal">svn+ssh://example.com:/srv/svn/project</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_subversion_directory_structure"></a>10.8.5. Структура каталогов Subversion</h3></div></div></div>
<p>Чтобы компенсировать отсутствие веток (branches) и тэгов (tags) в
Subversion, во многих проектах используется примерно такая структура
каталогов:</p>
<pre class="screen">  ----- module1
    |   |-- branches
    |   |-- tags
    |   |   |-- release-1.0
    |   |   `-- release-2.0
    |   |
    |   `-- trunk
    |       |-- file1
    |       |-- file2
    |       `-- file3
    |
    `-- module2</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You must use "<code class="literal">svn copy …</code>" command to mark branches and
tags.  This ensures Subversion to record modification history of files
properly and saves storage spaces.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_importing_a_new_source_to_subversion"></a>10.8.6. Importing a new source to Subversion</h3></div></div></div>
<p>Create a new local source tree location at
"<code class="literal">~/path/to/module1</code>" by the following.</p>
<pre class="screen">$ mkdir -p ~/path/to/module1; cd ~/path/to/module1</pre>
<p>Populate a new local source tree under
"<code class="literal">~/path/to/module1</code>" with files.</p>
<p>Import it to Subversion with the following parameters.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Имя модуля: "<code class="literal">module1</code>"
</li>
<li>
Subversion site URL: "<code class="literal">file:///srv/svn/project</code>"
</li>
<li>
Subversion directory: "<code class="literal">module1/trunk</code>"
</li>
<li>
Subversion tag: "<code class="literal">module1/tags/Release-initial</code>"
</li>
</ul></div>
<pre class="screen">$ cd ~/path/to/module1
$ svn import file:///srv/svn/project/module1/trunk -m "Start module1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-initial</pre>
<p>Alternatively, by the following.</p>
<pre class="screen">$ svn import ~/path/to/module1 file:///srv/svn/project/module1/trunk -m "Start module1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-initial</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can replace URLs such as "<code class="literal">file:///…</code>" by any other URL
formats such as "<code class="literal">http://…</code>" and
"<code class="literal">svn+ssh://…</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_work_flow_of_subversion"></a>10.8.7. Work flow of Subversion</h3></div></div></div>
<p>Here is an example of typical work flow using Subversion with its native
client.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Client commands offered by the <code class="literal">git-svn</code> package may offer
alternative work flow of Subversion using the <code class="literal">git</code>
command.  See <a class="xref" href="#_git_for_the_subversion_repository" title="10.9.4. Git для хранилища Subversion">Раздел 10.9.4, «Git для хранилища Subversion»</a>.</p>
</div>
<p>Check all available modules from Subversion project pointed by URL
"<code class="literal">file:///srv/svn/project</code>" by the following.</p>
<pre class="screen">$ svn list file:///srv/svn/project
module1
module2
...</pre>
<p>Checkout "<code class="literal">module1/trunk</code>" to a directory
"<code class="literal">module1</code>" by the following.</p>
<pre class="screen">$ cd ~/path/to
$ svn co file:///srv/svn/project/module1/trunk module1
$ cd module1</pre>
<p>Внесение изменений в содержимое по мере необходимости.</p>
<p>Check changes by making "<code class="literal">diff -u [repository] [local]</code>"
equivalent by the following.</p>
<pre class="screen">$ svn diff</pre>
<p>You find that you broke some file "<code class="literal">file_to_undo</code>" severely
but other files are fine.</p>
<p>Overwrite "<code class="literal">file_to_undo</code>" file with the clean copy from
Subversion by the following.</p>
<pre class="screen">$ svn revert file_to_undo</pre>
<p>Save the updated local source tree to Subversion by the following.</p>
<pre class="screen">$ svn ci -m "Описание изменений"</pre>
<p>Создать и добавить "<code class="literal">добавляемый_файл</code>" можно так:</p>
<pre class="screen">$ vi file_to_add
$ svn add file_to_add
$ svn ci -m "Добавлен добавляемый_файл"</pre>
<p>Получить последнии версии из хранилища Subversion (и объединить с
локальными):</p>
<pre class="screen">$ svn up</pre>
<p>Watch out for lines starting with "<code class="literal">C filename</code>" which
indicates conflicting changes.</p>
<p>Look for unmodified code in, e.g., "<code class="literal">filename.r6</code>",
"<code class="literal">filename.r9</code>", and "<code class="literal">filename.mine</code>".</p>
<p>Search for "<code class="literal">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>" and
"<code class="literal">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>" in files for conflicting
changes.</p>
<p>Edit files to fix conflicts as needed.</p>
<p>Add a release tag "<code class="literal">Release-1</code>" by the following.</p>
<pre class="screen">$ svn ci -m "last commit for Release-1"
$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-1</pre>
<p>Edit further.</p>
<p>Remove the release tag "<code class="literal">Release-1</code>" by the following.</p>
<pre class="screen">$ svn rm file:///srv/svn/project/module1/tags/Release-1</pre>
<p>Check in changes to Subversion by the following.</p>
<pre class="screen">$ svn ci -m "real last commit for Release-1"</pre>
<p>Re-add the release tag "<code class="literal">Release-1</code>" from updated
Subversion HEAD of trunk by the following.</p>
<pre class="screen">$ svn cp file:///srv/svn/project/module1/trunk file:///srv/svn/project/module1/tags/Release-1</pre>
<p>Create a branch with a path
"<code class="literal">module1/branches/Release-initial-bugfixes</code>" from the
original version pointed by the path
"<code class="literal">module1/tags/Release-initial</code>" and check it out to
"<code class="literal">~/path/to/old</code>" directory by the following.</p>
<pre class="screen">$ svn cp file:///srv/svn/project/module1/tags/Release-initial file:///srv/svn/project/module1/branches/Release-initial-bugfixes
$ cd ~/path/to
$ svn co file:///srv/svn/project/module1/branches/Release-initial-bugfixes old
$ cd old</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Use "<code class="literal">module1/trunk@{2005-12-20}</code>" (<a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8601" target="_top">ISO 8601</a> date format) instead of
"<code class="literal">module1/tags/Release-initial</code>" to specify particular date
as the branch point.</p>
</div>
<p>Work on this local source tree pointing to branch
"<code class="literal">Release-initial-bugfixes</code>" which is based on the original
version.</p>
<p>Work on this branch by yourself … until someone else joins to this
"<code class="literal">Release-initial-bugfixes</code>" branch.</p>
<p>Sync with files modified by others on this branch by the following.</p>
<pre class="screen">$ svn up</pre>
<p>Edit files to fix conflicts as needed.</p>
<p>Check in changes to Subversion by the following.</p>
<pre class="screen">$ svn ci -m "checked into this branch"</pre>
<p>Update the local tree with HEAD of trunk by the following.</p>
<pre class="screen">$ svn switch file:///srv/svn/project/module1/trunk</pre>
<p>Update the local tree (content = HEAD of trunk) by merging from the
"<code class="literal">Release-initial-bugfixes</code>" branch by the following.</p>
<pre class="screen">$ svn merge file:///srv/svn/project/module1/branches/Release-initial-bugfixes</pre>
<p>Fix conflicts with editor.</p>
<p>Check in changes to Subversion by the following.</p>
<pre class="screen">$ svn ci -m "merged Release-initial-bugfixes"</pre>
<p>Make archive by the following.</p>
<pre class="screen">$ cd ..
$ mv old old-module1-bugfixes
$ tar -cvzf old-module1-bugfixes.tar.gz old-module1-bugfixes
$ rm -rf old-module1-bugfixes</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can replace URLs such as "<code class="literal">file:///…</code>" by any other URL
formats such as "<code class="literal">http://…</code>" and
"<code class="literal">svn+ssh://…</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>You can checkout only a sub directory of "<code class="literal">module1</code>" by
providing its name as "<code class="literal">svn co
file:///srv/svn/project/module1/trunk/subdir module1/subdir</code>", etc.</p>
</div>
<div class="table">
<a name="notableoptionsfotargumentstosvnb"></a><p class="title"><b>Таблица 10.19. Важные параметры для команд Subversion (используйте как первый аргумент к
команде <code class="literal">svn</code>(1))</b></p>
<div class="table-contents"><table summary="Важные параметры для команд Subversion (используйте как первый аргумент к
команде svn(1))" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    option
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">--dry-run</code>
                </td>
<td align="left">
    dry run, no effect
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">-v</code>
                </td>
<td align="left">
    выводить подробные сообщения о действиях
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_git"></a>10.9. Git</h2></div></div></div>
<p>Git может выполнять всё необходимое как для локального, так и для удалённого
управления исходным кодом. Это значит, что вы можете записывать изменения в
исходном коде без необходимости в постоянном соединении с удалённым
хранилищем.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_configuration_of_git_client"></a>10.9.1. Настройка Git-клиента</h3></div></div></div>
<p>You may wish to set several global configuration in
"<code class="literal">~/.gitconfig</code>" such as your name and email address used
by Git by the following.</p>
<pre class="screen">$ git config --global user.name "Имя Фамилия"
$ git config --global user.email yourname@example.com</pre>
<p>If you are too used to CVS or Subversion commands, you may wish to set
several command aliases by the following.</p>
<pre class="screen">$ git config --global alias.ci "commit -a"
$ git config --global alias.co checkout</pre>
<p>Вы можете проверить вашу общую конфигурацию Git так:</p>
<pre class="screen">$ git config --global --list</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_git_references"></a>10.9.2. Ссылки по Git</h3></div></div></div>
<p>Загляните сюда:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/git.html" target="_top">man-страница: git(1)</a>
(<code class="literal">/usr/share/doc/git-doc/git.html</code>)
</li>
<li>
<a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/user-manual.html" target="_top">Руководство пользователя Git</a>
(<code class="literal">/usr/share/doc/git-doc/user-manual.html</code>)
</li>
<li>
<a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/gittutorial.html" target="_top">A tutorial introduction to
git</a> (<code class="literal">/usr/share/doc/git-doc/gittutorial.html</code>)
</li>
<li>
<a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/gittutorial-2.html" target="_top">A tutorial introduction to
git: part two</a>
(<code class="literal">/usr/share/doc/git-doc/gittutorial-2.html</code>)
</li>
<li>
<a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/everyday.html" target="_top">Everyday GIT With 20 Commands
Or So</a> (<code class="literal">/usr/share/doc/git-doc/everyday.html</code>)
</li>
<li>
<p><a class="ulink" href="http://www.kernel.org/pub/software/scm/git/docs/gitcvs-migration.html" target="_top">git для пользователей CVS</a>
(<code class="literal">/usr/share/doc/git-doc/gitcvs-migration.html</code>)
</p>
<div class="itemizedlist"><ul type="circle"><li>
Здесь также описано, как настроить сервер вроде CVS и извлечь данные из CVS
в Git.
</li></ul></div>
</li>
<li>
<p>
              <a class="ulink" href="http://git-scm.com/documentation" target="_top">Другие ресурсы о Git,
доступные в Сети</a>
            </p>
<div class="itemizedlist"><ul type="circle">
<li>
                  <a class="ulink" href="http://git-scm.com/course/svn.html" target="_top">Git - SVN Курс Выживания</a>
                </li>
<li>
<a class="ulink" href="http://www-cs-students.stanford.edu/~blynn/gitmagic/" target="_top">Git Magic</a>
(<code class="literal">/usr/share/doc/gitmagic/html/index.html</code>)
</li>
</ul></div>
</li>
</ul></div>
<p><code class="literal">git-gui</code>(1) и <code class="literal">gitk</code>(1) упрощают
использование Git.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Do not use the tag string with spaces in it even if some tools such as
<code class="literal">gitk</code>(1) allow you to use it.  It may choke some other
<code class="literal">git</code> commands.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_git_commands"></a>10.9.3. Команды Git</h3></div></div></div>
<p>Even if your upstream uses different VCS, it may be good idea to use
<code class="literal">git</code>(1) for local activity since you can manage your local
copy of source tree without the network connection to the upstream.  Here
are some packages and commands used with <code class="literal">git</code>(1).</p>
<div class="table">
<a name="listofgitrelatedkagesandcommands"></a><p class="title"><b>Таблица 10.20. Список пакетов и команд, связанных с Git</b></p>
<div class="table-contents"><table summary="Список пакетов и команд, связанных с Git" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    N/A
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-doc" target="_top">
<code class="literal">git-doc</code> </a> <a class="ulink" href="http://bugs.debian.org/git-doc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-doc" target="_top">I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-doc.html" target="_top">7340</a></td>
<td align="left">
    официальная документация по Git
    </td>
</tr>
<tr>
<td align="left">
    N/A
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gitmagic" target="_top">
<code class="literal">gitmagic</code> </a> <a class="ulink" href="http://bugs.debian.org/gitmagic" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gitmagic" target="_top">I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gitmagic.html" target="_top">920</a></td>
<td align="left">
    "Git Magic", более простое для понимания руководство по Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git</code>(7)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git" target="_top"> <code class="literal">git</code>
</a> <a class="ulink" href="http://bugs.debian.org/git" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git" target="_top">V:5, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git.html" target="_top">12564</a></td>
<td align="left">
    Git -- быстрая, масштабируемая, распределённая система контроля версий
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">gitk</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gitk" target="_top"> <code class="literal">gitk</code>
</a> <a class="ulink" href="http://bugs.debian.org/gitk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gitk" target="_top">V:0.9, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gitk.html" target="_top">928</a></td>
<td align="left">
    графический браузер хранилищ Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git-gui</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-gui" target="_top">
<code class="literal">git-gui</code> </a> <a class="ulink" href="http://bugs.debian.org/git-gui" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-gui" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-gui.html" target="_top">1632</a></td>
<td align="left">
    графический интерфейс для Git (без истории)
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git-svnimport</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-svn" target="_top">
<code class="literal">git-svn</code> </a> <a class="ulink" href="http://bugs.debian.org/git-svn" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-svn" target="_top">V:0.6, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-svn.html" target="_top">568</a></td>
<td align="left">
    перенос данных из Subversion в Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git-svn</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-svn" target="_top">
<code class="literal">git-svn</code> </a> <a class="ulink" href="http://bugs.debian.org/git-svn" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-svn" target="_top">V:0.6, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-svn.html" target="_top">568</a></td>
<td align="left">
    обмен данными между хранилищами Subversion и Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git-cvsimport</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-cvs" target="_top">
<code class="literal">git-cvs</code> </a> <a class="ulink" href="http://bugs.debian.org/git-cvs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-cvs" target="_top">V:0.2, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-cvs.html" target="_top">688</a></td>
<td align="left">
    перенос данных из CVS в Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git-cvsexportcommit</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-cvs" target="_top">
<code class="literal">git-cvs</code> </a> <a class="ulink" href="http://bugs.debian.org/git-cvs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-cvs" target="_top">V:0.2, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-cvs.html" target="_top">688</a></td>
<td align="left">
    export a commit to a CVS checkout from Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git-cvsserver</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-cvs" target="_top">
<code class="literal">git-cvs</code> </a> <a class="ulink" href="http://bugs.debian.org/git-cvs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-cvs" target="_top">V:0.2, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-cvs.html" target="_top">688</a></td>
<td align="left">
    эмулятор сервера CVS для Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git-send-email</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-email" target="_top">
<code class="literal">git-email</code> </a> <a class="ulink" href="http://bugs.debian.org/git-email" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-email" target="_top">V:0.16, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-email.html" target="_top">424</a></td>
<td align="left">
    send a collection of patches as email from the Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">stg</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/stgit" target="_top"> <code class="literal">stgit</code>
</a> <a class="ulink" href="http://bugs.debian.org/stgit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=stgit" target="_top">V:0.08, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/stgit.html" target="_top">1864</a></td>
<td align="left">
    quilt on top of git (Python)
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">git-buildpackage</code>(1)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/git-buildpackage" target="_top">
<code class="literal">git-buildpackage</code> </a> <a class="ulink" href="http://bugs.debian.org/git-buildpackage" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=git-buildpackage" target="_top">V:0.2, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/git-buildpackage.html" target="_top">556</a></td>
<td align="left">
    automate the Debian packaging with the Git
    </td>
</tr>
<tr>
<td align="left">
<code class="literal">guilt</code>(7)
    </td>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/guilt" target="_top"> <code class="literal">guilt</code>
</a> <a class="ulink" href="http://bugs.debian.org/guilt" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=guilt" target="_top">V:0.01, I:0.10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/guilt.html" target="_top">336</a></td>
<td align="left">
    quilt on top of git (SH/AWK/SED/…)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>With <code class="literal">git</code>(1), you work on a local branch with many commits
and use something like "<code class="literal">git rebase -i master</code>" to
reorganize change history later. This enables you to make clean change
history.  See <code class="literal">git-rebase</code>(1) and
<code class="literal">git-cherry-pick</code>(1).</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>When you want to go back to a clean working directory without loosing the
current state of the working directory, you can use "<code class="literal">git
stash</code>".  See <code class="literal">git-stash</code>(1).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_git_for_the_subversion_repository"></a>10.9.4. Git для хранилища Subversion</h3></div></div></div>
<p>Вы можете получать (check out) из хранилища Subversion (по адресу
"<code class="literal">svn+ssh://svn.example.org/project/module/trunk</code>") в
локальное хранилище Git (в каталоге "<code class="literal">./dest</code>"), а затем
заливать (commit) обратно в Subversion:</p>
<pre class="screen">$ git svn clone -s -rHEAD svn+ssh://svn.example.org/project dest
$ cd dest
... вносите изменения
$ git commit -a
... продолжаете работать с git локально
$ git svn dcommit</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Ключ "<code class="literal">-rHEAD</code>" позволяет избежать копирование всей истории
из хранилища Subversion.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_git_for_recording_configuration_history"></a>10.9.5. Git для записи истории изменения конфигурационных файлов</h3></div></div></div>
<p>Средствами <a class="ulink" href="http://ru.wikipedia.org/wiki/Git" target="_top">Git</a> вы можете вручную сохранять
историю настроек системы. Вот простой пример для записи содержимого
"<code class="literal">/etc/apt/</code>".</p>
<pre class="screen">$ cd /etc/apt/
$ sudo git init
$ sudo chmod 700 .git
$ sudo git add .
$ sudo git commit -a</pre>
<p>Сохраните конфигурацию вместе с её описанием (commit).</p>
<p>Внесите изменения в файлы настроек.</p>
<pre class="screen">$ cd /etc/apt/
$ sudo git commit -a</pre>
<p>Сохраните новую конфигурацию (commit), добавив её описание, и живите себе
дальше.</p>
<pre class="screen">$ cd /etc/apt/
$ sudo gitk --all</pre>
<p>У вас имеется полная история изменения файлов.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><code class="literal">sudo</code> здесь нужно для доступа к файлам с любыми
разрешениями доступа. Для сохранения настроек своего пользователя вы можете
обойтись без <code class="literal">sudo</code>(8).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Команда "<code class="literal">chmod 700 .git</code>" в предыдущем примере нужна для
защиты архива истории от неавторизованного доступа для чтения.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Для более полной настройки сохранения истории конфигурации взгляните на
пакет <code class="literal">etckeeper</code>: <a class="xref" href="#_recording_changes_in_configuration_files" title="9.2.10. Запись изменений в файлах конфигурации">Раздел 9.2.10, «Запись изменений в файлах конфигурации»</a>.</p>
</div>
</div>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_data_conversion"></a>Глава 11. Преобразование данных</h2></div></div></div>
<p>Средства преобразования данных между различными форматами и советы по их
использованию.</p>
<p>Поддержка открытых стандартов очень хороша, но возможности использования
проприетарных форматов ограничены.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_text_data_conversion_tools"></a>11.1. Средства преобразования текстов</h2></div></div></div>
<p>Моё внимание привлекли следующие пакеты для преобразования данных.</p>
<div class="table">
<a name="listoftextdataconversiontools"></a><p class="title"><b>Таблица 11.1. Список средств преобразования текстов</b></p>
<div class="table-contents"><table summary="Список средств преобразования текстов" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libc6" target="_top"> <code class="literal">libc6</code>
</a> <a class="ulink" href="http://bugs.debian.org/libc6" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libc6" target="_top">V:96, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libc/libc6.html" target="_top">10000</a></td>
<td align="left">
    charset
    </td>
<td align="left">
    перекодировка текстов с помощью <code class="literal">iconv</code>(1) (основное
средство)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/recode" target="_top">
<code class="literal">recode</code> </a> <a class="ulink" href="http://bugs.debian.org/recode" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=recode" target="_top">V:1.5, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/recode.html" target="_top">772</a></td>
<td align="left">
    charset+eol
    </td>
<td align="left">
    изменение кодировки текстов (гибкое, с большим количеством алиасов и
возможностей)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/konwert" target="_top">
<code class="literal">konwert</code> </a> <a class="ulink" href="http://bugs.debian.org/konwert" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=konwert" target="_top">V:0.3, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/konwert.html" target="_top">192</a></td>
<td align="left">
    charset
    </td>
<td align="left">
    перекодировщик со многими наворотами
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/nkf" target="_top"> <code class="literal">nkf</code>
</a> <a class="ulink" href="http://bugs.debian.org/nkf" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=nkf" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/nkf.html" target="_top">300</a></td>
<td align="left">
    charset
    </td>
<td align="left">
    перекодировщик для японского языка
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tcs" target="_top"> <code class="literal">tcs</code>
</a> <a class="ulink" href="http://bugs.debian.org/tcs" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tcs" target="_top">V:0.02, I:0.14</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tcs.html" target="_top">544</a></td>
<td align="left">
    charset
    </td>
<td align="left">
    перекодировщик
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/unaccent" target="_top">
<code class="literal">unaccent</code> </a> <a class="ulink" href="http://bugs.debian.org/unaccent" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=unaccent" target="_top">V:0.01, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/unaccent.html" target="_top">52</a></td>
<td align="left">
    charset
    </td>
<td align="left">
    замена accented-символов их эквивалентами без над- и под- строчных знаков
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tofrodos" target="_top">
<code class="literal">tofrodos</code> </a> <a class="ulink" href="http://bugs.debian.org/tofrodos" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tofrodos" target="_top">V:1.1, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tofrodos.html" target="_top">48</a></td>
<td align="left">
    eol
    </td>
<td align="left">
    форматирование текстов для DOS и Unix: <code class="literal">fromdos</code>(1) и
<code class="literal">todos</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/macutils" target="_top">
<code class="literal">macutils</code> </a> <a class="ulink" href="http://bugs.debian.org/macutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=macutils" target="_top">V:0.05, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/macutils.html" target="_top">320</a></td>
<td align="left">
    eol
    </td>
<td align="left">
    форматирование текстов для Macintosh и Unix: <code class="literal">frommac</code>(1) и
<code class="literal">tomac</code>(1)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_converting_a_text_file_with_iconv"></a>11.1.1. Изменение кодировки текстов с помощью iconv</h3></div></div></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Команда <code class="literal">iconv</code>(1) идёт с пакетом <code class="literal">libc6</code>
и доступна почти на всех системах. С её помощью можно менять кодировку
текстовых символов.</p>
</div>
<p>Перекодировать текст с помощью <code class="literal">iconv</code>(1) можно так.</p>
<pre class="screen">$ iconv -f из_этой_кодировки -t в_эту_кодировку input.txt &gt;output.txt</pre>
<p>Имена кодировок нечуствительны к регистру; список поддерживаемых кодировок
можно получить по команде "<code class="literal">iconv -l</code>".</p>
<div class="table">
<a name="list-of-encoding-values"></a><p class="title"><b>Таблица 11.2. Кодировки и их использование</b></p>
<div class="table-contents"><table summary="Кодировки и их использование" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    имя кодировки
    </th>
<th align="left">
    цель использования
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a>
    </td>
<td align="left">
<a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a> - американская
7-битная кодировка
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a>
                </td>
<td align="left">
    стандартная многоязычная кодировка, используется в современных ОС
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8859-1" target="_top">ISO-8859-1</a>
                </td>
<td align="left">
    старый стандарт для западноевропейских языков, содержит ASCII + символы с
диакритическими знаками
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8859-2" target="_top">ISO-8859-2</a>
                </td>
<td align="left">
    старый стандарт для восточно-европейских языков, содержит ASCII + символы с
диакритическими знаками
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/ISO/IEC_8859-15" target="_top">ISO-8859-15</a>
                </td>
<td align="left">
    старый стандарт для западноевропейских языков, <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8859-1" target="_top">ISO-8859-1</a> со знаком евро
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/CP850" target="_top">CP850</a>
                </td>
<td align="left">
    code page 850, символы MS-DOS и псевдографика для западноевропейских языков,
вариант <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8859-1" target="_top">ISO-8859-1</a>
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/Code_page_932" target="_top">CP932</a>
                </td>
<td align="left">
    code page 932, вариант японской кодировки <a class="ulink" href="http://en.wikipedia.org/wiki/Shift_JIS" target="_top">Shift-JIS</a> в MS Windows
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/Code_page_936" target="_top">CP936</a>
                </td>
<td align="left">
    code page 936, Microsoft Windows style <a class="ulink" href="http://ru.wikipedia.org/wiki/GB2312" target="_top">GB2312</a>,
<a class="ulink" href="http://en.wikipedia.org/wiki/GBK" target="_top">GBK</a> or <a class="ulink" href="http://en.wikipedia.org/wiki/GB18030" target="_top">GB18030</a>
variant for Simplified Chinese
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/Code_page_949" target="_top">CP949</a>
                </td>
<td align="left">
    code page 949, Microsoft Windows style <a class="ulink" href="http://en.wikipedia.org/wiki/Extended_Unix_Code#EUC-KR" target="_top">EUC-KR</a>
or Unified Hangul Code variant for Korean
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/Code_page_950" target="_top">CP950</a>
                </td>
<td align="left">
    code page 950, Microsoft Windows style <a class="ulink" href="http://en.wikipedia.org/wiki/Big5" target="_top">Big5</a>
variant for Traditional Chinese
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/Windows-1251" target="_top">CP1251</a>
                </td>
<td align="left">
    кодовая страница 1251, поддержка кириллицы в MS Windows
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/Windows-1252" target="_top">CP1252</a>
                </td>
<td align="left">
    кодовая страница 1252, поддержка западноевропейских языков (вариант <a class="ulink" href="http://en.wikipedia.org/wiki/ISO/IEC_8859-15" target="_top">ISO-8859-15</a>)
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9A%D0%9E%D0%98-8" target="_top">KOI8-R</a>
                </td>
<td align="left">
    старая стандартная русская кодировка в UNIX
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/ISO/IEC_2022" target="_top">ISO-2022-JP</a>
                </td>
<td align="left">
    стандартная кодировка для японских сообщений электронной почты, использующая
только 7-битные коды
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/Extended_Unix_Code" target="_top">eucJP</a>
                </td>
<td align="left">
    старая японская стандартная 8-битная кодировка для UNIX, полностью
отличающаяся от <a class="ulink" href="http://en.wikipedia.org/wiki/Shift_JIS" target="_top">Shift-JIS</a>
    </td>
</tr>
<tr>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/Shift_JIS" target="_top">Shift-JIS</a>
                </td>
<td align="left">
    JIS X 0208 Appendix 1 standard for Japanese (see <a class="ulink" href="http://en.wikipedia.org/wiki/Code_page_932" target="_top">CP932</a>)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Некоторые кодировки используются только для преобразования
данных. (См. <a class="xref" href="#_basics_of_encoding" title="8.3.1. Основные сведения о кодировке">Раздел 8.3.1, «Основные сведения о кодировке»</a>.)</p>
</div>
<p>Для наборов символов, где каждый символ умещается в один байт, таких как
<a class="ulink" href="http://ru.wikipedia.org/wiki/ASCII" target="_top">ASCII</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/ISO_8859" target="_top">ISO-8859</a>, "<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9D%D0%B0%D0%B1%D0%BE%D1%80_%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D0%BE%D0%B2" target="_top">кодировка</a>" (character encoding) обозначает
почти то же самое, что и "набор символов" (character set).</p>
<p>Для больших наборов символов, например <a class="ulink" href="jisxacbd;" target="_top">JIS X
0213</a> (японский) и <a class="ulink" href="http://en.wikipedia.org/wiki/Universal_Character_Set" target="_top">Universal Character Set (UCS,
Unicode, ISO-10646-1)</a> (почти все языки), может существовать много
способов уместить символы в последовательность байтов (то есть много
кодировок).</p>
<div class="itemizedlist"><ul type="disc">
<li>
<a class="ulink" href="http://en.wikipedia.org/wiki/Extended_Unix_Code" target="_top">EUC</a> и <a class="ulink" href="http://en.wikipedia.org/wiki/ISO/IEC_2022" target="_top">ISO/IEC 2022</a> для японского
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-8" target="_top">UTF-8</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/UTF-16" target="_top">UTF-16/UCS-2</a> и <a class="ulink" href="http://en.wikipedia.org/wiki/UTF-32/UCS-4" target="_top">UTF-32/UCS-4</a> для набора символов Unicode
</li>
</ul></div>
<p>Как видно в приведённых примерах, есть разница между понятиями "кодировка"
(character encoding) и "набор символов" (character set).</p>
<p>Термин "<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B4%D0%BE%D0%B2%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0" target="_top">кодовая страница</a>" (code page)
используется отдельными производителями как синоним "кодировки" (character
encoding).</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Заметьте, что в большинстве кодировок символы, кодируемые первыми семью
битами, совпадают с набором символов ASCII. Однако есть и исключения. Если
вы преобразуете старые японские программы на C и адреса URL из shift-JIS в
UTF-8, используйте "<code class="literal">CP932</code>" вместо
"<code class="literal">shift-JIS</code>", чтобы получить ожидаемый результат:
<code class="literal">0x5C</code> → "<code class="literal">\</code>" и <code class="literal">0x7E</code> →
"<code class="literal">~</code>" . Иначе они будут преобразованы неправильно.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><code class="literal">recode</code>(1) предоставляет общую функциональность
<code class="literal">iconv</code>(1), <code class="literal">fromdos</code>(1),
<code class="literal">todos</code>(1), <code class="literal">frommac</code>(1) и
<code class="literal">tomac</code>(1). Подробности смотрите в "<code class="literal">info
recode</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_checking_file_to_be_utf_8_with_iconv"></a>11.1.2. Проверка кодировки файла с помощью iconv (на примере UTF-8)</h3></div></div></div>
<p>С помощью <code class="literal">iconv</code>(1) вы можете проверить, закодирован ли
файл в UTF-8:</p>
<pre class="screen">$ iconv -f utf8 -t utf8 input.txt &gt;/dev/null || echo "найден символ не-UTF-8"</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Используйте ключ "<code class="literal">--verbose</code>", чтобы найти первый символ,
не соответствующий UTF-8 (на нём программа остановится с ошибкой).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_converting_file_names_with_iconv"></a>11.1.3. Преобразование имён файлов с помощью iconv</h3></div></div></div>
<p>Вот пример сценария, который изменяет кодировку имён файлов, созданных в
старой ОС, на UTF-8. Обрабатываются файлы в одном каталоге.</p>
<pre class="screen">#!/bin/sh
ENCDN=iso-8859-1
for x in *;
 do
 mv "$x" $(echo "$x" | iconv -f $ENCDN -t utf-8)
done</pre>
<p>Переменная "<code class="literal">$ENCDN</code>" должна содержать имя исходной
кодировки. (См. <a class="xref" href="#list-of-encoding-values" title="Таблица 11.2. Кодировки и их использование">Таблица 11.2, «Кодировки и их использование»</a>.)</p>
<p>В более сложном случае, когда файлы с именами в старой кодировке находятся
на другой файловой системе, нужно примонтировать эту файловую систему, а
команде <code class="literal">mount</code>(1) при этом передать имя кодировки,
используемой на этой файловой системе (см. <a class="xref" href="#_filename_encoding" title="8.3.6. Кодировка имён файлов">Раздел 8.3.6, «Кодировка имён файлов»</a>). После этого нужно скопировать содержимое
файловой системы на другую, использующую UTF-8, командой "<code class="literal">cp
-a</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_eol_conversion"></a>11.1.4. Преобразование символа конца строки EOL</h3></div></div></div>
<p>В разных системах для обозначения конца строки используются различные
символы.</p>
<div class="table">
<a name="listofeolstylesffferentplatforms"></a><p class="title"><b>Таблица 11.3. Символы конца строки в разных системах</b></p>
<div class="table-contents"><table summary="Символы конца строки в разных системах" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    платформа
    </th>
<th align="left">
    код EOL
    </th>
<th align="left">
    control
    </th>
<th align="left">
    decimal
    </th>
<th align="left">
    hexadecimal
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    Debian (unix)
    </td>
<td align="left">
    LF
    </td>
<td align="left">
                  <code class="literal">^J</code>
                </td>
<td align="left">
    10
    </td>
<td align="left">
    0A
    </td>
</tr>
<tr>
<td align="left">
    MSDOS и Windows
    </td>
<td align="left">
    CR-LF
    </td>
<td align="left">
                  <code class="literal">^M^J</code>
                </td>
<td align="left">
    13 10
    </td>
<td align="left">
    0D 0A
    </td>
</tr>
<tr>
<td align="left">
    Apple Macintosh
    </td>
<td align="left">
    CR
    </td>
<td align="left">
                  <code class="literal">^M</code>
                </td>
<td align="left">
    13
    </td>
<td align="left">
    0D
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Программы для преобразования форматов конца строки
<code class="literal">fromdos</code>(1), <code class="literal">todos</code>(1),
<code class="literal">frommac</code>(1) и <code class="literal">tomac</code>(1) очень
удобны. <code class="literal">recode</code>(1) также полезен.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Некоторые данные в системе Debian всё же используют принятый в MS-DOS формат
конца строки (CR-LF). Например, содержимое wiki-страниц при использовании
пакета <code class="literal">python-moinmoin</code>.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Большинство текстовых редакторов (как <code class="literal">vim</code>,
<code class="literal">emacs</code>, <code class="literal">gedit</code>, ...) умеет работать с
файлами, где конец строки обозначается принятым в MS-DOS способом.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Если в одном файле конец разных строк обозначается по-разному, и вы хотите
свести их к одному формату, воспользуйтесь командой "<code class="literal">sed -e
'/\\r$/!s/$/\\r/'</code>" вместо команды
<code class="literal">todos</code>(1). (Такие файлы могут получиться, например, если
вы объединяете два MSDOS-файла с помощью команды
<code class="literal">diff3</code>(1).) Команда <code class="literal">todos</code> просто
добавляет символ CR ко всем строчкам.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_tab_conversion"></a>11.1.5. Преобразование символа табуляции TAB</h3></div></div></div>
<p>Есть несколько популярных специализированных программ для преобразования
кодов знака табуляции.</p>
<div class="table">
<a name="listoftabconversoreutilspackages"></a><p class="title"><b>Таблица 11.4. Список средств преобразования TAB из пакетов <code class="literal">bsdmainutils</code>
и <code class="literal">coreutils</code></b></p>
<div class="table-contents"><table summary="Список средств преобразования TAB из пакетов bsdmainutils
и coreutils" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    действие
    </th>
<th align="left">
                  <code class="literal">bsdmainutils</code>
                </th>
<th align="left">
                  <code class="literal">coreutils</code>
                </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
    заменить знаки табуляции пробелами
    </td>
<td align="left">
    "<code class="literal">col -x</code>"
    </td>
<td align="left">
                  <code class="literal">expand</code>
                </td>
</tr>
<tr>
<td align="left">
    заменить пробелы знаками табуляции
    </td>
<td align="left">
    "<code class="literal">col -h</code>"
    </td>
<td align="left">
                  <code class="literal">unexpand</code>
                </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p><code class="literal">indent</code>(1) из пакета <code class="literal">indent</code> форматирует
файлы с исходными текстами на C, добавляет и удаляет пробелы, отступы и
пустые строки.</p>
<p>Текстовые редакторы вроде <code class="literal">vim</code> и <code class="literal">emacs</code>
также умеют обрабатывать знаки табуляции. Например, в <code class="literal">vim</code>
вы можете заменить знаки табуляции нужным количеством пробелов, включив
"<code class="literal">:set expandtab</code>" и выполнив
"<code class="literal">:%retab</code>". "Вернуть" знаки табуляции можно, установив
"<code class="literal">:set noexpandtab</code>" и "<code class="literal">:%retab!</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_editors_with_auto_conversion"></a>11.1.6. Editors with auto-conversion</h3></div></div></div>
<p>Современные редакторы, например, <code class="literal">vim</code> довольно хорошо
работают с любыми кодировками и форматами файлов. Для лучшей совместимости
следует использовать эти редакторы в UTF-8 локали.</p>
<p>Старый файл "<code class="literal">u-file.txt</code>" в кодировке latin1 (iso-8859-1)
корректно откроется с помощью <code class="literal">vim</code> по такой простой
команде:</p>
<pre class="screen">$ vim u-file.txt</pre>
<p>Это возможно, поскольку срабатывает механизм распознавания кодировки,
который пробует сначала UTF-8, а в случае ошибки переходит на использование
latin1.</p>
<p>Старый польский файл, "<code class="literal">pu-file.txt</code>" в latin2 (iso-8859-2)
можно открыть в <code class="literal">vim</code> таким способом.</p>
<pre class="screen">$ vim '+e ++enc=latin2 pu-file.txt'</pre>
<p>Старый японский текстовый файл, "<code class="literal">ju-file.txt</code>" в кодировке
eucJP, соответственно, откроется по такой команде:</p>
<pre class="screen">$ vim '+e ++enc=eucJP ju-file.txt'</pre>
<p>Старый японский файл, написанный в системе MS-Windows (в кодировке CP932),
"<code class="literal">jw-file.txt</code>", можно открыть в <code class="literal">vim</code>
так:</p>
<pre class="screen">$ vim '+e ++enc=CP932 ++ff=dos jw-file.txt'</pre>
<p>Когда файл открыт в Vim с ключами "<code class="literal">++enc</code>"
"<code class="literal">+ff</code>", при сохранении его командой
"<code class="literal">:w</code>" он будет записан в своей изначальной кодировке, в
оригинальном формате. Однако вы можете уточнить кодировку, в которой файл
должен быть сохранён, например "<code class="literal">:w ++enc=utf8 new.txt</code>".</p>
<p>Значения локалей, используемые ключом "<code class="literal">++enc</code>", описаны в
разделе справки <code class="literal">vim</code> "multi-byte text support"
(mbyte.txt). См. также <a class="xref" href="#list-of-encoding-values" title="Таблица 11.2. Кодировки и их использование">Таблица 11.2, «Кодировки и их использование»</a>.</p>
<p>Семейство программ <code class="literal">emacs</code> тоже всё это умеет.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_plain_text_extraction"></a>11.1.7. Извлечение чистого текста (из файлов в разных форматах)</h3></div></div></div>
<p>Следующая команда читает web-страницу в текстовый файл. Это очень полезно
при копировании конфигурации из Web или для применения простых средств
обработки текстов, таких как <code class="literal">grep</code>(1), к web-странице.</p>
<pre class="screen">$ w3m -dump http://www.remote-site.com/help-info.html &gt;textfile</pre>
<p>Таким же способом вы можете извлекать текстовые данные из других форматах,
используя следующие средства.</p>
<div class="table">
<a name="listoftoolstoextactplaintextdata"></a><p class="title"><b>Таблица 11.5. Список средств извлечения текстовых данных</b></p>
<div class="table-contents"><table summary="Список средств извлечения текстовых данных" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    действие
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/w3m" target="_top"> <code class="literal">w3m</code>
</a> <a class="ulink" href="http://bugs.debian.org/w3m" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=w3m" target="_top">V:21, I:84</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/w3m.html" target="_top">1972</a></td>
<td align="left">
    html→text
    </td>
<td align="left">
    Извлекает текст по команде "<code class="literal">w3m -dump</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/html2text" target="_top">
<code class="literal">html2text</code> </a> <a class="ulink" href="http://bugs.debian.org/html2text" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=html2text" target="_top">V:17, I:37</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/html2text.html" target="_top">248</a></td>
<td align="left">
    html→text
    </td>
<td align="left">
    специализированный конвертер (ISO 8859-1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/lynx" target="_top"> <code class="literal">lynx</code>
</a> <a class="ulink" href="http://bugs.debian.org/lynx" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=lynx" target="_top">I:23</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/lynx.html" target="_top">252</a></td>
<td align="left">
    html→text
    </td>
<td align="left">
    текст извлекается по команде "<code class="literal">lynx -dump</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/elinks" target="_top">
<code class="literal">elinks</code> </a> <a class="ulink" href="http://bugs.debian.org/elinks" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=elinks" target="_top">V:2, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/elinks.html" target="_top">1448</a></td>
<td align="left">
    html→text
    </td>
<td align="left">
    текст извлекается по команде "<code class="literal">elinks -dump</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/links" target="_top"> <code class="literal">links</code>
</a> <a class="ulink" href="http://bugs.debian.org/links" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=links" target="_top">V:3, I:9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/links.html" target="_top">1380</a></td>
<td align="left">
    html→text
    </td>
<td align="left">
    текст извлекается по команде "<code class="literal">links -dump</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/links2" target="_top">
<code class="literal">links2</code> </a> <a class="ulink" href="http://bugs.debian.org/links2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=links2" target="_top">V:0.7, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/links2.html" target="_top">3288</a></td>
<td align="left">
    html→text
    </td>
<td align="left">
    текст извлекается по команде "<code class="literal">links2 -dump</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/antiword" target="_top">
<code class="literal">antiword</code> </a> <a class="ulink" href="http://bugs.debian.org/antiword" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=antiword" target="_top">V:1.4, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/antiword.html" target="_top">796</a></td>
<td align="left">
    MSWord→text,ps
    </td>
<td align="left">
    извлекает текст из MSWord-файлов в текстовые или PostScript-файлы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/catdoc" target="_top">
<code class="literal">catdoc</code> </a> <a class="ulink" href="http://bugs.debian.org/catdoc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=catdoc" target="_top">V:1.0, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/catdoc.html" target="_top">2580</a></td>
<td align="left">
    MSWord→text,TeX
    </td>
<td align="left">
    конвертирует файлы MSWord в текстовые или TeX-файлы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pstotext" target="_top">
<code class="literal">pstotext</code> </a> <a class="ulink" href="http://bugs.debian.org/pstotext" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pstotext" target="_top">V:0.9, I:1.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pstotext.html" target="_top">148</a></td>
<td align="left">
    ps/pdf→text
    </td>
<td align="left">
    извлекает текст из PostScript или PDF-файлов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/unhtml" target="_top">
<code class="literal">unhtml</code> </a> <a class="ulink" href="http://bugs.debian.org/unhtml" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=unhtml" target="_top">V:0.02, I:0.15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/unhtml.html" target="_top">76</a></td>
<td align="left">
    html→text
    </td>
<td align="left">
    удаляет из файла HTML-тэги
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/odt2txt" target="_top">
<code class="literal">odt2txt</code> </a> <a class="ulink" href="http://bugs.debian.org/odt2txt" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=odt2txt" target="_top">V:0.8, I:1.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/odt2txt.html" target="_top">100</a></td>
<td align="left">
    odt→text
    </td>
<td align="left">
    конвертирует OpenDocument-файлы в текстовые
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wpd2sxw" target="_top">
<code class="literal">wpd2sxw</code> </a> <a class="ulink" href="http://bugs.debian.org/wpd2sxw" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wpd2sxw" target="_top">V:0.01, I:0.12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wpd2sxw.html" target="_top">156</a></td>
<td align="left">
    WordPerfect→sxw
    </td>
<td align="left">
    конвертирует файлы WordPerfect в OpenOffice.org/StarOffice
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_highlighting_and_formatting_plain_text_data"></a>11.1.8. Подсветка и форматирование текстовых данных</h3></div></div></div>
<p>С помощью следующих средств можно "раскрасить"/отформатировать текстовые
данные.</p>
<div class="table">
<a name="listoftoolstohigghtplaintextdata"></a><p class="title"><b>Таблица 11.6. Список средств подсветки текстов</b></p>
<div class="table-contents"><table summary="Список средств подсветки текстов" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/vim-runtime" target="_top">
<code class="literal">vim-runtime</code> </a> <a class="ulink" href="http://bugs.debian.org/vim-runtime" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=vim-runtime" target="_top">V:3, I:38</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/vim-runtime.html" target="_top">25812</a></td>
<td align="left">
    highlight
    </td>
<td align="left">
    макрос Vim, конвертирующий исходный текст в HTML "<code class="literal">:source
$VIMRUNTIME/syntax/html.vim</code>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cxref" target="_top"> <code class="literal">cxref</code>
</a> <a class="ulink" href="http://bugs.debian.org/cxref" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cxref" target="_top">V:0.06, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cxref.html" target="_top">1252</a></td>
<td align="left">
    c→html
    </td>
<td align="left">
    форматирует исходный текст на C в HTML и latex (написан на C)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/src2tex" target="_top">
<code class="literal">src2tex</code> </a> <a class="ulink" href="http://bugs.debian.org/src2tex" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=src2tex" target="_top">V:0.03, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/src2tex.html" target="_top">1968</a></td>
<td align="left">
    highlight
    </td>
<td align="left">
    форматирует исходный текст на разных языках в TeX (написан на C)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/source-highlight" target="_top">
<code class="literal">source-highlight</code> </a> <a class="ulink" href="http://bugs.debian.org/source-highlight" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=source-highlight" target="_top">V:0.14, I:1.0</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/source-highlight.html" target="_top">2164</a></td>
<td align="left">
    highlight
    </td>
<td align="left">
    форматирует исходный текст на разных языках в HTML, XHTML, LaTeX, Texinfo,
DocBook, добавляет коды подсветки ANSI (на C++)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/highlight" target="_top">
<code class="literal">highlight</code> </a> <a class="ulink" href="http://bugs.debian.org/highlight" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=highlight" target="_top">V:0.2, I:1.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/highlight.html" target="_top">756</a></td>
<td align="left">
    highlight
    </td>
<td align="left">
    форматирует исходный текст в HTML, XHTML, RTF, LaTeX, TeX или XSL-FO файлы,
поддерживает подсветку (C++)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/grc" target="_top"> <code class="literal">grc</code>
</a> <a class="ulink" href="http://bugs.debian.org/grc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=grc" target="_top">V:0.05, I:0.13</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/grc.html" target="_top">164</a></td>
<td align="left">
    text→color
    </td>
<td align="left">
    добавление подсветки для чего угодно (Python)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/txt2html" target="_top">
<code class="literal">txt2html</code> </a> <a class="ulink" href="http://bugs.debian.org/txt2html" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=txt2html" target="_top">V:0.07, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/txt2html.html" target="_top">296</a></td>
<td align="left">
    text→html
    </td>
<td align="left">
    форматирует текст в HTML (Perl)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/markdown" target="_top">
<code class="literal">markdown</code> </a> <a class="ulink" href="http://bugs.debian.org/markdown" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=markdown" target="_top">V:0.08, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/markdown.html" target="_top">96</a></td>
<td align="left">
    text→html
    </td>
<td align="left">
    форматирует текст в (X)HTML (Perl)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/asciidoc" target="_top">
<code class="literal">asciidoc</code> </a> <a class="ulink" href="http://bugs.debian.org/asciidoc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=asciidoc" target="_top">V:0.14, I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/asciidoc.html" target="_top">4644</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    переформатирует файлы AsciiDoc в XML/HTML (Python)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/python-docutils" target="_top">
<code class="literal">python-docutils</code> </a> <a class="ulink" href="http://bugs.debian.org/python-docutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=python-docutils" target="_top">V:0.3, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/python-docutils.html" target="_top">5740</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    форматирует тексты в XML (Python)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/txt2tags" target="_top">
<code class="literal">txt2tags</code> </a> <a class="ulink" href="http://bugs.debian.org/txt2tags" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=txt2tags" target="_top">V:0.05, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/txt2tags.html" target="_top">1028</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    преобразует текстовые документы в HTML, SGML, LaTeX, man-страницы, MoinMoin,
MagicPoint и PageMaker (Python)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/udo" target="_top"> <code class="literal">udo</code>
</a> <a class="ulink" href="http://bugs.debian.org/udo" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=udo" target="_top">V:0.00, I:0.06</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/udo.html" target="_top">556</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    universal document - text processing utility (C language)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/stx2any" target="_top">
<code class="literal">stx2any</code> </a> <a class="ulink" href="http://bugs.debian.org/stx2any" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=stx2any" target="_top">V:0.00, I:0.04</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/stx2any.html" target="_top">484</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    document converter from structured plain text to other formats (m4)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/rest2web" target="_top">
<code class="literal">rest2web</code> </a> <a class="ulink" href="http://bugs.debian.org/rest2web" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=rest2web" target="_top">V:0.01, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/rest2web.html" target="_top">576</a></td>
<td align="left">
    text→html
    </td>
<td align="left">
    document converter from ReStructured Text to html (Python)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/aft" target="_top"> <code class="literal">aft</code>
</a> <a class="ulink" href="http://bugs.debian.org/aft" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=aft" target="_top">V:0.00, I:0.06</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/aft.html" target="_top">340</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    "free form" document preparation system (Perl)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/yodl" target="_top"> <code class="literal">yodl</code>
</a> <a class="ulink" href="http://bugs.debian.org/yodl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=yodl" target="_top">V:0.01, I:0.06</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/y/yodl.html" target="_top">564</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    pre-document language and tools to process it (C language)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sdf" target="_top"> <code class="literal">sdf</code>
</a> <a class="ulink" href="http://bugs.debian.org/sdf" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sdf" target="_top">V:0.02, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sdf.html" target="_top">1940</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    simple document parser (Perl)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sisu" target="_top"> <code class="literal">sisu</code>
</a> <a class="ulink" href="http://bugs.debian.org/sisu" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sisu" target="_top">V:0.01, I:0.06</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sisu.html" target="_top">14364</a></td>
<td align="left">
    text→any
    </td>
<td align="left">
    document structuring, publishing and search framework (Ruby)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_xml_data"></a>11.2. Данные в формате XML</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/XML" target="_top">The Extensible Markup Language
(XML)</a> -- язык разметки для документов, содержащих структурированную
информацию.</p>
<p>Вводную информацию смотрите на <a class="ulink" href="http://xml.com/" target="_top">XML.COM</a>.</p>
<div class="itemizedlist"><ul type="disc">
<li>
            <a class="ulink" href="http://www.xml.com/pub/a/98/10/guide0.html" target="_top">"What is XML?"</a>
          </li>
<li>
            <a class="ulink" href="http://xml.com/pub/a/2000/08/holman/index.html" target="_top">"What Is XSLT?"</a>
          </li>
<li>
            <a class="ulink" href="http://xml.com/pub/a/2002/03/20/xsl-fo.html" target="_top">"What Is XSL-FO?"</a>
          </li>
<li>
            <a class="ulink" href="http://xml.com/pub/a/2000/09/xlink/index.html" target="_top">"What Is XLink?"</a>
          </li>
</ul></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basic_hints_for_xml"></a>11.2.1. Основные советы по XML</h3></div></div></div>
<p>Текст в формате XML похож на <a class="ulink" href="http://ru.wikipedia.org/wiki/HTML" target="_top">HTML</a>. Он облегчает
нам управление различными форматами выходного документа. Одна из простых
XML-систем входит в пакет <code class="literal">docbook-xsl</code>, который
используется для этого справочника.</p>
<p>Каждый XML-файл начинается со стандартного объявления XML:</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</pre>
<p>Простейший синтаксис одного XML-элемента таков:</p>
<pre class="screen">&lt;имя атрибут="значение"&gt;содержимое&lt;/имя&gt;</pre>
<p>XML-элемент, не имеющий содержимого, размечается по короткой форме:</p>
<pre class="screen">&lt;имя атрибут="значение"/&gt;</pre>
<p>Пара "<code class="literal">атрибут="значение"</code>" в приведённых примерах может
отсутствовать.</p>
<p>Комментарий в XML размечается так:</p>
<pre class="screen">&lt;!-- комментарий --&gt;</pre>
<p>Other than adding markups, XML requires minor conversion to the content
using predefined entities for following characters.</p>
<div class="table">
<a name="listofpredefinedentitiesforxml"></a><p class="title"><b>Таблица 11.7. Список предопределённых элементов XML ("'&lt;&gt;&amp;)</b></p>
<div class="table-contents"><table summary="Список предопределённых элементов XML (&quot;'&lt;&gt;&amp;)" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    predefined entity
    </th>
<th align="left">
    обозначаемый символ
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">&amp;quot;</code>
                </td>
<td align="left">
<code class="literal">"</code> : двойные кавычки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">&amp;apos;</code>
                </td>
<td align="left">
<code class="literal">'</code> : апостроф
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">&amp;lt;</code>
                </td>
<td align="left">
<code class="literal">&lt;</code> : меньше, чем
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">&amp;gt;</code>
                </td>
<td align="left">
<code class="literal">&gt;</code> : больше, чем
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">&amp;amp;</code>
                </td>
<td align="left">
<code class="literal">&amp;</code> : амперсанд
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>"<code class="literal">&lt;</code>" или "<code class="literal">&amp;</code>" не могут
использоваться в атрибутах элементов.</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>When SGML style user defined entities,
e.g. "<code class="literal">&amp;some-tag:</code>", are used, the first definition
wins over others.  The entity definition is expressed in
"<code class="literal">&lt;!ENTITY some-tag "entity value"&gt;</code>".</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>As long as the XML markup are done consistently with certain set of the tag
name (either some data as content or attribute value), conversion to another
XML is trivial task using <a class="ulink" href="http://ru.wikipedia.org/wiki/XSLT" target="_top">Extensible Stylesheet Language
Transformations (XSLT)</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_xml_processing"></a>11.2.2. XML processing</h3></div></div></div>
<p>There are many tools available to process XML files such as <a class="ulink" href="http://ru.wikipedia.org/wiki/XSL" target="_top">the Extensible Stylesheet Language
(XSL)</a>.</p>
<p>Basically, once you create well formed XML file, you can convert it to any
format using <a class="ulink" href="http://ru.wikipedia.org/wiki/XSLT" target="_top">Extensible
Stylesheet Language Transformations (XSLT)</a>.</p>
<p>The <a class="ulink" href="http://ru.wikipedia.org/wiki/XSL-FO" target="_top">Extensible Stylesheet
Language for Formatting Object (XSL-FO)</a> is supposed to be solution
for formatting. The <code class="literal">fop</code> package is in the Debian
<code class="literal">contrib</code> (not <code class="literal">main</code>) archive still. So
the LaTeX code is usually generated from XML using XSLT and the LaTeX system
is used to create printable file such as DVI, PostScript, and PDF.</p>
<div class="table">
<a name="listofxmltools"></a><p class="title"><b>Таблица 11.8. List of XML tools</b></p>
<div class="table-contents"><table summary="List of XML tools" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/docbook-xml" target="_top">
<code class="literal">docbook-xml</code> </a> <a class="ulink" href="http://bugs.debian.org/docbook-xml" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=docbook-xml" target="_top">I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/docbook-xml.html" target="_top">2488</a></td>
<td align="left">
    xml
    </td>
<td align="left">
    XML document type definition (DTD) for DocBook
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xsltproc" target="_top">
<code class="literal">xsltproc</code> </a> <a class="ulink" href="http://bugs.debian.org/xsltproc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xsltproc" target="_top">V:4, I:46</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xsltproc.html" target="_top">152</a></td>
<td align="left">
    xslt
    </td>
<td align="left">
    XSLT command line processor (XML→ XML, HTML, plain text, etc.)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/docbook-xsl" target="_top">
<code class="literal">docbook-xsl</code> </a> <a class="ulink" href="http://bugs.debian.org/docbook-xsl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=docbook-xsl" target="_top">V:0.5, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/docbook-xsl.html" target="_top">12792</a></td>
<td align="left">
    xml/xslt
    </td>
<td align="left">
    XSL stylesheets for processing DocBook XML to various output formats with
XSLT
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xmlto" target="_top"> <code class="literal">xmlto</code>
</a> <a class="ulink" href="http://bugs.debian.org/xmlto" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xmlto" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xmlto.html" target="_top">268</a></td>
<td align="left">
    xml/xslt
    </td>
<td align="left">
    XML-to-any converter with XSLT
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dblatex" target="_top">
<code class="literal">dblatex</code> </a> <a class="ulink" href="http://bugs.debian.org/dblatex" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dblatex" target="_top">V:0.2, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dblatex.html" target="_top">7340</a></td>
<td align="left">
    xml/xslt
    </td>
<td align="left">
    convert Docbook files to DVI, PostScript, PDF documents with XSLT
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fop" target="_top"> <code class="literal">fop</code>
</a> <a class="ulink" href="http://bugs.debian.org/fop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fop" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fop.html" target="_top">2280</a></td>
<td align="left">
    xml/xsl-fo
    </td>
<td align="left">
    convert Docbook XML files to PDF
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Since XML is subset of <a class="ulink" href="http://ru.wikipedia.org/wiki/SGML" target="_top">Standard Generalized Markup
Language (SGML)</a>, it can be processed by the extensive tools
available for SGML, such as <a class="ulink" href="http://ru.wikipedia.org/wiki/DSSSL" target="_top">Document Style Semantics and
Specification Language (DSSSL)</a>.</p>
<div class="table">
<a name="listofdssltools"></a><p class="title"><b>Таблица 11.9. List of DSSL tools</b></p>
<div class="table-contents"><table summary="List of DSSL tools" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openjade" target="_top">
<code class="literal">openjade</code> </a> <a class="ulink" href="http://bugs.debian.org/openjade" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openjade" target="_top">V:0.4, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openjade.html" target="_top">1212</a></td>
<td align="left">
    dsssl
    </td>
<td align="left">
    ISO/IEC 10179:1996 standard DSSSL processor (latest)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openjade1.3" target="_top">
<code class="literal">openjade1.3</code> </a> <a class="ulink" href="http://bugs.debian.org/openjade1.3" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openjade1.3" target="_top">V:0.02, I:0.15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openjade1.3.html" target="_top">2336</a></td>
<td align="left">
    dsssl
    </td>
<td align="left">
    ISO/IEC 10179:1996 standard DSSSL processor (1.3.x series)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/jade" target="_top"> <code class="literal">jade</code>
</a> <a class="ulink" href="http://bugs.debian.org/jade" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=jade" target="_top">V:0.4, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/j/jade.html" target="_top">1056</a></td>
<td align="left">
    dsssl
    </td>
<td align="left">
    James Clark's original DSSSL processor (1.2.x series)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/docbook-dsssl" target="_top">
<code class="literal">docbook-dsssl</code> </a> <a class="ulink" href="http://bugs.debian.org/docbook-dsssl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=docbook-dsssl" target="_top">V:0.6, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/docbook-dsssl.html" target="_top">3100</a></td>
<td align="left">
    xml/dsssl
    </td>
<td align="left">
    DSSSL stylesheets for processing DocBook XML to various output formats with
DSSSL
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/docbook-utils" target="_top">
<code class="literal">docbook-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/docbook-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=docbook-utils" target="_top">V:0.2, I:1.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/docbook-utils.html" target="_top">440</a></td>
<td align="left">
    xml/dsssl
    </td>
<td align="left">
    utilities for DocBook files including conversion to other formats (HTML,
RTF, PS, man, PDF) with <code class="literal">docbook2*</code> commands with DSSSL
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sgml2x" target="_top">
<code class="literal">sgml2x</code> </a> <a class="ulink" href="http://bugs.debian.org/sgml2x" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sgml2x" target="_top">V:0.00, I:0.07</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sgml2x.html" target="_top">216</a></td>
<td align="left">
    SGML/dsssl
    </td>
<td align="left">
    converter from SGML and XML using DSSSL stylesheets
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/GNOME" target="_top">GNOME</a>'s <code class="literal">yelp</code> is sometimes
handy to read <a class="ulink" href="http://ru.wikipedia.org/wiki/DocBook" target="_top">DocBook</a> XML files directly
since it renders decently on X.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_xml_data_extraction"></a>11.2.3. The XML data extraction</h3></div></div></div>
<p>You can extract HTML or XML data from other formats using followings.</p>
<div class="table">
<a name="listofxmldataextractiontools"></a><p class="title"><b>Таблица 11.10. List of XML data extraction tools</b></p>
<div class="table-contents"><table summary="List of XML data extraction tools" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wv" target="_top"> <code class="literal">wv</code>
</a> <a class="ulink" href="http://bugs.debian.org/wv" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wv" target="_top">V:1.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wv.html" target="_top">2116</a></td>
<td align="left">
    MSWord→any
    </td>
<td align="left">
    document converter from Microsoft Word to HTML, LaTeX, etc.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/texi2html" target="_top">
<code class="literal">texi2html</code> </a> <a class="ulink" href="http://bugs.debian.org/texi2html" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=texi2html" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/texi2html.html" target="_top">2076</a></td>
<td align="left">
    texi→html
    </td>
<td align="left">
    converter from Texinfo to HTML
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/man2html" target="_top">
<code class="literal">man2html</code> </a> <a class="ulink" href="http://bugs.debian.org/man2html" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=man2html" target="_top">V:0.2, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/man2html.html" target="_top">372</a></td>
<td align="left">
    manpage→html
    </td>
<td align="left">
    converter from manpage to HTML (CGI support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tex4ht" target="_top">
<code class="literal">tex4ht</code> </a> <a class="ulink" href="http://bugs.debian.org/tex4ht" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tex4ht" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tex4ht.html" target="_top">924</a></td>
<td align="left">
    tex↔html
    </td>
<td align="left">
    converter between (La)TeX and HTML
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xlhtml" target="_top">
<code class="literal">xlhtml</code> </a> <a class="ulink" href="http://bugs.debian.org/xlhtml" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xlhtml" target="_top">V:0.6, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xlhtml.html" target="_top">184</a></td>
<td align="left">
    MSExcel→html
    </td>
<td align="left">
    converter from MSExcel .xls to HTML
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ppthtml" target="_top">
<code class="literal">ppthtml</code> </a> <a class="ulink" href="http://bugs.debian.org/ppthtml" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ppthtml" target="_top">V:0.5, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/ppthtml.html" target="_top">120</a></td>
<td align="left">
    MSPowerPoint→html
    </td>
<td align="left">
    converter from MSPowerPoint to HTML
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/unrtf" target="_top"> <code class="literal">unrtf</code>
</a> <a class="ulink" href="http://bugs.debian.org/unrtf" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=unrtf" target="_top">V:0.5, I:0.9</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/unrtf.html" target="_top">276</a></td>
<td align="left">
    rtf→html
    </td>
<td align="left">
    document converter from RTF to HTML, etc
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/info2www" target="_top">
<code class="literal">info2www</code> </a> <a class="ulink" href="http://bugs.debian.org/info2www" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=info2www" target="_top">V:0.6, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/info2www.html" target="_top">156</a></td>
<td align="left">
    info→html
    </td>
<td align="left">
    converter from GNU info to HTML (CGI support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ooo2dbk" target="_top">
<code class="literal">ooo2dbk</code> </a> <a class="ulink" href="http://bugs.debian.org/ooo2dbk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ooo2dbk" target="_top">V:0.03, I:0.17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/ooo2dbk.html" target="_top">941</a></td>
<td align="left">
    sxw→xml
    </td>
<td align="left">
    converter from OpenOffice.org SXW documents to DocBook XML
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/wp2x" target="_top"> <code class="literal">wp2x</code>
</a> <a class="ulink" href="http://bugs.debian.org/wp2x" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=wp2x" target="_top">V:0.00, I:0.07</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/wp2x.html" target="_top">240</a></td>
<td align="left">
    WordPerfect→any
    </td>
<td align="left">
    WordPerfect 5.0 and 5.1 files to TeX, LaTeX, troff, GML and HTML
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/doclifter" target="_top">
<code class="literal">doclifter</code> </a> <a class="ulink" href="http://bugs.debian.org/doclifter" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=doclifter" target="_top">V:0.00, I:0.03</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/doclifter.html" target="_top">424</a></td>
<td align="left">
    troff→xml
    </td>
<td align="left">
    converter from troff to DocBook XML
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>For non-XML HTML files, you can convert them to XHTML which is an instance
of well formed XML.  XHTML can be processed by XML tools.</p>
<div class="table">
<a name="listofxmlprettyprinttools"></a><p class="title"><b>Таблица 11.11. List of XML pretty print tools</b></p>
<div class="table-contents"><table summary="List of XML pretty print tools" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libxml2-utils" target="_top">
<code class="literal">libxml2-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/libxml2-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libxml2-utils" target="_top">V:4, I:49</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libx/libxml2-utils.html" target="_top">160</a></td>
<td align="left">
    xml↔html↔xhtml
    </td>
<td align="left">
    command line XML tool with <code class="literal">xmllint</code>(1) (syntax check,
reformat, lint, …)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tidy" target="_top"> <code class="literal">tidy</code>
</a> <a class="ulink" href="http://bugs.debian.org/tidy" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tidy" target="_top">V:1.1, I:10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tidy.html" target="_top">108</a></td>
<td align="left">
    xml↔html↔xhtml
    </td>
<td align="left">
    HTML syntax checker and reformatter
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Once proper XML is generated, you can use XSLT technology to extract data
based on the mark-up context etc.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_printable_data"></a>11.3. Printable data</h2></div></div></div>
<p>Printable data is expressed in the <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PostScript</a> format on the Debian system.  <a class="ulink" href="http://ru.wikipedia.org/wiki/Common_UNIX_Printing_System" target="_top">Common Unix Printing System
(CUPS)</a> uses Ghostscript as its rasterizer backend program for
non-PostScript printers.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_ghostscript"></a>11.3.1. Ghostscript</h3></div></div></div>
<p>The core of printable data manipulation is the <a class="ulink" href="http://en.wikipedia.org/wiki/Ghostscript" target="_top">Ghostscript</a> <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PostScript (PS)</a> interpreter which generates
raster image.</p>
<p>The latest upstream Ghostscript from Artifex was re-licensed from AFPL to
GPL and merged all the latest ESP version changes such as CUPS related ones
at 8.60 release as unified release.</p>
<div class="table">
<a name="listofghostscripriptinterpreters"></a><p class="title"><b>Таблица 11.12. List of Ghostscript PostScript interpreters</b></p>
<div class="table-contents"><table summary="List of Ghostscript PostScript interpreters" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ghostscript" target="_top">
<code class="literal">ghostscript</code> </a> <a class="ulink" href="http://bugs.debian.org/ghostscript" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ghostscript" target="_top">V:17, I:56</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/ghostscript.html" target="_top">6716</a></td>
<td align="left">
                  <a class="ulink" href="http://en.wikipedia.org/wiki/Ghostscript" target="_top">The GPL Ghostscript
PostScript/PDF interpreter</a>
                </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ghostscript-x" target="_top">
<code class="literal">ghostscript-x</code> </a> <a class="ulink" href="http://bugs.debian.org/ghostscript-x" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ghostscript-x" target="_top">V:14, I:32</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/ghostscript-x.html" target="_top">220</a></td>
<td align="left">
    GPL Ghostscript PostScript/PDF interpreter - X display support
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gs-cjk-resource" target="_top">
<code class="literal">gs-cjk-resource</code> </a> <a class="ulink" href="http://bugs.debian.org/gs-cjk-resource" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gs-cjk-resource" target="_top">V:0.04, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gs-cjk-resource.html" target="_top">4528</a></td>
<td align="left">
    resource files for gs-cjk, Ghostscript <a class="ulink" href="http://en.wikipedia.org/wiki/CJK_characters" target="_top">CJK</a>-TrueType extension
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cmap-adobe-cns1" target="_top">
<code class="literal">cmap-adobe-cns1</code> </a> <a class="ulink" href="http://bugs.debian.org/cmap-adobe-cns1" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cmap-adobe-cns1" target="_top">V:0.03, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cmap-adobe-cns1.html" target="_top">1572</a></td>
<td align="left">
    CMaps for Adobe-CNS1 (for traditional Chinese support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cmap-adobe-gb1" target="_top">
<code class="literal">cmap-adobe-gb1</code> </a> <a class="ulink" href="http://bugs.debian.org/cmap-adobe-gb1" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cmap-adobe-gb1" target="_top">V:0.03, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cmap-adobe-gb1.html" target="_top">1552</a></td>
<td align="left">
    CMaps for Adobe-GB1 (for simplified Chinese support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cmap-adobe-japan1" target="_top">
<code class="literal">cmap-adobe-japan1</code> </a> <a class="ulink" href="http://bugs.debian.org/cmap-adobe-japan1" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cmap-adobe-japan1" target="_top">V:0.07, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cmap-adobe-japan1.html" target="_top">2428</a></td>
<td align="left">
    CMaps for Adobe-Japan1 (for Japanese standard support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cmap-adobe-japan2" target="_top">
<code class="literal">cmap-adobe-japan2</code> </a> <a class="ulink" href="http://bugs.debian.org/cmap-adobe-japan2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cmap-adobe-japan2" target="_top">I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cmap-adobe-japan2.html" target="_top">416</a></td>
<td align="left">
    CMaps for Adobe-Japan2 (for Japanese extra support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cmap-adobe-korea1" target="_top">
<code class="literal">cmap-adobe-korea1</code> </a> <a class="ulink" href="http://bugs.debian.org/cmap-adobe-korea1" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cmap-adobe-korea1" target="_top">V:0.01, I:0.19</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cmap-adobe-korea1.html" target="_top">872</a></td>
<td align="left">
    CMaps for Adobe-Korea1 (for Korean support)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libpoppler5" target="_top">
<code class="literal">libpoppler5</code> </a> <a class="ulink" href="http://bugs.debian.org/libpoppler5" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libpoppler5" target="_top">V:4, I:18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libpoppler5.html" target="_top">2352</a></td>
<td align="left">
    PDF rendering library based on xpdf PDF viewer
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libpoppler-glib4" target="_top">
<code class="literal">libpoppler-glib4</code> </a> <a class="ulink" href="http://bugs.debian.org/libpoppler-glib4" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libpoppler-glib4" target="_top">V:6, I:17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libp/libpoppler-glib4.html" target="_top">488</a></td>
<td align="left">
    PDF rendering library (GLib-based shared library)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/poppler-data" target="_top">
<code class="literal">poppler-data</code> </a> <a class="ulink" href="http://bugs.debian.org/poppler-data" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=poppler-data" target="_top">I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/poppler-data.html" target="_top">12488</a></td>
<td align="left">
    CMaps for PDF rendering library (for <a class="ulink" href="http://en.wikipedia.org/wiki/CJK_characters" target="_top">CJK</a> support:
Adobe-*)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>"<code class="literal">gs -h</code>" can display the configuration of Ghostscript.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_merge_two_ps_or_pdf_files"></a>11.3.2. Merge two PS or PDF files</h3></div></div></div>
<p>You can merge two <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PostScript (PS)</a> or
<a class="ulink" href="http://ru.wikipedia.org/wiki/PDF" target="_top">Portable Document Format
(PDF)</a> files using <code class="literal">gs</code>(1) of Ghostscript.</p>
<pre class="screen">$ gs -q -dNOPAUSE -dBATCH -sDEVICE=pswrite -sOutputFile=bla.ps -f foo1.ps foo2.ps
$ gs -q -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=bla.pdf -f foo1.pdf foo2.pdf</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>The <a class="ulink" href="http://ru.wikipedia.org/wiki/PDF" target="_top">PDF</a>, which is widely used cross-platform
printable data format, is essentially the compressed <a class="ulink" href="http://ru.wikipedia.org/wiki/PostScript" target="_top">PS</a> format with few additional features and extensions.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>For command line, <code class="literal">psmerge</code>(1) and other commands from the
<code class="literal">psutils</code> package are useful for manipulating PostScript
documents.  Commands in the <code class="literal">pdfjam</code> package work similarly
for manipulating PDF documents. <code class="literal">pdftk</code>(1) from the
<code class="literal">pdftk</code> package is useful for manipulating PDF documents,
too.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_printable_data_utilities"></a>11.3.3. Printable data utilities</h3></div></div></div>
<p>The following packages for the printable data utilities caught my eyes.</p>
<div class="table">
<a name="listofprintabledatautilities"></a><p class="title"><b>Таблица 11.13. List of printable data utilities</b></p>
<div class="table-contents"><table summary="List of printable data utilities" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/poppler-utils" target="_top">
<code class="literal">poppler-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/poppler-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=poppler-utils" target="_top">V:8, I:48</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/poppler-utils.html" target="_top">520</a></td>
<td align="left">
    pdf→ps,text,…
    </td>
<td align="left">
    PDF utilities: <code class="literal">pdftops</code>, <code class="literal">pdfinfo</code>,
<code class="literal">pdfimages</code>, <code class="literal">pdftotext</code>,
<code class="literal">pdffonts</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/psutils" target="_top">
<code class="literal">psutils</code> </a> <a class="ulink" href="http://bugs.debian.org/psutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=psutils" target="_top">V:3, I:22</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/psutils.html" target="_top">408</a></td>
<td align="left">
    ps→ps
    </td>
<td align="left">
    PostScript document conversion tools
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/poster" target="_top">
<code class="literal">poster</code> </a> <a class="ulink" href="http://bugs.debian.org/poster" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=poster" target="_top">V:1.4, I:10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/poster.html" target="_top">80</a></td>
<td align="left">
    ps→ps
    </td>
<td align="left">
    create large posters out of PostScript pages
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xpdf-utils" target="_top">
<code class="literal">xpdf-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/xpdf-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xpdf-utils" target="_top">V:0.9, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xpdf-utils.html" target="_top">76</a></td>
<td align="left">
    pdf→ps,text,…
    </td>
<td align="left">
    PDF utilities: <code class="literal">pdftops</code>, <code class="literal">pdfinfo</code>,
<code class="literal">pdfimages</code>, <code class="literal">pdftotext</code>,
<code class="literal">pdffonts</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/enscript" target="_top">
<code class="literal">enscript</code> </a> <a class="ulink" href="http://bugs.debian.org/enscript" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=enscript" target="_top">V:1.7, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/enscript.html" target="_top">2464</a></td>
<td align="left">
    text→ps, html, rtf
    </td>
<td align="left">
    convert ASCII text to PostScript, HTML, RTF or Pretty-Print
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/a2ps" target="_top"> <code class="literal">a2ps</code>
</a> <a class="ulink" href="http://bugs.debian.org/a2ps" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=a2ps" target="_top">V:1.7, I:8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/a2ps.html" target="_top">4292</a></td>
<td align="left">
    text→ps
    </td>
<td align="left">
    'Anything to PostScript' converter and pretty-printer
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pdftk" target="_top"> <code class="literal">pdftk</code>
</a> <a class="ulink" href="http://bugs.debian.org/pdftk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pdftk" target="_top">V:0.8, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pdftk.html" target="_top">200</a></td>
<td align="left">
    pdf→pdf
    </td>
<td align="left">
    PDF document conversion tool: <code class="literal">pdftk</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mpage" target="_top"> <code class="literal">mpage</code>
</a> <a class="ulink" href="http://bugs.debian.org/mpage" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mpage" target="_top">V:0.18, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mpage.html" target="_top">224</a></td>
<td align="left">
    text,ps→ps
    </td>
<td align="left">
    print multiple pages per sheet
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/html2ps" target="_top">
<code class="literal">html2ps</code> </a> <a class="ulink" href="http://bugs.debian.org/html2ps" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=html2ps" target="_top">V:0.2, I:1.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/html2ps.html" target="_top">260</a></td>
<td align="left">
    html→ps
    </td>
<td align="left">
    converter from HTML to PostScript
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pdfjam" target="_top">
<code class="literal">pdfjam</code> </a> <a class="ulink" href="http://bugs.debian.org/pdfjam" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pdfjam" target="_top">V:0.2, I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pdfjam.html" target="_top">228</a></td>
<td align="left">
    pdf→pdf
    </td>
<td align="left">
    PDF document conversion tools: <code class="literal">pdf90</code>,
<code class="literal">pdfjoin</code>, and <code class="literal">pdfnup</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gnuhtml2latex" target="_top">
<code class="literal">gnuhtml2latex</code> </a> <a class="ulink" href="http://bugs.debian.org/gnuhtml2latex" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gnuhtml2latex" target="_top">V:0.09, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gnuhtml2latex.html" target="_top">60</a></td>
<td align="left">
    html→latex
    </td>
<td align="left">
    converter from html to latex
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/latex2rtf" target="_top">
<code class="literal">latex2rtf</code> </a> <a class="ulink" href="http://bugs.debian.org/latex2rtf" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=latex2rtf" target="_top">V:0.16, I:1.0</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/latex2rtf.html" target="_top">508</a></td>
<td align="left">
    latex→rtf
    </td>
<td align="left">
    convert documents from LaTeX to RTF which can be read by MS Word
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ps2eps" target="_top">
<code class="literal">ps2eps</code> </a> <a class="ulink" href="http://bugs.debian.org/ps2eps" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ps2eps" target="_top">V:1.2, I:12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/ps2eps.html" target="_top">116</a></td>
<td align="left">
    ps→eps
    </td>
<td align="left">
    converter from PostScript to EPS (Encapsulated PostScript)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/e2ps" target="_top"> <code class="literal">e2ps</code>
</a> <a class="ulink" href="http://bugs.debian.org/e2ps" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=e2ps" target="_top">V:0.01, I:0.10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/e2ps.html" target="_top">188</a></td>
<td align="left">
    text→ps
    </td>
<td align="left">
    Text to PostScript converter with Japanese encoding support
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/impose+" target="_top">
<code class="literal">impose+</code> </a> <a class="ulink" href="http://bugs.debian.org/impose+" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=impose+" target="_top">V:0.04, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/impose+.html" target="_top">180</a></td>
<td align="left">
    ps→ps
    </td>
<td align="left">
    PostScript utilities
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/trueprint" target="_top">
<code class="literal">trueprint</code> </a> <a class="ulink" href="http://bugs.debian.org/trueprint" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=trueprint" target="_top">V:0.02, I:0.13</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/trueprint.html" target="_top">188</a></td>
<td align="left">
    text→ps
    </td>
<td align="left">
    pretty print many source codes (C, C++, Java, Pascal, Perl, Pike, Sh, and
Verilog) to PostScript. (C language)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pdf2svg" target="_top">
<code class="literal">pdf2svg</code> </a> <a class="ulink" href="http://bugs.debian.org/pdf2svg" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pdf2svg" target="_top">V:0.09, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pdf2svg.html" target="_top">60</a></td>
<td align="left">
    ps→svg
    </td>
<td align="left">
    converter from PDF to <a class="ulink" href="http://ru.wikipedia.org/wiki/SVG" target="_top">Scalable vector
graphics</a> format
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pdftoipe" target="_top">
<code class="literal">pdftoipe</code> </a> <a class="ulink" href="http://bugs.debian.org/pdftoipe" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pdftoipe" target="_top">V:0.03, I:0.17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pdftoipe.html" target="_top">88</a></td>
<td align="left">
    ps→ipe
    </td>
<td align="left">
    converter from PDF to IPE's XML format
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_printing_with_cups"></a>11.3.4. Printing with CUPS</h3></div></div></div>
<p>Both <code class="literal">lp</code>(1) and <code class="literal">lpr</code>(1) commands offered
by <a class="ulink" href="http://ru.wikipedia.org/wiki/Common_UNIX_Printing_System" target="_top">Common Unix Printing System
(CUPS)</a> provides options for customized printing the printable data.</p>
<p>You can print 3 copies of a file collated using one of the following
commands.</p>
<pre class="screen">$ lp -n 3 -o Collate=True имя_файла</pre>
<pre class="screen">$ lpr -#3 -o Collate=True имя_файла</pre>
<p>You can further customize printer operation by using printer option such as
"<code class="literal">-o number-up=2</code>", "<code class="literal">-o page-set=even</code>",
"<code class="literal">-o page-set=odd</code>", "<code class="literal">-o scaling=200</code>",
"<code class="literal">-o natural-scaling=200</code>", etc., documented at <a class="ulink" href="http://localhost:631/help/options.html" target="_top">Command-Line Printing and
Options</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_type_setting"></a>11.4. Набор и оформление текста</h2></div></div></div>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/Troff" target="_top">troff</a> -- программа из системы Unix,
разработанная в AT&amp;T, может использоваться для простого оформления
текста. Обычно именно с её помощью создаются man-страницы.</p>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/TeX" target="_top">TeX</a>, созданный Дональдом Кнутом -- очень мощное
средство вёрстки и стандарт де-факто. <a class="ulink" href="http://ru.wikipedia.org/wiki/LaTeX" target="_top">LaTeX</a>,
первоначально написанный Лессли Лампортом, делает мощь TeХ доступной через
высокоуровневые средства.</p>
<div class="table">
<a name="listoftypesettingtools"></a><p class="title"><b>Таблица 11.14. Список средств вёрстки</b></p>
<div class="table-contents"><table summary="Список средств вёрстки" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/texlive" target="_top">
<code class="literal">texlive</code> </a> <a class="ulink" href="http://bugs.debian.org/texlive" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=texlive" target="_top">V:0.5, I:10</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/texlive.html" target="_top">124</a></td>
<td align="left">
    (La)TeX
    </td>
<td align="left">
    Система TeX для вёрстки, предварительного просмотра и печати
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/groff" target="_top"> <code class="literal">groff</code>
</a> <a class="ulink" href="http://bugs.debian.org/groff" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=groff" target="_top">V:0.9, I:7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/groff.html" target="_top">9116</a></td>
<td align="left">
    troff
    </td>
<td align="left">
    Средство форматирования текста из GNU
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_roff_typesetting"></a>11.4.1. Использование roff</h3></div></div></div>
<p>Традиционно, <a class="ulink" href="http://en.wikipedia.org/wiki/Roff" target="_top">roff</a> -- основная система обработки
текста в Unix. См. <code class="literal">roff</code>(7), <code class="literal">groff</code>(7),
<code class="literal">groff</code>(1), <code class="literal">grotty</code>(1),
<code class="literal">troff</code>(1), <code class="literal">groff_mdoc</code>(7),
<code class="literal">groff_man</code>(7), <code class="literal">groff_ms</code>(7),
<code class="literal">groff_me</code>(7), <code class="literal">groff_mm</code>(7) и
"<code class="literal">info groff</code>".</p>
<p>Вы можете прочитать или распечатать отличное руководство и справочник по
пакету "<code class="literal">-me</code>" с <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%BA%D1%80%D0%BE%D1%81" target="_top">макросами</a> в
"<code class="literal">/usr/share/doc/groff/</code>". Они находятся в пакете
<code class="literal">groff</code>.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Команда "<code class="literal">groff -Tascii -me -</code>" выводит простой текст
вместе с <a class="ulink" href="http://en.wikipedia.org/wiki/ANSI_escape_code" target="_top">кодами ANSI (escape
codes)</a>. Если вы хотите получить вывод в стиле man-страницы (с кучей
"^H" и "_"), пользуйтесь "<code class="literal">GROFF_NO_SGR=1 groff -Tascii -me
-</code>".</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>А удалить все "^H" и "_" из текста, выданного <code class="literal">groff</code>,
можно фильтром "<code class="literal">col -b -x</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_tex_latex"></a>11.4.2. TeX/LaTeX</h3></div></div></div>
<p>Дистрибутив <a class="ulink" href="http://ru.wikipedia.org/wiki/TeX_Live" target="_top">TeX Live</a> предоставляет
полноценную систему TeX. Мета-пакет <code class="literal">texlive</code> включает
хорошую подборку пакетов из <a class="ulink" href="http://ru.wikipedia.org/wiki/TeX_Live" target="_top">TeX Live</a>,
достаточную для большинства обычных задач.</p>
<p>Документации по <a class="ulink" href="http://ru.wikipedia.org/wiki/TeX" target="_top">TeX</a> и <a class="ulink" href="http://ru.wikipedia.org/wiki/LaTeX" target="_top">LaTeX</a> предостаточно:</p>
<div class="itemizedlist"><ul type="disc">
<li>
              <a class="ulink" href="http://www.tldp.org/HOWTO/TeTeX-HOWTO.html" target="_top">The teTeX HOWTO: The
Linux-teTeX Local Guide</a>
            </li>
<li>
<code class="literal">tex</code>(1)
</li>
<li>
<code class="literal">latex</code>(1)
</li>
<li>
"The TeXbook", by Donald E. Knuth, (Addison-Wesley)
</li>
<li>
"LaTeX - A Document Preparation System", by Leslie Lamport, (Addison-Wesley)
</li>
<li>
"The LaTeX Companion", by Goossens, Mittelbach, Samarin, (Addison-Wesley)
</li>
</ul></div>
<p>This is the most powerful typesetting environment.  Many <a class="ulink" href="http://ru.wikipedia.org/wiki/SGML" target="_top">SGML</a> processors use this as their back end text
processor.  <a class="ulink" href="http://en.wikipedia.org/wiki/Lyx" target="_top">Lyx</a> provided by the
<code class="literal">lyx</code> package and <a class="ulink" href="http://ru.wikipedia.org/wiki/GNU_TeXmacs" target="_top">GNU
TeXmacs</a> provided by the <code class="literal">texmacs</code> package offer
nice <a class="ulink" href="http://ru.wikipedia.org/wiki/WYSIWYG" target="_top">WYSIWYG</a> editing environment for <a class="ulink" href="http://ru.wikipedia.org/wiki/LaTeX" target="_top">LaTeX</a> while many use <a class="ulink" href="http://ru.wikipedia.org/wiki/Emacs" target="_top">Emacs</a> and <a class="ulink" href="http://ru.wikipedia.org/wiki/Vim" target="_top">Vim</a> as the choice
for the source editor.</p>
<p>А вот ресурсы, доступные в Сети:</p>
<div class="itemizedlist"><ul type="disc">
<li>
The TEX Live Guide - TEX Live 2007
("<code class="literal">/usr/share/doc/texlive-doc-base/english/texlive-en/live.html</code>")
(<code class="literal">texlive-doc-base</code> package)
</li>
<li>
              <a class="ulink" href="http://www.stat.rice.edu/~helpdesk/howto/lyxguide.html" target="_top">A Simple Guide to Latex/Lyx</a>
            </li>
<li>
              <a class="ulink" href="http://www-h.eng.cam.ac.uk/help/tpl/textprocessing/latex_basic/latex_basic.html" target="_top">Word Processing Using LaTeX</a>
            </li>
<li>
              <a class="ulink" href="http://supportweb.cs.bham.ac.uk/documentation/LaTeX/lguide/local-guide/local-guide.html" target="_top">Local User Guide to
teTeX/LaTeX</a>
            </li>
</ul></div>
<p>When documents become bigger, sometimes TeX may cause errors.  You must
increase pool size in "<code class="literal">/etc/texmf/texmf.cnf</code>" (or more
appropriately edit "<code class="literal">/etc/texmf/texmf.d/95NonPath</code>" and run
<code class="literal">update-texmf</code>(8)) to fix this.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Исходный текст книги "The TeXbook" доступен здесь: <a class="ulink" href="http://tug.ctan.org/tex-archive/systems/knuth/dist/tex/texbook.tex" target="_top">http://tug.ctan.org/tex-archive/systems/knuth/dist/tex/texbook.tex</a>.</p>
</div>
<p>В этом файле используется большинство основных конструкций TeX
(макросов). Говорят, что можно скомпилировать книгу с помощью
<code class="literal">tex</code>(1), всего лишь закомментировав строки с 7 по 10 и
добавив строчку "<code class="literal">\input manmac
\proofmodefalse</code>". Настоятельно рекомендуется купить эту книгу (и
все другие книги Дональда Кнута), вместо того, чтобы читать всего лишь её
online-версию, однако её исходный текст -- великолепный пример набора на
TeX!</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_pretty_print_a_manual_page"></a>11.4.3. Как красиво распечатать man-страницу</h3></div></div></div>
<p>Вы можете красиво распечатать man-страницу с помощью PostScript одной из
таких команд:</p>
<pre class="screen">$ man -Tps man-страница | lpr</pre>
<pre class="screen">$ man -Tps man-страница | mpage -2 | lpr</pre>
<p>Последняя команда печатает 2 страницы на одном листе.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_creating_a_manual_page"></a>11.4.4. Создание man-страницы</h3></div></div></div>
<p>Хотя и возможно написать man-страницу, имея лишь <a class="ulink" href="http://en.wikipedia.org/wiki/Troff" target="_top">troff</a>, обычно это делают с помощью вспомогательных
пакетов.</p>
<div class="table">
<a name="listofpackagestoeatingthemanpage"></a><p class="title"><b>Таблица 11.15. Список вспомогательных пакетов для создания man-страницы</b></p>
<div class="table-contents"><table summary="Список вспомогательных пакетов для создания man-страницы" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/docbook-to-man" target="_top">
<code class="literal">docbook-to-man</code> </a> <a class="ulink" href="http://bugs.debian.org/docbook-to-man" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=docbook-to-man" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/docbook-to-man.html" target="_top">240</a></td>
<td align="left">
    SGML→manpage
    </td>
<td align="left">
    конвертер из DocBook SGML в макросы roff для man
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/help2man" target="_top">
<code class="literal">help2man</code> </a> <a class="ulink" href="http://bugs.debian.org/help2man" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=help2man" target="_top">V:0.14, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/h/help2man.html" target="_top">376</a></td>
<td align="left">
    text→manpage
    </td>
<td align="left">
    автоматический генератор man-страниц на основе вывода по ключу --help
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/info2man" target="_top">
<code class="literal">info2man</code> </a> <a class="ulink" href="http://bugs.debian.org/info2man" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=info2man" target="_top">V:0.02, I:0.14</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/info2man.html" target="_top">204</a></td>
<td align="left">
    info→manpage
    </td>
<td align="left">
    конвертер из GNU info в POD или в man-страницы
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/txt2man" target="_top">
<code class="literal">txt2man</code> </a> <a class="ulink" href="http://bugs.debian.org/txt2man" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=txt2man" target="_top">V:0.03, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/txt2man.html" target="_top">88</a></td>
<td align="left">
    text→manpage
    </td>
<td align="left">
    конвертирует "плоский" текст ASCII в формат man-страницы
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_mail_data_conversion"></a>11.5. Преобразование почтовых данных</h2></div></div></div>
<p>Вот список пакетов для преобразования почтовых файлов различных форматов:</p>
<div class="table">
<a name="listofpackagestoildataconversion"></a><p class="title"><b>Таблица 11.16. Список пакетов для преобразования почтовых данных</b></p>
<div class="table-contents"><table summary="Список пакетов для преобразования почтовых данных" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/sharutils" target="_top">
<code class="literal">sharutils</code> </a> <a class="ulink" href="http://bugs.debian.org/sharutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=sharutils" target="_top">V:2, I:35</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/sharutils.html" target="_top">904</a></td>
<td align="left">
    mail
    </td>
<td align="left">
<code class="literal">shar</code>(1), <code class="literal">unshar</code>(1),
<code class="literal">uuencode</code>(1), <code class="literal">uudecode</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mpack" target="_top"> <code class="literal">mpack</code>
</a> <a class="ulink" href="http://bugs.debian.org/mpack" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mpack" target="_top">V:1.6, I:26</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mpack.html" target="_top">84</a></td>
<td align="left">
    MIME
    </td>
<td align="left">
    кодировщик/декодировщик <a class="ulink" href="http://ru.wikipedia.org/wiki/MIME" target="_top">MIME</a>-сообщений:
<code class="literal">mpack</code>(1) и <code class="literal">munpack</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tnef" target="_top"> <code class="literal">tnef</code>
</a> <a class="ulink" href="http://bugs.debian.org/tnef" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tnef" target="_top">V:0.8, I:1.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tnef.html" target="_top">164</a></td>
<td align="left">
    ms-tnef
    </td>
<td align="left">
    распаковщик вложений <a class="ulink" href="http://ru.wikipedia.org/wiki/MIME" target="_top">MIME</a> типа
"application/ms-tnef", используемых только в форматах Microsoft
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/uudeview" target="_top">
<code class="literal">uudeview</code> </a> <a class="ulink" href="http://bugs.debian.org/uudeview" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=uudeview" target="_top">V:0.18, I:1.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/uudeview.html" target="_top">132</a></td>
<td align="left">
    mail
    </td>
<td align="left">
    кодировщик/декодировщик форматов: <a class="ulink" href="http://ru.wikipedia.org/wiki/UUE" target="_top">uuencode</a>,
<a class="ulink" href="http://en.wikipedia.org/wiki/Xxencode" target="_top">xxencode</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Base64" target="_top">BASE64</a>, <a class="ulink" href="http://en.wikipedia.org/wiki/Quoted-printable" target="_top">quoted
printable</a> и <a class="ulink" href="http://en.wikipedia.org/wiki/BinHex" target="_top">BinHex</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/readpst" target="_top">
<code class="literal">readpst</code> </a> <a class="ulink" href="http://bugs.debian.org/readpst" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=readpst" target="_top">V:0.04, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/readpst.html" target="_top">228</a></td>
<td align="left">
    PST
    </td>
<td align="left">
    конвертер файлов Microsoft <a class="ulink" href="http://en.wikipedia.org/wiki/Personal_Folders_(.pst)_file" target="_top">Outlook
PST</a> в формат <a class="ulink" href="http://en.wikipedia.org/wiki/Mbox" target="_top">mbox</a>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>С помощью сервера <a class="ulink" href="http://ru.wikipedia.org/wiki/IMAP" target="_top">IMAP4</a>
(см. <a class="xref" href="#_pop3_imap4_server" title="6.7. Сервер POP3/IMAP4">Раздел 6.7, «Сервер POP3/IMAP4»</a>) можно переместить почту из
проприетарных почтовых систем, если только почтовый клиент поддерживает
IMAP4.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_mail_data_basics"></a>11.5.1. Основные сведения о почтовых данных</h3></div></div></div>
<p>Почта (<a class="ulink" href="http://ru.wikipedia.org/wiki/SMTP" target="_top">SMTP</a>) должна кодироваться 7-битной
кодировкой. Так что двоичные данные и 8-битные текстовые данные
перекодируются с помощью <a class="ulink" href="http://ru.wikipedia.org/wiki/MIME" target="_top">MIME</a> и выбора кодировки
(см. <a class="xref" href="#_basics_of_encoding" title="8.3.1. Основные сведения о кодировке">Раздел 8.3.1, «Основные сведения о кодировке»</a>).</p>
<p>Стандартный формат хранения почты, в соответствии с <a class="ulink" href="http://tools.ietf.org/html/rfc2822" target="_top">RFC2822 (обновлено RFC822)</a> --
mbox. См. <code class="literal">mbox</code>(5) (из пакета <code class="literal">mutt</code>).</p>
<p>Для европейских языков используется набор символов ISO-8859-1 и кодировка
"<code class="literal">Content-Transfer-Encoding: quoted-printable</code>"; здесь не
так много 8-битных символов. Даже если такой текст написан в UTF-8, он уже
почти целиком 7-битный, так что "<code class="literal">quoted-printable</code>"
подходит.</p>
<p>For Japanese, traditionally "<code class="literal">Content-Type: text/plain;
charset=ISO-2022-JP</code>" is usually used for mail to keep text in 7
bits.  But older Microsoft systems may send mail data in Shift-JIS without
proper declaration.  If Japanese text is encoded in UTF-8, <a class="ulink" href="http://ru.wikipedia.org/wiki/Base64" target="_top">Base64</a> is likely to be used since it contains many 8
bit data.  The situation of other Asian languages is similar.</p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>If your non-Unix mail data is accessible by a non-Debian client software
which can talk to the IMAP4 server, you may be able to move them out by
running your own IMAP4 server (see <a class="xref" href="#_pop3_imap4_server" title="6.7. Сервер POP3/IMAP4">Раздел 6.7, «Сервер POP3/IMAP4»</a>).</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Если вы используете другие форматы хранения почты, перевод её в формат mbox
будет хорошим первым шагом. Гибкая почтовая программа вроде
<code class="literal">mutt</code>(1) с этим справится.</p>
</div>
<p>Вы можете разбить содержимое ящика (mailbox) на отдельные сообщения с
помощью <code class="literal">procmail</code>(1) и <code class="literal">formail</code>(1).</p>
<p>Каждое почтовое сообщение может быть распаковано с помощью
<code class="literal">munpack</code>(1) из пакета <code class="literal">mpack</code> (или других
специальных средств) для извлечения закодированного в MIME содержимого.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_graphic_data_tools"></a>11.6. Средства для работы с графикой</h2></div></div></div>
<p>Вот список различных средств для преобразования и редактирования графических
файлов.</p>
<div class="table">
<a name="listofgraphicdatatools"></a><p class="title"><b>Таблица 11.17. Список средств для работы с графикой</b></p>
<div class="table-contents"><table summary="Список средств для работы с графикой" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gimp" target="_top"> <code class="literal">gimp</code>
</a> <a class="ulink" href="http://bugs.debian.org/gimp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gimp" target="_top">V:12, I:44</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gimp.html" target="_top">13560</a></td>
<td align="left">
    image(bitmap)
    </td>
<td align="left">
    Гимп -- растровый графический редактор GNU
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/imagemagick" target="_top">
<code class="literal">imagemagick</code> </a> <a class="ulink" href="http://bugs.debian.org/imagemagick" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=imagemagick" target="_top">V:18, I:34</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/imagemagick.html" target="_top">316</a></td>
<td align="left">
    image(bitmap)
    </td>
<td align="left">
    программы автоматизированной обработки изображений
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/graphicsmagick" target="_top">
<code class="literal">graphicsmagick</code> </a> <a class="ulink" href="http://bugs.debian.org/graphicsmagick" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=graphicsmagick" target="_top">V:1.7, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/graphicsmagick.html" target="_top">4532</a></td>
<td align="left">
    image(bitmap)
    </td>
<td align="left">
    программы обработки изображений (ответвление от
<code class="literal">imagemagick</code>)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xsane" target="_top"> <code class="literal">xsane</code>
</a> <a class="ulink" href="http://bugs.debian.org/xsane" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xsane" target="_top">V:5, I:36</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xsane.html" target="_top">748</a></td>
<td align="left">
    image(bitmap)
    </td>
<td align="left">
    интерфейс для SANE (Scanner Access Now Easy), на GTK+
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/netpbm" target="_top">
<code class="literal">netpbm</code> </a> <a class="ulink" href="http://bugs.debian.org/netpbm" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=netpbm" target="_top">V:3, I:27</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/n/netpbm.html" target="_top">4612</a></td>
<td align="left">
    image(bitmap)
    </td>
<td align="left">
    средства преобразования графики
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/icoutils" target="_top">
<code class="literal">icoutils</code> </a> <a class="ulink" href="http://bugs.debian.org/icoutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=icoutils" target="_top">V:0.2, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/icoutils.html" target="_top">200</a></td>
<td align="left">
    png↔ico(bitmap)
    </td>
<td align="left">
    конвертор <a class="ulink" href="http://en.wikipedia.org/wiki/ICO_(icon_image_file_format)" target="_top">значков и курсоров
MS Windows в/из PNG</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/scribus" target="_top">
<code class="literal">scribus</code> </a> <a class="ulink" href="http://bugs.debian.org/scribus" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=scribus" target="_top">V:0.4, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/scribus.html" target="_top">26888</a></td>
<td align="left">
    ps/pdf/SVG/…
    </td>
<td align="left">настольный редактор <a class="ulink" href="http://ru.wikipedia.org/wiki/Scribus" target="_top">Scribus</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/openoffice.org-draw" target="_top">
<code class="literal">openoffice.org-draw</code> </a> <a class="ulink" href="http://bugs.debian.org/openoffice.org-draw" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=openoffice.org-draw" target="_top">V:19, I:40</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/openoffice.org-draw.html" target="_top">10716</a></td>
<td align="left">
    image(vector)
    </td>
<td align="left">
    из набора OpenOffice.org -- рисование
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/inkscape" target="_top">
<code class="literal">inkscape</code> </a> <a class="ulink" href="http://bugs.debian.org/inkscape" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=inkscape" target="_top">V:17, I:31</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/inkscape.html" target="_top">87436</a></td>
<td align="left">
    image(vector)
    </td>
<td align="left">редактор <a class="ulink" href="http://ru.wikipedia.org/wiki/SVG" target="_top">SVG (векторной)
графики</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dia-gnome" target="_top">
<code class="literal">dia-gnome</code> </a> <a class="ulink" href="http://bugs.debian.org/dia-gnome" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dia-gnome" target="_top">V:1.5, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dia-gnome.html" target="_top">576</a></td>
<td align="left">
    image(vector)
    </td>
<td align="left">
    редактор диакграмм для GNOME
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dia" target="_top"> <code class="literal">dia</code>
</a> <a class="ulink" href="http://bugs.debian.org/dia" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dia" target="_top">V:3, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dia.html" target="_top">572</a></td>
<td align="left">
    image(vector)
    </td>
<td align="left">
    редактор диаграмм (на Gtk)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xfig" target="_top"> <code class="literal">xfig</code>
</a> <a class="ulink" href="http://bugs.debian.org/xfig" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xfig" target="_top">V:2, I:4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xfig.html" target="_top">1676</a></td>
<td align="left">
    image(vector)
    </td>
<td align="left">
    средство интерактивного построения фигур для X11
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pstoedit" target="_top">
<code class="literal">pstoedit</code> </a> <a class="ulink" href="http://bugs.debian.org/pstoedit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pstoedit" target="_top">V:1.8, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pstoedit.html" target="_top">708</a></td>
<td align="left">
    ps/pdf→image(vector)
    </td>
<td align="left">
    конвертер из PostScript и PDF в SVG (редактируемая векторная графика)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libwmf-bin" target="_top">
<code class="literal">libwmf-bin</code> </a> <a class="ulink" href="http://bugs.debian.org/libwmf-bin" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libwmf-bin" target="_top">V:1.0, I:12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libw/libwmf-bin.html" target="_top">68</a></td>
<td align="left">
    Windows/image(vector)
    </td>
<td align="left">
    Windows metafile (vector graphic data) conversion tools
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fig2sxd" target="_top">
<code class="literal">fig2sxd</code> </a> <a class="ulink" href="http://bugs.debian.org/fig2sxd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fig2sxd" target="_top">V:0.03, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fig2sxd.html" target="_top">200</a></td>
<td align="left">
    fig→sxd(vector)
    </td>
<td align="left">
    конвертер из формата XFig в формат OpenOffice.org Draw
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/unpaper" target="_top">
<code class="literal">unpaper</code> </a> <a class="ulink" href="http://bugs.debian.org/unpaper" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=unpaper" target="_top">V:0.2, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/u/unpaper.html" target="_top">736</a></td>
<td align="left">
    image→image
    </td>
<td align="left">
    средство обработки отсканированных изображений для <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9E%D0%BF%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D1%80%D0%B0%D1%81%D0%BF%D0%BE%D0%B7%D0%BD%D0%B0%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D0%BE%D0%B2" target="_top">OCR</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tesseract-ocr" target="_top">
<code class="literal">tesseract-ocr</code> </a> <a class="ulink" href="http://bugs.debian.org/tesseract-ocr" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tesseract-ocr" target="_top">V:0.6, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tesseract-ocr.html" target="_top">3196</a></td>
<td align="left">
    image→text
    </td>
<td align="left">
    free <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9E%D0%BF%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D1%80%D0%B0%D1%81%D0%BF%D0%BE%D0%B7%D0%BD%D0%B0%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D0%BE%D0%B2" target="_top">OCR</a> software based on the HP's commercial
OCR engine
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tesseract-ocr-eng" target="_top">
<code class="literal">tesseract-ocr-eng</code> </a> <a class="ulink" href="http://bugs.debian.org/tesseract-ocr-eng" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tesseract-ocr-eng" target="_top">V:0.2, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tesseract-ocr-eng.html" target="_top">1752</a></td>
<td align="left">
    image→text
    </td>
<td align="left">
    OCR engine data: tesseract-ocr language files for English text
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gocr" target="_top"> <code class="literal">gocr</code>
</a> <a class="ulink" href="http://bugs.debian.org/gocr" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gocr" target="_top">V:0.8, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gocr.html" target="_top">492</a></td>
<td align="left">
    image→text
    </td>
<td align="left">
    free OCR software
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ocrad" target="_top"> <code class="literal">ocrad</code>
</a> <a class="ulink" href="http://bugs.debian.org/ocrad" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ocrad" target="_top">V:0.5, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/ocrad.html" target="_top">364</a></td>
<td align="left">
    image→text
    </td>
<td align="left">
    free OCR software
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gtkam" target="_top"> <code class="literal">gtkam</code>
</a> <a class="ulink" href="http://bugs.debian.org/gtkam" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gtkam" target="_top">V:0.2, I:1.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gtkam.html" target="_top">1100</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    средство обработки фотоизображений, полученных на цифровую камеры; для GNOME
(GUI)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gphoto2" target="_top">
<code class="literal">gphoto2</code> </a> <a class="ulink" href="http://bugs.debian.org/gphoto2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gphoto2" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gphoto2.html" target="_top">744</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    средство обработки фотоизображений, полученных на цифровую камеры; для GNOME
(консольное)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kamera" target="_top">
<code class="literal">kamera</code> </a> <a class="ulink" href="http://bugs.debian.org/kamera" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kamera" target="_top">V:0.7, I:14</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kamera.html" target="_top">312</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    средство обработки фотоизображений, полученных на цифровую камеры; для KDE
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/jhead" target="_top"> <code class="literal">jhead</code>
</a> <a class="ulink" href="http://bugs.debian.org/jhead" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=jhead" target="_top">V:0.6, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/j/jhead.html" target="_top">132</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    manipulate the non-image part of Exif compliant JPEG (digital camera photo)
files
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exif" target="_top"> <code class="literal">exif</code>
</a> <a class="ulink" href="http://bugs.debian.org/exif" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exif" target="_top">V:0.2, I:1.6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exif.html" target="_top">184</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    command-line utility to show EXIF information in JPEG files
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exiftags" target="_top">
<code class="literal">exiftags</code> </a> <a class="ulink" href="http://bugs.debian.org/exiftags" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exiftags" target="_top">V:0.14, I:1.0</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exiftags.html" target="_top">248</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    utility to read Exif tags from a digital camera JPEG file
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exiftran" target="_top">
<code class="literal">exiftran</code> </a> <a class="ulink" href="http://bugs.debian.org/exiftran" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exiftran" target="_top">V:0.3, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exiftran.html" target="_top">56</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    transform digital camera jpeg images
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exifprobe" target="_top">
<code class="literal">exifprobe</code> </a> <a class="ulink" href="http://bugs.debian.org/exifprobe" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exifprobe" target="_top">V:0.07, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exifprobe.html" target="_top">484</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    просмотр метаданных цифровых изображений
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dcraw" target="_top"> <code class="literal">dcraw</code>
</a> <a class="ulink" href="http://bugs.debian.org/dcraw" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dcraw" target="_top">V:0.8, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dcraw.html" target="_top">444</a></td>
<td align="left">
    image(Raw)→ppm
    </td>
<td align="left">
    перекодировка "сырых" (raw) изображений с цифровой камеры
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/findimagedupes" target="_top">
<code class="literal">findimagedupes</code> </a> <a class="ulink" href="http://bugs.debian.org/findimagedupes" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=findimagedupes" target="_top">V:0.06, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/findimagedupes.html" target="_top">140</a></td>
<td align="left">
    image→fingerprint
    </td>
<td align="left">
    визуальный автоматический поиск похожих или одинаковых изображений
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ale" target="_top"> <code class="literal">ale</code>
</a> <a class="ulink" href="http://bugs.debian.org/ale" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ale" target="_top">V:0.02, I:0.17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/ale.html" target="_top">768</a></td>
<td align="left">
    image→image
    </td>
<td align="left">
    объединение изображений для повышения точности или создания мозаики
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/imageindex" target="_top">
<code class="literal">imageindex</code> </a> <a class="ulink" href="http://bugs.debian.org/imageindex" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=imageindex" target="_top">V:0.04, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/imageindex.html" target="_top">192</a></td>
<td align="left">
    image(Exif)→html
    </td>
<td align="left">
    генератор статичных HTML-станиц с галереями изображений
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/f-spot" target="_top">
<code class="literal">f-spot</code> </a> <a class="ulink" href="http://bugs.debian.org/f-spot" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=f-spot" target="_top">V:0.5, I:1.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/f-spot.html" target="_top">9488</a></td>
<td align="left">
    image(Exif)
    </td>
<td align="left">
    фотоорганайзер для GNOME
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bins" target="_top"> <code class="literal">bins</code>
</a> <a class="ulink" href="http://bugs.debian.org/bins" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bins" target="_top">V:0.03, I:0.17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bins.html" target="_top">2008</a></td>
<td align="left">
    image(Exif)→html
    </td>
<td align="left">
    генератор статичных HTML-страниц с фотоальбомами; используется XML и тэги
EXIF
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gallery2" target="_top">
<code class="literal">gallery2</code> </a> <a class="ulink" href="http://bugs.debian.org/gallery2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gallery2" target="_top">V:0.2, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gallery2.html" target="_top">62548</a></td>
<td align="left">
    image(Exif)→html
    </td>
<td align="left">
    generate browsable HTML photo albums with thumbnails
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/outguess" target="_top">
<code class="literal">outguess</code> </a> <a class="ulink" href="http://bugs.debian.org/outguess" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=outguess" target="_top">V:0.02, I:0.14</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/outguess.html" target="_top">252</a></td>
<td align="left">
    jpeg,png
    </td>
<td align="left">
    универсальное средство для <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B5%D0%B3%D0%B0%D0%BD%D0%BE%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%8F" target="_top">стеганографии</a>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/qcad" target="_top"> <code class="literal">qcad</code>
</a> <a class="ulink" href="http://bugs.debian.org/qcad" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=qcad" target="_top">V:1.6, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/q/qcad.html" target="_top">3948</a></td>
<td align="left">
    DXF
    </td>
<td align="left">
    редактор данных CAD для KDE
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/blender" target="_top">
<code class="literal">blender</code> </a> <a class="ulink" href="http://bugs.debian.org/blender" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=blender" target="_top">V:0.5, I:3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/blender.html" target="_top">28336</a></td>
<td align="left">
    blend, TIFF, VRML, …
    </td>
<td align="left">
    набор средств редактирования 3D для анимации и т.п.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mm3d" target="_top"> <code class="literal">mm3d</code>
</a> <a class="ulink" href="http://bugs.debian.org/mm3d" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mm3d" target="_top">V:0.03, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mm3d.html" target="_top">4536</a></td>
<td align="left">
    ms3d, obj, dxf, …
    </td>
<td align="left">
    редактор 3D моделей; на OpenGL
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/open-font-design-toolkit" target="_top">
<code class="literal">open-font-design-toolkit</code> </a> <a class="ulink" href="http://bugs.debian.org/open-font-design-toolkit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=open-font-design-toolkit" target="_top">I:0.02</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/o/open-font-design-toolkit.html" target="_top">36</a></td>
<td align="left">
    ttf, ps, …
    </td>
<td align="left">
    метапакет для разработки открытых шрифтов
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fontforge" target="_top">
<code class="literal">fontforge</code> </a> <a class="ulink" href="http://bugs.debian.org/fontforge" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fontforge" target="_top">V:0.2, I:1.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fontforge.html" target="_top">6436</a></td>
<td align="left">
    ttf, ps, …
    </td>
<td align="left">
    редактор шрифтов в форматах PS, TrueType и OpenType
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xgridfit" target="_top">
<code class="literal">xgridfit</code> </a> <a class="ulink" href="http://bugs.debian.org/xgridfit" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xgridfit" target="_top">V:0.00, I:0.06</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xgridfit.html" target="_top">1060</a></td>
<td align="left">
    ttf
    </td>
<td align="left">
    program for <span class="strong"><strong>gridfitting</strong></span> and <span class="strong"><strong>hinting</strong></span> TrueType fonts
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gbdfed" target="_top">
<code class="literal">gbdfed</code> </a> <a class="ulink" href="http://bugs.debian.org/gbdfed" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gbdfed" target="_top">V:0.01, I:0.11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gbdfed.html" target="_top">496</a></td>
<td align="left">
    bdf
    </td>
<td align="left">
    редактор шрифтов в формате BDF
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Вы можете найти больше средств для работы с графикой, используя для поиска в
<code class="literal">aptitude</code>(8) регулярное выражение
"<code class="literal">~Gworks-with::image</code>" (см. <a class="xref" href="#_search_method_options_with_aptitude" title="2.2.6. Методы поиска в aptitude">Раздел 2.2.6, «Методы поиска в aptitude»</a>).</p>
</div>
<p>Хотя программы с оконным интерфейсом вроде <code class="literal">gimp</code>(1) очень
мощные, средства для командной строки, такие как
<code class="literal">imagemagick</code>(1), чрезвычайно полезны для
автоматизированной обработки изображений в сценариях.</p>
<p>The de facto image file format of the digital camera is the <a class="ulink" href="http://ru.wikipedia.org/wiki/EXIF" target="_top">Exchangeable Image File Format</a>
(EXIF) which is the <a class="ulink" href="http://ru.wikipedia.org/wiki/JPEG" target="_top">JPEG</a> image file format with
additional metadata tags.  It can hold information such as date, time, and
camera settings.</p>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%9B%D0%B5%D0%BC%D0%BF%D0%B5%D0%BB%D1%8F_%E2%80%94_%D0%97%D0%B8%D0%B2%D0%B0_%E2%80%94_%D0%92%D0%B5%D0%BB%D1%87%D0%B0" target="_top">The Lempel-Ziv-Welch (LZW)
lossless data compression</a> patent has been expired.  <a class="ulink" href="http://ru.wikipedia.org/wiki/GIF" target="_top">Graphics Interchange Format
(GIF)</a> utilities which use the LZW compression method are now freely
available on the Debian system.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Any digital camera or scanner with removable recording media works with
Linux through <a class="ulink" href="http://ru.wikipedia.org/wiki/USB_%D1%84%D0%BB%D1%8D%D1%88-%D0%BD%D0%B0%D0%BA%D0%BE%D0%BF%D0%B8%D1%82%D0%B5%D0%BB%D1%8C" target="_top">USB storage</a> readers since it
follows the <a class="ulink" href="http://en.wikipedia.org/wiki/Design_rule_for_Camera_File_system" target="_top">Design rule for
Camera Filesystem</a> and uses <a class="ulink" href="http://ru.wikipedia.org/wiki/File_Allocation_Table" target="_top">FAT</a>
filesystem. See <a class="xref" href="#_removable_storage_device" title="10.1.10. Съёмные устройства хранения данных">Раздел 10.1.10, «Съёмные устройства хранения данных»</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_miscellaneous_data_conversion"></a>11.7. Различные средства преобразования данных</h2></div></div></div>
<p>Есть и много других программ для преобразования данных. Вот таки пакеты мне
нашёл <code class="literal">aptitude</code>(8) по строчке
"<code class="literal">~Guse::converting</code>" (см. <a class="xref" href="#_search_method_options_with_aptitude" title="2.2.6. Методы поиска в aptitude">Раздел 2.2.6, «Методы поиска в aptitude»</a>).</p>
<div class="table">
<a name="listofmiscellaneaconversiontools"></a><p class="title"><b>Таблица 11.18. Преобразование различных данных</b></p>
<div class="table-contents"><table summary="Преобразование различных данных" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/alien" target="_top"> <code class="literal">alien</code>
</a> <a class="ulink" href="http://bugs.debian.org/alien" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=alien" target="_top">V:1.2, I:11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/alien.html" target="_top">244</a></td>
<td align="left">
    rpm/tgz→deb
    </td>
<td align="left">
    конвертер чужеродных пакетов в пакеты Debian
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/freepwing" target="_top">
<code class="literal">freepwing</code> </a> <a class="ulink" href="http://bugs.debian.org/freepwing" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=freepwing" target="_top">V:0.00, I:0.03</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/freepwing.html" target="_top">568</a></td>
<td align="left">
    EB→EPWING
    </td>
<td align="left">
    конвертер популярного в Японии формата "Electric Book" в <a class="ulink" href="http://ja.wikipedia.org/wiki/JIS_X_4081" target="_top">JIS X 4081</a> (поднабор <a class="ulink" href="http://ja.wikipedia.org/wiki/EPWING" target="_top">EPWING</a> V1)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Также вы можете извлечь данные из RPM-файла такой командой:</p>
<pre class="screen">$ rpm2cpio file.src.rpm | cpio --extract</pre>
</div>
</div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_programming"></a>Глава 12. Программирование</h2></div></div></div>
<p>I provide some pointers for people to learn programming on the Debian system
enough to trace the packaged source code.  Here are notable packages and
corresponding documentation packages for programing.</p>
<div class="table">
<a name="listofpackagestohelpprograming"></a><p class="title"><b>Таблица 12.1. Пакеты для программирования</b></p>
<div class="table-contents"><table summary="Пакеты для программирования" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    документация
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/autoconf" target="_top">
<code class="literal">autoconf</code> </a> <a class="ulink" href="http://bugs.debian.org/autoconf" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=autoconf" target="_top">V:4, I:26</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/autoconf.html" target="_top">2256</a></td>
<td align="left">
    "<code class="literal">info autoconf</code>" предоставляется пакетом
<code class="literal">autoconf-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/automake" target="_top">
<code class="literal">automake</code> </a> <a class="ulink" href="http://bugs.debian.org/automake" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=automake" target="_top">V:3, I:21</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/automake.html" target="_top">1812</a></td>
<td align="left">
    "<code class="literal">info automake</code>" из <code class="literal">automake1.10-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bash" target="_top"> <code class="literal">bash</code>
</a> <a class="ulink" href="http://bugs.debian.org/bash" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bash" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bash.html" target="_top">3536</a></td>
<td align="left">
    "<code class="literal">info bash</code>" из <code class="literal">bash-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bison" target="_top"> <code class="literal">bison</code>
</a> <a class="ulink" href="http://bugs.debian.org/bison" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bison" target="_top">V:2, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bison.html" target="_top">1504</a></td>
<td align="left">
    "<code class="literal">info bison</code> из <code class="literal">bison-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/cpp" target="_top"> <code class="literal">cpp</code>
</a> <a class="ulink" href="http://bugs.debian.org/cpp" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=cpp" target="_top">V:40, I:82</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/cpp.html" target="_top">76</a></td>
<td align="left">
    "<code class="literal">info cpp</code>" из <code class="literal">cpp-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ddd" target="_top"> <code class="literal">ddd</code>
</a> <a class="ulink" href="http://bugs.debian.org/ddd" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ddd" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/ddd.html" target="_top">3852</a></td>
<td align="left">
    "<code class="literal">info ddd</code>" из <code class="literal">ddd-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/exuberant-ctags" target="_top">
<code class="literal">exuberant-ctags</code> </a> <a class="ulink" href="http://bugs.debian.org/exuberant-ctags" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=exuberant-ctags" target="_top">V:1.1, I:5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/exuberant-ctags.html" target="_top">284</a></td>
<td align="left">
<code class="literal">exuberant-ctags</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/flex" target="_top"> <code class="literal">flex</code>
</a> <a class="ulink" href="http://bugs.debian.org/flex" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=flex" target="_top">V:2, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/flex.html" target="_top">1352</a></td>
<td align="left">
    "<code class="literal">info flex</code>" из <code class="literal">flex-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gawk" target="_top"> <code class="literal">gawk</code>
</a> <a class="ulink" href="http://bugs.debian.org/gawk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gawk" target="_top">V:28, I:32</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gawk.html" target="_top">2172</a></td>
<td align="left">
    "<code class="literal">info gawk</code>" из <code class="literal">gawk-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gcc" target="_top"> <code class="literal">gcc</code>
</a> <a class="ulink" href="http://bugs.debian.org/gcc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gcc" target="_top">V:18, I:68</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gcc.html" target="_top">64</a></td>
<td align="left">
    "<code class="literal">info gcc</code>" из <code class="literal">gcc-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gdb" target="_top"> <code class="literal">gdb</code>
</a> <a class="ulink" href="http://bugs.debian.org/gdb" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gdb" target="_top">V:4, I:23</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gdb.html" target="_top">4812</a></td>
<td align="left">
    "<code class="literal">info gdb</code>" из <code class="literal">gdb-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gettext" target="_top">
<code class="literal">gettext</code> </a> <a class="ulink" href="http://bugs.debian.org/gettext" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gettext" target="_top">V:8, I:47</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gettext.html" target="_top">7272</a></td>
<td align="left">
    "<code class="literal">info gettext</code>" из <code class="literal">gettext-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gfortran" target="_top">
<code class="literal">gfortran</code> </a> <a class="ulink" href="http://bugs.debian.org/gfortran" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gfortran" target="_top">V:1.1, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gfortran.html" target="_top">40</a></td>
<td align="left">
    "<code class="literal">info gfortran</code>" из <code class="literal">gfortran-doc</code>
(Fortran 95)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gpc" target="_top"> <code class="literal">gpc</code>
</a> <a class="ulink" href="http://bugs.debian.org/gpc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gpc" target="_top">V:0.07, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gpc.html" target="_top">40</a></td>
<td align="left">
    "<code class="literal">info gpc</code>" из <code class="literal">gpc-doc</code> (Pascal)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/fpc" target="_top"> <code class="literal">fpc</code>
</a> <a class="ulink" href="http://bugs.debian.org/fpc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=fpc" target="_top">I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/fpc.html" target="_top">40</a></td>
<td align="left">
<code class="literal">fpc</code>(1) и html из <code class="literal">fp-docs</code> (Pascal)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/glade" target="_top"> <code class="literal">glade</code>
</a> <a class="ulink" href="http://bugs.debian.org/glade" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=glade" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/glade.html" target="_top">1652</a></td>
<td align="left">
    help provided via menu (UI Builder)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/glade-gnome" target="_top">
<code class="literal">glade-gnome</code> </a> <a class="ulink" href="http://bugs.debian.org/glade-gnome" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=glade-gnome" target="_top">V:0.09, I:1.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/glade-gnome.html" target="_top">508</a></td>
<td align="left">
    help provided via menu (UI Builder)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libc6" target="_top"> <code class="literal">libc6</code>
</a> <a class="ulink" href="http://bugs.debian.org/libc6" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libc6" target="_top">V:96, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libc/libc6.html" target="_top">10000</a></td>
<td align="left">
    "<code class="literal">info libc</code>" из пакетов <code class="literal">glibc-doc</code> и
<code class="literal">glibc-doc-reference</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/make" target="_top"> <code class="literal">make</code>
</a> <a class="ulink" href="http://bugs.debian.org/make" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=make" target="_top">V:22, I:74</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/make.html" target="_top">1220</a></td>
<td align="left">
    "<code class="literal">info make</code>" из <code class="literal">make-doc</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/xutils-dev" target="_top">
<code class="literal">xutils-dev</code> </a> <a class="ulink" href="http://bugs.debian.org/xutils-dev" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=xutils-dev" target="_top">V:1.8, I:17</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/xutils-dev.html" target="_top">1728</a></td>
<td align="left">
<code class="literal">imake</code>(1), <code class="literal">xmkmf</code>(1), и т.п.
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mawk" target="_top"> <code class="literal">mawk</code>
</a> <a class="ulink" href="http://bugs.debian.org/mawk" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mawk" target="_top">V:66, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mawk.html" target="_top">244</a></td>
<td align="left">
<code class="literal">mawk</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/perl" target="_top"> <code class="literal">perl</code>
</a> <a class="ulink" href="http://bugs.debian.org/perl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=perl" target="_top">V:89, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/perl.html" target="_top">18528</a></td>
<td align="left">
<code class="literal">perl</code>(1) и html-страницы из <code class="literal">perl-doc</code> и
<code class="literal">perl-doc-html</code>
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/python" target="_top">
<code class="literal">python</code> </a> <a class="ulink" href="http://bugs.debian.org/python" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=python" target="_top">V:62, I:97</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/python.html" target="_top">732</a></td>
<td align="left">
<code class="literal">python</code>(1) и html-страницы из
<code class="literal">python-doc</code>
</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tcl8.4" target="_top">
<code class="literal">tcl8.4</code> </a> <a class="ulink" href="http://bugs.debian.org/tcl8.4" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tcl8.4" target="_top">V:7, I:46</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tcl8.4.html" target="_top">3332</a></td>
<td align="left">
<code class="literal">tcl</code>(3) и подробные man-страницы из
<code class="literal">tcl8.4-doc</code>
</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/tk8.4" target="_top"> <code class="literal">tk8.4</code>
</a> <a class="ulink" href="http://bugs.debian.org/tk8.4" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=tk8.4" target="_top">V:5, I:34</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/t/tk8.4.html" target="_top">2712</a></td>
<td align="left">
<code class="literal">tk</code>(3) и подробные man-страницы из
<code class="literal">tk8.4-doc</code>
</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ruby" target="_top"> <code class="literal">ruby</code>
</a> <a class="ulink" href="http://bugs.debian.org/ruby" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ruby" target="_top">V:8, I:24</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/ruby.html" target="_top">120</a></td>
<td align="left">
<code class="literal">ruby</code>(1) и интерактивный справочник из
<code class="literal">ri</code>
</td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/vim" target="_top"> <code class="literal">vim</code>
</a> <a class="ulink" href="http://bugs.debian.org/vim" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=vim" target="_top">V:15, I:33</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/vim.html" target="_top">1832</a></td>
<td align="left">
    меню помощи из пакета <code class="literal">vim-doc</code> доступно по клавише F1
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/susv2" target="_top"> <code class="literal">susv2</code>
</a> <a class="ulink" href="http://bugs.debian.org/susv2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=susv2" target="_top">I:0.03</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/susv2.html" target="_top">48</a></td>
<td align="left">
    получите "<a class="ulink" href="http://www.unix.org/version2/" target="_top">The Single Unix
Specifications v2</a>"
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/susv3" target="_top"> <code class="literal">susv3</code>
</a> <a class="ulink" href="http://bugs.debian.org/susv3" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=susv3" target="_top">I:0.07</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/susv3.html" target="_top">48</a></td>
<td align="left">
    получите "<a class="ulink" href="http://www.unix.org/version3/" target="_top">The Single Unix
Specifications v3</a>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Справка доступна по команде "<code class="literal">man имя_страницы</code>" после
установки пакетов <code class="literal">manpages</code> и
<code class="literal">manpages-dev</code>. Для средств GNU справочники доступны по
команде "<code class="literal">info имя_программы</code>" после установки
соответствующих пакетов с документацией. Вам может потребоваться подключить
архивы <code class="literal">contrib</code> и <code class="literal">non-free</code> в добавление
к архиву <code class="literal">main</code>, поскольку лицензия GFDL несовместима с
DSFG.</p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не используйте имя "<code class="literal">test</code>" для своих тестовых исполняемых
файлов, поскольку это название встроенной команды shell.</p>
</div>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Предостережение</h3>
<p>Собранные вами из исходных текстов программы устанавливайте в
"<code class="literal">/usr/local</code>" или "<code class="literal">/opt</code>", чтобы
избежать повреждения системных программ.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p><a class="ulink" href="http://www.99-bottles-of-beer.net/" target="_top">Здесь</a> лежит
коллекция исходников программ, генерирующих текст песенки "Song 99 Bottles
of Beer". Они могут помочь получить представление о практически всех языках
программирования.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_shell_script"></a>12.1. Сценарий оболочки</h2></div></div></div>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/Shell_script" target="_top">Сценарий оболочки</a> -- это исполняемый
текстовый файл, содержащий команды в таком формате:</p>
<pre class="screen">#!/bin/sh
 ... строки с командами</pre>
<p>Первая строчка определяет программу-интерпретатор, которая читает и
исполняет содержимое файла.</p>
<p>Разбор существующих сценариев оболочки -- <span class="strong"><strong>лучший</strong></span> способ понять, как работает Unix-подобная
система. Здесь собраны ссылки и памятки для программирования на
shell. См. "Shell Mistakes" (<a class="ulink" href="http://www.greenend.org.uk/rjk/2001/04/shell.html" target="_top">http://www.greenend.org.uk/rjk/2001/04/shell.html</a>),
чтобы учиться от ошибок.</p>
<p>В отличие от интерактивного режима (см. <a class="xref" href="#_the_simple_shell_command" title="1.5. О том, как работают команды shell">Раздел 1.5, «О том, как работают команды shell»</a> и <a class="xref" href="#_unix_like_text_processing" title="1.6. Работа с текстом в стиле Unix">Раздел 1.6, «Работа с текстом в стиле Unix»</a>), в сценариях оболочки часто
используются параметры, условия и циклы.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_posix_shell_compatibility"></a>12.1.1. Совместимость с POSIX</h3></div></div></div>
<p>Многие системные сценарии могут выполняться любым <a class="ulink" href="http://ru.wikipedia.org/wiki/POSIX" target="_top">POSIX</a>-совместимым интерпретатором. (См. <a class="xref" href="#list-of-shell-programs" title="Таблица 1.13. Список интерпретаторов команд">Таблица 1.13, «Список интерпретаторов команд»</a>.) По умолчанию используется
"<code class="literal">/bin/sh</code>" -- символическая ссылка на действительную
программу:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<code class="literal">bash</code>(1) для <code class="literal">lenny</code> и более старых
выпусков
</li>
<li>
<code class="literal">dash</code>(1) для <code class="literal">squeeze</code> и более новых
</li>
</ul></div>
<p>Избегайте использования <span class="strong"><strong>бэшизмов</strong></span> и
<span class="strong"><strong>zsh-измов</strong></span> в ваших скриптах, чтобы их
можно было выполнять в любой POSIX-совместимой оболочке. Проверить сценарий
на наличие бэшизмов можно утилитой <code class="literal">checkbashisms</code>(1).</p>
<div class="table">
<a name="listoftypicalbashisms"></a><p class="title"><b>Таблица 12.2. Типичные бэшизмы</b></p>
<div class="table-contents"><table summary="Типичные бэшизмы" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    Хорошо: POSIX
    </th>
<th align="left">
    Избегаем: бэшизм
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">if [ "$foo" = "$bar" ] ; then …</code>
                </td>
<td align="left">
                  <code class="literal">if [ "$foo" == "$bar" ] ; then …</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">diff -u file.c.orig file.c</code>
                </td>
<td align="left">
                  <code class="literal">diff -u file.c{.orig,}</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">mkdir /foobar /foobaz</code>
                </td>
<td align="left">
                  <code class="literal">mkdir /foo{bar,baz}</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">funcname() { … }</code>
                </td>
<td align="left">
                  <code class="literal">function funcname() { … }</code>
                </td>
</tr>
<tr>
<td align="left">
    восьмеричный формат: "<code class="literal">\377</code>"
    </td>
<td align="left">
    шестнадцатеричный формат: "<code class="literal">\xff</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Команда "<code class="literal">echo</code>" должна использоваться с осторожностью,
поскольку программа (/bin/echo) и встроенная команда оболочки (echo) ведут
себя по-разному:</p>
<div class="itemizedlist"><ul type="disc">
<li>
избегать параметров "<code class="literal">-e</code>" и "<code class="literal">-E</code>",
</li>
<li>
избегать любые параметры, кроме "<code class="literal">-n</code>",
</li>
<li>
избегать escape-последовательностей в строчках, они используются по-разному
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>Хотя "<code class="literal">-n</code>" и <span class="strong"><strong>не</strong></span> описано
в POSIX, этот ключ практически принят.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Используйте "<code class="literal">printf</code>" вместо "<code class="literal">echo</code>",
если нужно вывести escape-последовательность в строке.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_shell_parameters"></a>12.1.2. Параметры сценария оболочки</h3></div></div></div>
<p>Специальные параметры часто используются в сценариях оболочки.</p>
<div class="table">
<a name="listofshellparameters"></a><p class="title"><b>Таблица 12.3. Список параметров сценария оболочки</b></p>
<div class="table-contents"><table summary="Список параметров сценария оболочки" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    параметр
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">$0</code>
                </td>
<td align="left">
    имя оболочки или сценария
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">$1</code>
                </td>
<td align="left">
    первый аргумент сценария оболочки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">$9</code>
                </td>
<td align="left">
    девятый аргумент
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">$#</code>
                </td>
<td align="left">
    количество переданных аргументов
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">"$*"</code>
                </td>
<td align="left">
                  <code class="literal">"$1 $2 $3 $4 … "</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">"$@"</code>
                </td>
<td align="left">
                  <code class="literal">"$1" "$2" "$3" "$4" …</code>
                </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">$?</code>
                </td>
<td align="left">
    возвращённое последней командой значение (exit status)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">$$</code>
                </td>
<td align="left">
    PID этого сценария
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">$!</code>
                </td>
<td align="left">
    PID последней задачи, запущенной в фоновом режиме
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вот основные расширения параметров (<span class="strong"><strong>parameter
expansions</strong></span>).</p>
<div class="table">
<a name="listofshellparameterexpansions"></a><p class="title"><b>Таблица 12.4. Расширения параметров shell</b></p>
<div class="table-contents"><table summary="Расширения параметров shell" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    форма выражения
    </th>
<th align="left">
    результат, если <code class="literal">var</code> имеет значение
    </th>
<th align="left">
    результат, если <code class="literal">var</code> не установлена
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">${var:-string}</code>
                </td>
<td align="left">
    "<code class="literal">$var</code>"
    </td>
<td align="left">
    "<code class="literal">string</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">${var:+string}</code>
                </td>
<td align="left">
    "<code class="literal">string</code>"
    </td>
<td align="left">
    "<code class="literal">null</code>"
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">${var:=string}</code>
                </td>
<td align="left">
    "<code class="literal">$var</code>"
    </td>
<td align="left">
    "<code class="literal">string</code>" (и выполнить "<code class="literal">var=string</code>")
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">${var:?string}</code>
                </td>
<td align="left">
    "<code class="literal">$var</code>"
    </td>
<td align="left">
    вывести "<code class="literal">string</code>" в <span class="strong"><strong>stderr</strong></span> (и выйти с ошибкой)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>В этих примерах двоеточие "<code class="literal">:</code>" необязательно:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<span class="strong"><strong>С</strong></span> "<code class="literal">:</code>" = проверяется,
<span class="strong"><strong>определена ли</strong></span> переменная и присвоено ли
ей значение (<span class="strong"><strong>не null</strong></span>),
</li>
<li>
<span class="strong"><strong>Без</strong></span> "<code class="literal">:</code>" = проверяется
только <span class="strong"><strong>определена ли</strong></span> переменная
</li>
</ul></div>
<div class="table">
<a name="listofkeyshellpatersubstitutions"></a><p class="title"><b>Таблица 12.5. Операторы подстановки значений</b></p>
<div class="table-contents"><table summary="Операторы подстановки значений" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    форма подстановки значения
    </th>
<th align="left">
    результат
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">${var%шаблон-суффикс}</code>
                </td>
<td align="left">
    найти <span class="strong"><strong>последнее</strong></span> соответствие шаблону и
удалить до <span class="strong"><strong>конца</strong></span> строки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">${var%%шаблон-суффикс}</code>
                </td>
<td align="left">
    найти <span class="strong"><strong>первое</strong></span> соответствие шаблону и
удалить до <span class="strong"><strong>конца</strong></span> строки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">${var#шаблон-префикс}</code>
                </td>
<td align="left">
    найти <span class="strong"><strong>последнее</strong></span> соответствие шаблону и
удалить до <span class="strong"><strong>начала</strong></span> строки
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">${var##шаблон-префикс}</code>
                </td>
<td align="left">
    найти <span class="strong"><strong>первое</strong></span> соответствие шаблону и
удалить до <span class="strong"><strong>начала</strong></span> строки
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_shell_conditionals"></a>12.1.3. Условные операторы интерпретатора</h3></div></div></div>
<p>Каждая команда возвращает значение (<span class="strong"><strong>exit
status</strong></span>), который может использоваться в условных выражениях
("conditional expressions").</p>
<div class="itemizedlist"><ul type="disc">
<li>
Успех: 0 ("True")
</li>
<li>
Ошибка: не 0 ("False")
</li>
</ul></div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>В shell "0" означает "True", тогда как в C "0" означает "False".</p>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p>"<code class="literal">[</code>" -- это то же, что и команда <code class="literal">test</code>,
которая вычисляет свои аргументы, идущие до символа "<code class="literal">]</code>",
как условное выражение.</p>
</div>
<p>Вот основные "<span class="strong"><strong>условные идиомы</strong></span>".</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">&lt;команда&gt; &amp;&amp;
&lt;в_случае_успеха_выполнить_эту_команду_тоже&gt; || true</code>"
</li>
<li>
"<code class="literal">&lt;команда&gt; ||
&lt;в_случае_ошибки_выполнить_эту_команду_тоже&gt; || true</code>"
</li>
<li>
Часто встречающаяся конструкция на несколько строчек:
</li>
</ul></div>
<pre class="screen">if [ &lt;условное_выражение&gt; ]; then
 &lt;если_успешно_выполнить_это&gt;
else
 &lt;если_не_успешно_выполнить_это&gt;
fi</pre>
<p>Здесь завершающая "<code class="literal">|| true</code>" на конце нужна, чтобы
убедиться, что этот скрипт не вылетит с ошибкой на этой строчке, если
оболочка запущена с параметром "<code class="literal">-e</code>".</p>
<div class="table">
<a name="listoffilecompartionalexpression"></a><p class="title"><b>Таблица 12.6. Операторы проверки файлов для условных выражений</b></p>
<div class="table-contents"><table summary="Операторы проверки файлов для условных выражений" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    вычисляющее выражение
    </th>
<th align="left">
    условия возврата логического "true"
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal"> -e &lt;файл&gt; </code>
                </td>
<td align="left">
    &lt;файл&gt; существует
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> -d &lt;файл&gt; </code>
                </td>
<td align="left">
    &lt;файл&gt; существует и является каталогом
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> -f &lt;файл&gt; </code>
                </td>
<td align="left">
    &lt;файл&gt; существует и является обычным файлом (regular file)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> -w &lt;файл&gt; </code>
                </td>
<td align="left">
    &lt;файл&gt; существует и доступен для записи
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> -x &lt;файл&gt; </code>
                </td>
<td align="left">
    &lt;файл&gt; существует и является исполняемым
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> &lt;файл1&gt; -nt &lt;файл2&gt; </code>
                </td>
<td align="left">
    &lt;файл1&gt; новей, чем &lt;файл2&gt; (по времени изменения)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> &lt;файл1&gt; -ot &lt;файл2&gt; </code>
                </td>
<td align="left">
    &lt;файл1&gt; старее, чем &lt;файл2&gt; (по времени изменения)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> &lt;файл1&gt; -ef &lt;файл2&gt; </code>
                </td>
<td align="left">
    &lt;файл1&gt; и &lt;файл2&gt; на одном устройстве и в одном inode
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="table">
<a name="listofstringcomptionalexpression"></a><p class="title"><b>Таблица 12.7. Сравнение строк в условных выражениях</b></p>
<div class="table-contents"><table summary="Сравнение строк в условных выражениях" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    вычисляющее выражение
    </th>
<th align="left">
    условия возврата логического "true"
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal"> -z &lt;строка&gt; </code>
                </td>
<td align="left">
    &lt;строка&gt; пустая (нулевой длины)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> -n &lt;строка&gt; </code>
                </td>
<td align="left">
    &lt;строка&gt; не пустая (не нулевой длинны)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> &lt;строка2&gt; = &lt;строка2&gt; </code>
                </td>
<td align="left">
    &lt;строка1&gt; равна &lt;строке2&gt;
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> &lt;строка1&gt; != &lt;строка2&gt; </code>
                </td>
<td align="left">
    &lt;строка1&gt; не равна &lt;строке2&gt;
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> &lt;строка1&gt; &lt; &lt;строка2&gt; </code>
                </td>
<td align="left">
    &lt;строка1&gt; <span class="strong"><strong>при сортировке</strong></span>
оказывается перед &lt;строкой2&gt; (зависит от локали)
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal"> &lt;строка1&gt; &gt; &lt;строка2&gt; </code>
                </td>
<td align="left">
    &lt;строка1&gt; <span class="strong"><strong>при сортировке</strong></span>
оказывается после &lt;строки2&gt; (зависит от локали)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Вот операторы <span class="strong"><strong>арифметических</strong></span> сравнений
для чисел: "<code class="literal">-eq</code>", "<code class="literal">-ne</code>",
"<code class="literal">-lt</code>", "<code class="literal">-le</code>", "<code class="literal">-gt</code>"
и "<code class="literal">-ge</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_shell_loops"></a>12.1.4. Циклы в сценариях оболочки</h3></div></div></div>
<p>Есть несколько способов создать цикл в POSIX-совместимой оболочке.</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">for x in значение1 значение2 ... ; do команда ; done</code>" --
последовательно присваивает переменной "<code class="literal">x</code>" значения
"<code class="literal">значение1 значение2 ...</code>" и выполняет с ними
"<code class="literal">команду</code>".
</li>
<li>
"<code class="literal">while условие ; do команда ; done</code>" выполняет
"<code class="literal">команду</code>", пока выполняется "<code class="literal">условие</code>".
</li>
<li>
"<code class="literal">until условие ; do команда ; done</code>" выполняет
"<code class="literal">команду</code>", пока не выполняется
"<code class="literal">условие</code>".
</li>
<li>
"<code class="literal">break</code>" принудительно завершает выполнение цикла.
</li>
<li>
"<code class="literal">continue</code>" принудительно переходит к следующей итерации
цикла.
</li>
</ul></div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Итерация в диапазонах чисел, как, например, в языке <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D0%B8_(%D1%8F%D0%B7%D1%8B%D0%BA_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)" target="_top">C</a>, реализуется с командой <code class="literal">seq</code>(1),
которая генерирует этот диапазон.</p>
</div>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>См. <a class="xref" href="#_repeating_a_command_looping_over_files" title="9.5.9. Выполнение одной команды для многих файлов">Раздел 9.5.9, «Выполнение одной команды для многих файлов»</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_the_shell_command_line_processing_sequence"></a>12.1.5. Последовательность обработки командной строки</h3></div></div></div>
<p>Вот примерная последовательность, в которой интерпретатор обрабатывает
каждую строчку.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Интерпретатор читает строчку.
</li>
<li>
Группирует часть строки в <span class="strong"><strong>одну лексему</strong></span>
(one token), если она взята в кавычки: <code class="literal">"..."</code> или
<code class="literal">'...'</code>.
</li>
<li>
<p>
Разбивает другие части строки на <span class="strong"><strong>лексемы</strong></span>
(tokens) так:
</p>
<div class="itemizedlist"><ul type="circle">
<li>
Пробелы: <code class="literal">&lt;пробел&gt; &lt;знак_табуляции&gt;
&lt;новая_строка&gt;</code>
</li>
<li>
Мета-символы: <code class="literal">&lt; &gt; | ; &amp; ( )</code>
</li>
</ul></div>
</li>
<li>
<p>
В каждой лексеме, кроме взятых в кавычки, ищутся <span class="strong"><strong>зарезервированные слова</strong></span>, определяющие суть лексемы.
</p>
<div class="itemizedlist"><ul type="circle"><li>
<span class="strong"><strong>Зарезервированные слова</strong></span>: <code class="literal">if then
elif else fi for in while unless do done case esac</code>
</li></ul></div>
</li>
<li>
Раскрывает <span class="strong"><strong>"прозвища" команд</strong></span> (alias)
везде, кроме взятых в кавычки лексем.
</li>
<li>
<p>
Раскрывает знак "<code class="literal">~</code>" (<span class="strong"><strong>тильда</strong></span>) везде, кроме <code class="literal">"..."</code> и
<code class="literal">'...'</code>.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
"<code class="literal">~</code>" → домашний каталог текущего пользователя
</li>
<li>
"<code class="literal">~&lt;пользователь&gt;</code>" → домашний каталог
<code class="literal">&lt;пользователя&gt;</code>
</li>
</ul></div>
</li>
<li>
<p>
Раскрывает <span class="strong"><strong>параметры</strong></span> (parameters) в их
значения везде, кроме взятого в одинарные кавычки <code class="literal">'...'</code>.
</p>
<div class="itemizedlist"><ul type="circle"><li>
<span class="strong"><strong>Параметры</strong></span>:
"<code class="literal">$PARAMETER</code>" или "<code class="literal">${PARAMETER}</code>".
</li></ul></div>
</li>
<li>
<p>
Выполняет команды подстановки (<span class="strong"><strong>command
substitution</strong></span>) везде, кроме лексем в одинарных кавычках
<code class="literal">'...'</code>.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
"<code class="literal">$( команда )</code>" → вывод "<code class="literal">команды</code>".
</li>
<li>
"<code class="literal">`команда`</code>" → вывод "<code class="literal">команды</code>".
</li>
</ul></div>
</li>
<li>
<p>
Раскрывает шаблоны (<span class="strong"><strong>shell globs</strong></span>) в
соответствующие имена файлов везде, кроме <code class="literal">"..."</code> и
<code class="literal">'...'</code>.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
<code class="literal">*</code> → любые символы
</li>
<li>
<code class="literal">?</code> → один символ
</li>
<li>
<code class="literal">[...]</code> → один из символов в квадратных скобках
</li>
</ul></div>
</li>
<li>
<p>
Наконец, интерпретатор определяет тип <span class="strong"><strong>команды</strong></span> и выполняет её.
</p>
<div class="itemizedlist"><ul type="circle">
<li>определение <span class="strong"><strong>функции</strong></span>,
</li>
<li>
<span class="strong"><strong>встроенная</strong></span> команда,
</li>
<li>
<span class="strong"><strong>исполняемый файл</strong></span> из
"<code class="literal">$PATH</code>".
</li>
</ul></div>
</li>
<li>
Интерпретатор переходит к следующей строке и повторяет этот процесс сначала.
</li>
</ul></div>
<p>Одинарные кавычки внутри двойных не действуют.</p>
<p>Выполнение "<code class="literal">set -x</code>" или запуск оболочки с параметром
"<code class="literal">-x</code>" заставляет интерпретатор выводить все выполняемые
команды. Это очень полезно для отладки.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_utility_programs_for_shell_script"></a>12.1.6. Вспомогательные программы, используемые сценарием</h3></div></div></div>
<p>Чтобы ваш сценарий мог работать в разных системах Debian, хорошей идеей
будет использовать в нём только те вспомогательные средства, которые входят
в <span class="strong"><strong>необходимые</strong></span> (essential) пакеты.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Команда "<code class="literal">aptitude search ~E</code>" выводит список таких
пакетов.
</li>
<li>
"<code class="literal">dpkg -L &lt;имя_пакета&gt; |grep '/man/man.*/'</code>" выводит
список man-страниц в пакете.
</li>
</ul></div>
<div class="table">
<a name="listofpackagescosforshellscripts"></a><p class="title"><b>Таблица 12.8. Пакеты, содержащие вспомогательные средства для сценариев оболочки</b></p>
<div class="table-contents"><table summary="Пакеты, содержащие вспомогательные средства для сценариев оболочки" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/coreutils" target="_top">
<code class="literal">coreutils</code> </a> <a class="ulink" href="http://bugs.debian.org/coreutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=coreutils" target="_top">V:91, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/c/coreutils.html" target="_top">13828</a></td>
<td align="left">
    важнейшие утилиты GNU
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/debianutils" target="_top">
<code class="literal">debianutils</code> </a> <a class="ulink" href="http://bugs.debian.org/debianutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=debianutils" target="_top">V:93, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/debianutils.html" target="_top">220</a></td>
<td align="left">
    утилиты, специфичные для Debian
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bsdmainutils" target="_top">
<code class="literal">bsdmainutils</code> </a> <a class="ulink" href="http://bugs.debian.org/bsdmainutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bsdmainutils" target="_top">V:80, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bsdmainutils.html" target="_top">764</a></td>
<td align="left">
    набор утилит FreeBSD
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bsdutils" target="_top">
<code class="literal">bsdutils</code> </a> <a class="ulink" href="http://bugs.debian.org/bsdutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bsdutils" target="_top">V:76, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bsdutils.html" target="_top">196</a></td>
<td align="left">
    утилиты 4.4BSD-Lite
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/moreutils" target="_top">
<code class="literal">moreutils</code> </a> <a class="ulink" href="http://bugs.debian.org/moreutils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=moreutils" target="_top">V:0.3, I:1.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/moreutils.html" target="_top">184</a></td>
<td align="left">
    дополнительные Unix-утилиты
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Хотя <code class="literal">moreutils</code> может отсутствовать во многих системах, в
неё входят интересные маленькие программки. Наиболее значимая --
<code class="literal">sponge</code>(8). См. <a class="xref" href="#_global_substitution_with_regular_expressions" title="1.6.4. Глобальные подстановки в регулярных выражениях">Раздел 1.6.4, «Глобальные подстановки в регулярных выражениях»</a>.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_shell_script_dialog"></a>12.1.7. Диалоги в сценариях оболочки</h3></div></div></div>
<p>Пользовательский интерфейс простого сценария может взаимодействовать с
пользователем как с помощью простых <code class="literal">echo</code> и
<code class="literal">read</code>, так и через специальные средства создания диалогов.</p>
<div class="table">
<a name="listofuserinterfaceprograms"></a><p class="title"><b>Таблица 12.9. Список программ для создания пользовательского интерфейса</b></p>
<div class="table-contents"><table summary="Список программ для создания пользовательского интерфейса" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/x11-utils" target="_top">
<code class="literal">x11-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/x11-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=x11-utils" target="_top">V:26, I:53</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/x/x11-utils.html" target="_top">652</a></td>
<td align="left">
<code class="literal">xmessage</code>(1): выводит сообщение или вопрос в окне (X)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/whiptail" target="_top">
<code class="literal">whiptail</code> </a> <a class="ulink" href="http://bugs.debian.org/whiptail" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=whiptail" target="_top">V:46, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/whiptail.html" target="_top">104</a></td>
<td align="left">
    выводит диалоговые окна в терминале (на основе newt)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/dialog" target="_top">
<code class="literal">dialog</code> </a> <a class="ulink" href="http://bugs.debian.org/dialog" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=dialog" target="_top">V:5, I:26</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/d/dialog.html" target="_top">1592</a></td>
<td align="left">
    выводит диалоговые окна в терминале (на основе ncurses)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/zenity" target="_top">
<code class="literal">zenity</code> </a> <a class="ulink" href="http://bugs.debian.org/zenity" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=zenity" target="_top">V:7, I:42</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/z/zenity.html" target="_top">4992</a></td>
<td align="left">
    выводит графические диалоговые окна (gtk2.0)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/ssft" target="_top"> <code class="literal">ssft</code>
</a> <a class="ulink" href="http://bugs.debian.org/ssft" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=ssft" target="_top">V:0.00, I:0.11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/ssft.html" target="_top">152</a></td>
<td align="left">
    Shell Scripts Frontend Tool ("обёртка" для zenity, kdialog, и dialog с
поддержкой gettext)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/gettext" target="_top">
<code class="literal">gettext</code> </a> <a class="ulink" href="http://bugs.debian.org/gettext" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=gettext" target="_top">V:8, I:47</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/g/gettext.html" target="_top">7272</a></td>
<td align="left">
    "<code class="literal">/usr/bin/gettext.sh</code>": трансляция сообщений для разных
языков
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_shell_script_example_with_zenity"></a>12.1.8. Пример сценария с использованием zenity</h3></div></div></div>
<p>Вот пример простого сценария, который создаёт образ ISO с данными RS02,
добавленными <code class="literal">dvdisaster</code>(1).</p>
<pre class="screen">#!/bin/sh -e
# gmkrs02 : Copyright (C) 2007 Osamu Aoki &lt;osamu@debian.org&gt;, Public Domain
#set -x
error_exit()
{
  echo "$1" &gt;&amp;2
  exit 1
}
# Initialize variables
DATA_ISO="$HOME/Desktop/iso-$$.img"
LABEL=$(date +%Y%m%d-%H%M%S-%Z)
if [ $# != 0 ] &amp;&amp; [ -d "$1" ]; then
  DATA_SRC="$1"
else
  # Select directory for creating ISO image from folder on desktop
  DATA_SRC=$(zenity --file-selection --directory  \
    --title="Select the directory tree root to create ISO image") \
    || error_exit "Exit on directory selection"
fi
# Check size of archive
xterm -T "Check size $DATA_SRC" -e du -s $DATA_SRC/*
SIZE=$(($(du -s $DATA_SRC | awk '{print $1}')/1024))
if [ $SIZE -le 520 ] ; then
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is good for CD backup:\\n $SIZE MB"
elif [ $SIZE -le 3500 ]; then
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is good for DVD backup :\\n $SIZE MB"
else
  zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
    --text="The data size is too big to backup : $SIZE MB"
  error_exit "The data size is too big to backup :\\n $SIZE MB"
fi
# only xterm is sure to have working -e option
# Create raw ISO image
rm -f "$DATA_ISO" || true
xterm -T "genisoimage $DATA_ISO" \
  -e genisoimage -r -J -V "$LABEL" -o "$DATA_ISO" "$DATA_SRC"
# Create RS02 supplemental redundancy
xterm -T "dvdisaster $DATA_ISO" -e  dvdisaster -i "$DATA_ISO" -mRS02 -c
zenity --info --title="Dvdisaster RS02" --width 640  --height 400 \
  --text="ISO/RS02 data ($SIZE MB) \\n created at: $DATA_ISO"
# EOF</pre>
<p>Вы можете, например, создать на рабочем столе кнопку запуска этого сценария
с параметром-именем текущего каталога: "<code class="literal">/usr/local/bin/gmkrs02
%d</code>".</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_make"></a>12.2. Make</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/Make" target="_top">Make</a> -- это средство автоматизации действий
групп программ. При запуске <code class="literal">make</code> читает файл с правилами,
"<code class="literal">Makefile</code>", и обновляет <span class="strong"><strong>цели</strong></span> (target). Эти цели (обычно это файлы) могут
зависеть от различных файлов, которые могли измениться с тех пор, как в
последний раз обновлялась цель. Цель может пока что отсутствовать либо быть
назначенной на удаление. <code class="literal">Make</code> всё это проверяет и
обновляет цели только в случае необходимости.</p>
<p>Файл правил имеет такой формат.</p>
<pre class="screen">цель: [ предпосылки ... ]
 [TAB]  команда1
 [TAB]  -команда2 # игнорировать ошибки
 [TAB]  @команда3 # не выводить на экран</pre>
<p>Здесь "<code class="literal">[TAB]</code>" означает знак табуляции. Каждая строка
интерпретируется оболочкой после того, как make произведёт подстановку своих
переменных. Используйте "<code class="literal">\</code>" в конце одной строки, чтобы
продолжить её на другой. Используйте "<code class="literal">$$</code>" для ввода
значений переменных сценариев оболочки.</p>
<p>Можно использовать шаблоны для имён цели и условия.</p>
<pre class="screen">%.o: %.c header.h</pre>
<p>Здесь цель (target) и пререквизит (prerequisite) содержат символ
"<code class="literal">%</code>" (только один). "<code class="literal">%</code>" используется,
чтобы указать отношение имени пререквизита и цели, если нужно, чтобы каждый
файл "X.c" преобразовывался в "X.o".</p>
<div class="table">
<a name="listofmakeautomaticvariables"></a><p class="title"><b>Таблица 12.10. Список автоматических переменных make (automatic variables)</b></p>
<div class="table-contents"><table summary="Список автоматических переменных make (automatic variables)" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    переменная
    </th>
<th align="left">
    значение
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                <code class="literal">$@</code>
              </td>
<td align="left">
    текущая цель
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">$&lt;</code>
              </td>
<td align="left">
    первая предпосылка
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">$?</code>
              </td>
<td align="left">
    все предпосылки, более новые, чем цель
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">$^</code>
              </td>
<td align="left">
    все предпосылки
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">$*</code>
              </td>
<td align="left">
    общая часть имён цели и предпосылки, включающая в себя
"<code class="literal">%</code>"
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><div class="table">
<a name="listofmakevariableexpansions"></a><p class="title"><b>Таблица 12.11. Список операторов установки переменных</b></p>
<div class="table-contents"><table summary="Список операторов установки переменных" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пример установки значения
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                <code class="literal">foo1 := bar</code>
              </td>
<td align="left">
    упрощённо вычисляемая переменная
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">foo2 = bar</code>
              </td>
<td align="left">
    рекурсивно вычисляемая переменная
    </td>
</tr>
<tr>
<td align="left">
                <code class="literal">foo3 += bar</code>
              </td>
<td align="left">
    добавление значения к переменной
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Выполните "<code class="literal">make -p -f/dev/null</code>", чтобы увидеть встроенные
автоматические правила.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_c"></a>12.3. C</h2></div></div></div>
<p>Вы можете установить окружение, необходимое для компиляции программ на
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D0%B8_(%D1%8F%D0%B7%D1%8B%D0%BA_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)" target="_top">языке C</a> следующей командой.</p>
<pre class="screen"># apt-get install glibc-doc manpages-dev libc6-dev gcc build-essential</pre>
<p>Пакет <code class="literal">libc6-dev</code>, то есть "GNU C Library", предоставляет
<a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82%D0%BD%D0%B0%D1%8F_%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0_%D1%8F%D0%B7%D1%8B%D0%BA%D0%B0_%D0%A1%D0%B8" target="_top">стандартную библиотеку C</a> --
коллекцию заголовочных файлов (headers) и библиотечных вызовов (routines),
используемых в C.</p>
<p>О C читайте в:</p>
<div class="itemizedlist"><ul type="disc">
<li>
"<code class="literal">info libc</code>" (справочник функций библиотеки C)
</li>
<li>
<code class="literal">gcc</code>(1) и "<code class="literal">info gcc</code>"
</li>
<li>
<code class="literal">имя_любой_библиотечной_функции</code>(3) (man-страницы)
</li>
<li>
Керниган &amp; Ритчи, "Язык программирования C", 2-ое издание.
</li>
</ul></div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_simple_c_program_gcc"></a>12.3.1. Простая программа на C (gcc)</h3></div></div></div>
<p>Этот простой пример ("<code class="literal">example.c</code>") можно скомпилировать
при наличии библиотеки "<code class="literal">libm</code>" в исполняемый файл
"<code class="literal">run_example</code>" таким способом.</p>
<pre class="screen">$ cat &gt; example.c &lt;&lt; EOF
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;string.h&gt;

int main(int argc, char **argv, char **envp){
        double x;
        char y[11];
        x=sqrt(argc+7.5);
        strncpy(y, argv[0], 10); /* prevent buffer overflow */
        y[10] = '\\0'; /* fill to make sure string ends with '\\0' */
        printf(\"%5i, %5.3f, %10s, %10s\\n\", argc, x, y, argv[1]);
        return 0;
}
EOF
$ gcc -Wall -g -o run_example example.c -lm
$ ./run_example
        1, 2.915, ./run_exam,     (null)
$ ./run_example 1234567890qwerty
        2, 3.082, ./run_exam, 1234567890qwerty</pre>
<p>Ключ "<code class="literal">-lm</code>" нужен, чтобы взять функцию
<code class="literal">sqrt</code>(3) из библиотеки
"<code class="literal">/usr/lib/libm.so</code>" (из пакета
<code class="literal">libc6</code>). Действительное местонахождение этой библиотеки в
системе -- каталог "<code class="literal">/lib/</code>", а её имя,
"<code class="literal">libm.so.6</code>" -- символическая ссылка на
"<code class="literal">libm-2.7.so</code>".</p>
<p>Взгляните на последний выводимый программой параметр. В нём больше десяти
символов, хотя в коде определено "<code class="literal">%10s</code>".</p>
<p>The use of pointer memory operation functions without boundary checks, such
as <code class="literal">sprintf</code>(3) and <code class="literal">strcpy</code>(3), is
deprecated to prevent buffer overflow exploits that leverage the above
overrun effects.  Instead, use <code class="literal">snprintf</code>(3) and
<code class="literal">strncpy</code>(3).</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_debug"></a>12.4. Отладка</h2></div></div></div>
<p>Отладка -- важная часть процесса программирования. Знание приёмов отладки
превращает вас в умелого пользователя Debian, способного формировать
осмысленные сообщения об ошибках.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_basic_gdb_execution"></a>12.4.1. Простой сеанс отладки с gdb</h3></div></div></div>
<p>Основной <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9E%D1%82%D0%BB%D0%B0%D0%B4%D1%87%D0%B8%D0%BA" target="_top">отладчик</a> в Debian --
<code class="literal">gdb</code>(1), позволяющий следить за выполнением программы.</p>
<p>Давайте установим <code class="literal">gdb</code> и другие относящиеся к делу
программы.</p>
<pre class="screen"># apt-get install gdb gdb-doc build-essential devscripts</pre>
<p>Хороший учебник по <code class="literal">gdb</code> есть в "<code class="literal">info
gdb</code>". Его также можно найти <a class="ulink" href="http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html" target="_top">где-то в сети</a>. Вот простой пример
использования <code class="literal">gdb</code>(1) для отладки программы
"<code class="literal">program</code>", скомпилированной с параметром
"<code class="literal">-g</code>", который включает отладочную информацию.</p>
<pre class="screen">$ gdb program
(gdb) b 1                # set break point at line 1
(gdb) run args           # run program with args
(gdb) next               # next line
...
(gdb) step               # step forward
...
(gdb) p parm             # print parm
...
(gdb) p parm=12          # set value to 12
...
(gdb) quit</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Многие команды <code class="literal">gdb</code>(1) имеют сокращения. Клавиша Tab
работает так же, как в оболочке.</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_debugging_the_debian_package"></a>12.4.2. Отладка пакета Debian</h3></div></div></div>
<p>Поскольку все установленные в Debian двоичные файлы по умолчанию должны быть
очищены (stripped), большая часть отладочных символов в обычном пакете
удаляется. Чтобы отлаживать пакеты Debian с помощью
<code class="literal">gdb</code>(1), нужно установить соответствующие пакеты с
суффиксом <code class="literal">*-dbg</code> (например, <code class="literal">libc6-dbg</code>
для отладки <code class="literal">libc6</code>).</p>
<p>Если для отлаживаемого пакета нет пакета <code class="literal">*-dbg</code>, придётся
собрать нужный пакет и установить его следующим способом.</p>
<pre class="screen">$ mkdir /path/new ; cd /path/new
$ sudo apt-get update
$ sudo apt-get dist-upgrade
$ sudo apt-get install fakeroot devscripts build-essential
$ sudo apt-get build-dep имя_пакета_с_исходным_кодом
$ apt-get source имя_пакета
$ cd имя_пакета*</pre>
<p>Если нужно, исправьте ошибки.</p>
<p>Перед компиляцией увеличьте номер версии так, чтобы он не путался с текущими
официальными версиями этого пакета, например, добавьте к нему
"<code class="literal">+debug1</code>" или "<code class="literal">~pre1</code>".</p>
<pre class="screen">$ dch -i</pre>
<p>Скомпилируйте и установите пакеты с отладочными символами.</p>
<pre class="screen">$ export DEB_BUILD_OPTIONS=nostrip,noopt
$ debuild
$ cd ..
$ sudo debi package_name*.changes</pre>
<p>Вам нужно проверить сценарии сборки (build scripts) и убедиться, что для
компиляции двоичных файлов используются "<code class="literal">CFLAGS=-g
-Wall</code>".</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_obtaining_backtrace"></a>12.4.3. Получение backtrace</h3></div></div></div>
<p>Когда программа рушится, лучше оформить сообщение об ошибке, содержащее
backtrace аварийной ситуации.</p>
<p>Backtrace (цепочка вызовов, состояние стека) можно получить таким способом.</p>
<div class="itemizedlist"><ul type="disc">
<li>
Запустите программу в <code class="literal">gdb</code>(1).
</li>
<li>
<p>
Воспроизведите аварийную ситуацию и падение программы.
</p>
<div class="itemizedlist"><ul type="circle"><li>
Вас "выбросило" в командную строчку <code class="literal">gdb</code>.
</li></ul></div>
</li>
<li>
Теперь, оставаясь в <code class="literal">gdb</code>, введите "<code class="literal">bt</code>".
</li>
</ul></div>
<p>Если программа "зависла", её можно "обрушить", нажав
<code class="literal">Ctrl-C</code> в терминале с запущенным
<code class="literal">gdb</code>. Это также вернёт вас в <code class="literal">gdb</code> и
поможет получить backtrace.</p>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Подсказка</h3>
<p>Часто в одной или нескольких верхних строчках бэк-трейса можно видеть
"<code class="literal">malloc()</code>" или "<code class="literal">g_malloc()</code>". В этом
случае есть мало шансов на полезность такого бэк-трейса. Простейший способ
найти какую-то полезную информацию -- установить переменную окружения
"<code class="literal">$MALLOC_CHECK_=2</code>" (см. <code class="literal">malloc</code>(3)). Вы
можете сделать это при запущенном <code class="literal">gdb</code> таким способом:</p>
</div>
<pre class="screen"> $ MALLOC_CHECK_=2 gdb hello</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_advanced_gdb_commands"></a>12.4.4. Advanced gdb commands</h3></div></div></div>
<div class="table">
<a name="listofadvancedgdbcommands"></a><p class="title"><b>Таблица 12.12. List of advanced gdb commands</b></p>
<div class="table-contents"><table summary="List of advanced gdb commands" border="1">
<colgroup>
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    команда
    </th>
<th align="left">
    описание цели выполнения
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
                  <code class="literal">(gdb) thread apply all bt</code>
                </td>
<td align="left">
    получить цепочку вызовов всех потоков в многопоточной программе
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">(gdb) bt full</code>
                </td>
<td align="left">
    отобразить в цепочке вызовов значения переменных
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">(gdb) thread apply all bt full</code>
                </td>
<td align="left">
    получить цепочку вызовов и значения переменных с заданными параметрами
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">(gdb) thread apply all bt full 10</code>
                </td>
<td align="left">
    получить цепочку вызовов и значения переменных для последних 10 вызовов,
вырезав предыдущие, несущественные
    </td>
</tr>
<tr>
<td align="left">
                  <code class="literal">(gdb) set logging on</code>
                </td>
<td align="left">
    включить запись всего вывода в лог-файл (по умолчанию
"<code class="literal">gdb.txt</code>")
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_debugging_x_errors"></a>12.4.5. Отладка ошибок X Window</h3></div></div></div>
<p>Если программа <code class="literal">preview1</code> для GNOME получает ошибку от X
Window, вы видите такое сообщение:</p>
<pre class="screen">The program 'preview1' received an X Window System error.</pre>
<p>Если вы столкнулись с этим, можно запустить программу с параметром
"<code class="literal">--sync</code>" и прервать её на
"<code class="literal">gdk_x_error</code>, чтобы получить цепочку вызовов.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_check_dependency_on_libraries"></a>12.4.6. Проверка зависимостей от библиотек</h3></div></div></div>
<p>Используйте <code class="literal">ldd</code>(1), чтобы определить зависимости программ
от библиотек, таким способом:</p>
<pre class="screen">$ ldd /bin/ls
        librt.so.1 =&gt; /lib/librt.so.1 (0x4001e000)
        libc.so.6 =&gt; /lib/libc.so.6 (0x40030000)
        libpthread.so.0 =&gt; /lib/libpthread.so.0 (0x40153000)
        /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x40000000)</pre>
<p>Чтобы <code class="literal">ls</code>(1) могла работать в окружении chroot, эти
библиотеки должны быть доступны в этом окружении.</p>
<p>См. <a class="xref" href="#_tracing_program_activities" title="9.5.6. Отслеживание активности программ">Раздел 9.5.6, «Отслеживание активности программ»</a></p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_memory_leak_detection_tools"></a>12.4.7. Средства обнаружения утечек памяти</h3></div></div></div>
<p>В Debian входит несколько средств выявления утечек памяти.</p>
<div class="table">
<a name="listofmemoryleakdetectiontools"></a><p class="title"><b>Таблица 12.13. Список средств выявления утечек памяти</b></p>
<div class="table-contents"><table summary="Список средств выявления утечек памяти" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libc6-dev" target="_top">
<code class="literal">libc6-dev</code> </a> <a class="ulink" href="http://bugs.debian.org/libc6-dev" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libc6-dev" target="_top">V:46, I:68</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libc/libc6-dev.html" target="_top">11328</a></td>
<td align="left">
<code class="literal">mtrace</code>(1): malloc debugging functionality in glibc
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/valgrind" target="_top">
<code class="literal">valgrind</code> </a> <a class="ulink" href="http://bugs.debian.org/valgrind" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=valgrind" target="_top">V:1.0, I:6</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/v/valgrind.html" target="_top">136208</a></td>
<td align="left">
    memory debugger and profiler
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/kmtrace" target="_top">
<code class="literal">kmtrace</code> </a> <a class="ulink" href="http://bugs.debian.org/kmtrace" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=kmtrace" target="_top">V:0.3, I:2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/k/kmtrace.html" target="_top">324</a></td>
<td align="left">
    KDE memory leak tracer using glibc's <code class="literal">mtrace</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/alleyoop" target="_top">
<code class="literal">alleyoop</code> </a> <a class="ulink" href="http://bugs.debian.org/alleyoop" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=alleyoop" target="_top">V:0.05, I:0.4</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/a/alleyoop.html" target="_top">596</a></td>
<td align="left">
    GNOME front-end to the Valgrind memory checker
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/electric-fence" target="_top">
<code class="literal">electric-fence</code> </a> <a class="ulink" href="http://bugs.debian.org/electric-fence" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=electric-fence" target="_top">V:0.06, I:0.8</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/e/electric-fence.html" target="_top">120</a></td>
<td align="left">отладчик <code class="literal">malloc</code>(3)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/leaktracer" target="_top">
<code class="literal">leaktracer</code> </a> <a class="ulink" href="http://bugs.debian.org/leaktracer" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=leaktracer" target="_top">V:0.01, I:0.12</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/leaktracer.html" target="_top">116</a></td>
<td align="left">
    memory-leak tracer for C++ programs
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libdmalloc5" target="_top">
<code class="literal">libdmalloc5</code> </a> <a class="ulink" href="http://bugs.debian.org/libdmalloc5" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libdmalloc5" target="_top">V:0.01, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libd/libdmalloc5.html" target="_top">356</a></td>
<td align="left">
    debug memory allocation library
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/mpatrolc2" target="_top">
<code class="literal">mpatrolc2</code> </a> <a class="ulink" href="http://bugs.debian.org/mpatrolc2" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=mpatrolc2" target="_top">V:0.00, I:0.02</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/m/mpatrolc2.html" target="_top">3592</a></td>
<td align="left">
    library for debugging memory allocations
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_static_code_analysis_tools"></a>12.4.8. Инструменты для анализа статичного кода</h3></div></div></div>
<p>There are <a class="ulink" href="http://en.wikipedia.org/wiki/Lint_programming_tool" target="_top">lint</a> like tools for <a class="ulink" href="http://en.wikipedia.org/wiki/List_of_tools_for_static_code_analysis" target="_top">static code analysis</a>.</p>
<div class="table">
<a name="listoftoolsforstaticcodeanalysis"></a><p class="title"><b>Таблица 12.14. Список инструментов для анализа статичного кода</b></p>
<div class="table-contents"><table summary="Список инструментов для анализа статичного кода" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/splint" target="_top">
<code class="literal">splint</code> </a> <a class="ulink" href="http://bugs.debian.org/splint" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=splint" target="_top">V:0.05, I:0.5</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/s/splint.html" target="_top">1836</a></td>
<td align="left">
    tool for statically checking C programs for bugs
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/rats" target="_top"> <code class="literal">rats</code>
</a> <a class="ulink" href="http://bugs.debian.org/rats" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=rats" target="_top">V:0.05, I:0.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/r/rats.html" target="_top">876</a></td>
<td align="left">
    rough Auditing Tool for Security (C, C++, PHP, Perl, and Python code)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/flawfinder" target="_top">
<code class="literal">flawfinder</code> </a> <a class="ulink" href="http://bugs.debian.org/flawfinder" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=flawfinder" target="_top">V:0.02, I:0.18</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/flawfinder.html" target="_top">192</a></td>
<td align="left">
    tool to examine C/C++ source code and looks for security weaknesses
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/perl" target="_top"> <code class="literal">perl</code>
</a> <a class="ulink" href="http://bugs.debian.org/perl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=perl" target="_top">V:89, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/perl.html" target="_top">18528</a></td>
<td align="left">
    interpreter with internal static code checker:
<code class="literal">B::Lint</code>(3perl)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/pylint" target="_top">
<code class="literal">pylint</code> </a> <a class="ulink" href="http://bugs.debian.org/pylint" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=pylint" target="_top">V:0.18, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/pylint.html" target="_top">576</a></td>
<td align="left">
    Python code static checker
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/jlint" target="_top"> <code class="literal">jlint</code>
</a> <a class="ulink" href="http://bugs.debian.org/jlint" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=jlint" target="_top">V:0.01, I:0.11</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/j/jlint.html" target="_top">156</a></td>
<td align="left">
    Java program checker
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/weblint-perl" target="_top">
<code class="literal">weblint-perl</code> </a> <a class="ulink" href="http://bugs.debian.org/weblint-perl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=weblint-perl" target="_top">V:0.10, I:0.7</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/w/weblint-perl.html" target="_top">28</a></td>
<td align="left">
    syntax and minimal style checker for HTML
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/linklint" target="_top">
<code class="literal">linklint</code> </a> <a class="ulink" href="http://bugs.debian.org/linklint" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=linklint" target="_top">V:0.04, I:0.3</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/l/linklint.html" target="_top">432</a></td>
<td align="left">
    fast link checker and web site maintenance tool
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/libxml2-utils" target="_top">
<code class="literal">libxml2-utils</code> </a> <a class="ulink" href="http://bugs.debian.org/libxml2-utils" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=libxml2-utils" target="_top">V:4, I:49</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/libx/libxml2-utils.html" target="_top">160</a></td>
<td align="left">
    utilities with <code class="literal">xmllint</code>(1) to validate XML files
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_disassemble_binary"></a>12.4.9. Дизассемблирование двоичного файла</h3></div></div></div>
<p>Можно дизассемблировать двоичный файл с помощью
<code class="literal">objdump</code>(1) так:</p>
<pre class="screen">$  objdump -m i386 -b binary -D /usr/lib/grub/x86_64-pc/stage1</pre>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Замечание</h3>
<p><code class="literal">gdb</code>(1) может использоваться для интерактивного
дизассемблирования</p>
</div>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_flex_8212_a_better_lex"></a>12.5. Flex -- улучшенный Lex</h2></div></div></div>
<p><a class="ulink" href="http://en.wikipedia.org/wiki/Flex_lexical_analyser" target="_top">Flex</a> -- это совместимая с <a class="ulink" href="http://ru.wikipedia.org/wiki/Lex" target="_top">Lex</a> быстрая программа для построения <a class="ulink" href="http://ru.wikipedia.org/wiki/%D0%9B%D0%B5%D0%BA%D1%81%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7" target="_top">лексических анализаторов</a>.</p>
<p>Руководство по <code class="literal">flex</code>(1) можно найти в "<code class="literal">info
flex</code>".</p>
<p>Вам нужно задать собственные "<code class="literal">main()</code>" и
"<code class="literal">yywrap()</code>". Иначе, для компиляции без библиотеки, ваша
программа на flex должна выглядеть как в примере ниже. Причина этого в том,
что "<code class="literal">yywrap</code>" -- макрос, а "<code class="literal">%option
main</code>" включает "<code class="literal">%option noyywrap</code>".</p>
<pre class="screen">%option main
%%
.|\n    ECHO ;
%%</pre>
<p>Другой способ: указать аргумент "<code class="literal">-lfl</code>" для линковщика
(linker), передав его вашему компилятору <code class="literal">cc</code>(1) в комадной
строке (в Lex из AT&amp;T ключ "<code class="literal">-ll</code>"). В этом случае
"<code class="literal">%option</code>" не нужна.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_bison_8212_a_better_yacc"></a>12.6. Bison -- улучшенный Yacc</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/LR-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80" target="_top">LR-анализаторы</a> с предпросмотром (<a class="ulink" href="http://ru.wikipedia.org/wiki/LALR(1)" target="_top">LALR-анализаторы</a>), совместимые с <a class="ulink" href="http://ru.wikipedia.org/wiki/Yacc" target="_top">Yacc</a>, предоставляются несколькими пакетами Debian.</p>
<div class="table">
<a name="listofyacccompatparsergenerators"></a><p class="title"><b>Таблица 12.15. Список совместимых с Yacc генераторов LALR-анализаторов</b></p>
<div class="table-contents"><table summary="Список совместимых с Yacc генераторов LALR-анализаторов" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/bison" target="_top"> <code class="literal">bison</code>
</a> <a class="ulink" href="http://bugs.debian.org/bison" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=bison" target="_top">V:2, I:15</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/bison.html" target="_top">1504</a></td>
<td align="left">
                <a class="ulink" href="http://ru.wikipedia.org/wiki/GNU_bison" target="_top">генератор LALR-анализаторов
GNU</a>
              </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/byacc" target="_top"> <code class="literal">byacc</code>
</a> <a class="ulink" href="http://bugs.debian.org/byacc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=byacc" target="_top">V:0.11, I:1.1</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/byacc.html" target="_top">168</a></td>
<td align="left">
    генератор LALR-анализаторов Беркли
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/btyacc" target="_top">
<code class="literal">btyacc</code> </a> <a class="ulink" href="http://bugs.debian.org/btyacc" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=btyacc" target="_top">V:0.00, I:0.06</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/b/btyacc.html" target="_top">248</a></td>
<td align="left">
    backtracking parser generator based on <code class="literal">byacc</code>
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>Руководство по <code class="literal">bison</code>(1) можно найти в "<code class="literal">info
bison</code>".</p>
<p>Вам нужно задать собственные "<code class="literal">main()</code>" и
"<code class="literal">yyerror()</code>". "<code class="literal">main()</code>" вызывает
"<code class="literal">yyparse()</code>", которая вызывает
"<code class="literal">yylex()</code>", обычно созданную с Flex.</p>
<pre class="screen">%%

%%</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_autoconf"></a>12.7. Autoconf</h2></div></div></div>
<p><a class="ulink" href="http://ru.wikipedia.org/wiki/Autoconf" target="_top">Autoconf</a> -- это средство создания сценариев
оболочки, которые автоматически настраивают исходный код программы,
адаптируя его для многих вариантов Unix-подобных систем и используя для
этого всю систему сборки GNU.</p>
<p><code class="literal">autoconf</code>(1) создаёт сценарий
"<code class="literal">configure</code>". "<code class="literal">configure</code>" автоматически
создаёт настроенный "<code class="literal">Makefile</code>", используя шаблоны в
"<code class="literal">Makefile.in</code>".</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_compile_and_install_a_program"></a>12.7.1. Компиляция и установка программы</h3></div></div></div>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p>Не перезаписывайте системных файлов при установке собранных вами программ!</p>
</div>
<p>Debian не трогает файлов в "<code class="literal">/usr/local/</code>" и
"<code class="literal">/opt</code>". Так что если вы компилируете программу из
исходных кодов, устанавливайте её в "<code class="literal">/usr/local/</code>", чтобы
она не помешала работе системы.</p>
<pre class="screen">$ cd src
$ ./configure --prefix=/usr/local
$ make
$ make install # установить файлы собранной программы в систему</pre>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="_uninstall_program"></a>12.7.2. Удаление программы</h3></div></div></div>
<p>Если у вас есть оригинальный исходный код и он использует
<code class="literal">autoconf</code>(1)/<code class="literal">automake</code>(1), и вы можете
вспомнить, как вы настраивали программу при сборке, следующие шаги должны
удалить программу из системы.</p>
<pre class="screen">$ ./configure "параметры, с которыми вы собирали программу в последний раз"
# make uninstall</pre>
<p>Как вариант, если вы абсолютно уверены, что установочный процесс положил все
файлы в "<code class="literal">/usr/local/</code>", и кроме этой программы там нет
ничего важного, можно удалить оттуда все файлы такой командой.</p>
<pre class="screen"># find /usr/local -type f -print0 | xargs -0 rm -f</pre>
<p>Если вы не помните точно, куда была установлена программа, можно обратиться
к <code class="literal">checkinstall</code>(8) из пакета
<code class="literal">checkinstall</code>. Это средство предоставляет хороший способ
деинсталляции. Теперь оно поддерживает создание пакетов Debian (опция
"<code class="literal">-D</code>").</p>
</div>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_perl_short_script_madness"></a>12.8. Perl short script madness</h2></div></div></div>
<p>Хотя любой <a class="ulink" href="http://ru.wikipedia.org/wiki/AWK" target="_top">AWK</a>-сценарий можно автоматически
перевести на <a class="ulink" href="http://ru.wikipedia.org/wiki/Perl" target="_top">Perl</a> с помощью
<code class="literal">a2p</code>(1), однострочные скрипты AWK лучше переводить
вручную.</p>
<p>Взгляните на такую строчку AWK.</p>
<pre class="screen">awk '($2=="1957") { print $3 }' |</pre>
<p>Она эквивалентна любой из следующих строк.</p>
<pre class="screen">perl -ne '@f=split; if ($f[1] eq "1957") { print "$f[2]\n"}' |</pre>
<pre class="screen">perl -ne 'if ((@f=split)[1] eq "1957") { print "$f[2]\n"}' |</pre>
<pre class="screen">perl -ne '@f=split; print $f[2] if ( $f[1]==1957 )' |</pre>
<pre class="screen">perl -lane 'print $F[2] if $F[1] eq "1957"' |</pre>
<pre class="screen">perl -lane 'print$F[2]if$F[1]eq+1957' |</pre>
<p>Последняя выглядит загадочно. В ней используются следующие возможности Perl:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Пробелы необязательны.
</li>
<li>
Числа автоматически преобразовываются в строки.
</li>
</ul></div>
<p>Параметры командной строки описаны в
<code class="literal">perlrun</code>(1). Множество сумасшедших Perl-скриптов есть на
<a class="ulink" href="http://perlgolf.sourceforge.net" target="_top">Perl Golf</a>.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_web"></a>12.9. Web</h2></div></div></div>
<p>Динамические web-страницы создаются примерно так:</p>
<div class="itemizedlist"><ul type="disc">
<li>
Queries are presented to the browser user using <a class="ulink" href="http://ru.wikipedia.org/wiki/HTML" target="_top">HTML</a> forms.
</li>
<li>
<p>
Filling and clicking on the form entries sends one of the following <a class="ulink" href="http://ru.wikipedia.org/wiki/URL" target="_top">URL</a> string with encoded parameters from the browser to
the web server.
</p>
<div class="itemizedlist"><ul type="circle">
<li>
"<code class="literal">http://www.foo.dom/cgi-bin/program.pl?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</code>"
</li>
<li>
"<code class="literal">http://www.foo.dom/cgi-bin/program.py?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</code>"
</li>
<li>
"<code class="literal">http://www.foo.dom/program.php?VAR1=VAL1&amp;VAR2=VAL2&amp;VAR3=VAL3</code>"
</li>
</ul></div>
</li>
<li>
"<code class="literal">%nn</code>" в URL заменяется символом с шестнадцатеричным
значением <code class="literal">nn</code>
</li>
<li>
Устанавливается такая переменная окружения:
"<code class="literal">QUERY_STRING="VAR1=VAL1 VAR2=VAL2 VAR3=VAL3"</code>".
</li>
<li>
<a class="ulink" href="http://ru.wikipedia.org/wiki/CGI" target="_top">CGI</a> program (any one of
"<code class="literal">program.*</code>") on the web server executes itself with the
environment variable "<code class="literal">$QUERY_STRING</code>".
</li>
<li>
<code class="literal">stdout</code> of CGI program is sent to the web browser and is
presented as an interactive dynamic web page.
</li>
</ul></div>
<p>For security reasons it is better not to hand craft new hacks for parsing
CGI parameters.  There are established modules for them in Perl and Python.
<a class="ulink" href="http://ru.wikipedia.org/wiki/PHP" target="_top">PHP</a> comes with these functionalities.  When
client data storage is needed, <a class="ulink" href="http://ru.wikipedia.org/wiki/HTTP_cookie" target="_top">HTTP
cookies</a> are used.  When client side data processing is needed,
<a class="ulink" href="http://ru.wikipedia.org/wiki/JavaScript" target="_top">Javascript</a> is frequently used.</p>
<p>For more, see the <a class="ulink" href="http://ru.wikipedia.org/wiki/CGI" target="_top">Common Gateway
Interface</a>, <a class="ulink" href="http://ru.wikipedia.org/wiki/Apache_Software_Foundation" target="_top">The Apache
Software Foundation</a>, and <a class="ulink" href="http://ru.wikipedia.org/wiki/JavaScript" target="_top">JavaScript</a>.</p>
<p>Searching "CGI tutorial" on Google by typing encoded URL <a class="ulink" href="http://www.google.com/search?hl=en&amp;ie=UTF-8&amp;q=CGI+tutorial" target="_top">http://www.google.com/search?hl=en&amp;ie=UTF-8&amp;q=CGI+tutorial</a>
directly to the browser address is a good way to see the CGI script in
action on the Google server.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_source_code_translation"></a>12.10. The source code translation</h2></div></div></div>
<p>There are programs to convert source codes.</p>
<div class="table">
<a name="listofsourcecodetranslationtools"></a><p class="title"><b>Таблица 12.16. List of source code translation tools</b></p>
<div class="table-contents"><table summary="List of source code translation tools" border="1">
<colgroup>
<col align="left">
<col align="left">
<col align="left">
<col align="left">
<col align="left">
</colgroup>
<thead><tr>
<th align="left">
    пакет
    </th>
<th align="left">
    popcon
    </th>
<th align="left">
    размер
    </th>
<th align="left">
    ключевое слово
    </th>
<th align="left">
    описание
    </th>
</tr></thead>
<tbody>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/perl" target="_top"> <code class="literal">perl</code>
</a> <a class="ulink" href="http://bugs.debian.org/perl" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=perl" target="_top">V:89, I:99</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/perl.html" target="_top">18528</a></td>
<td align="left">
    AWK→PERL
    </td>
<td align="left">
    convert source codes from AWK to PERL: <code class="literal">a2p</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/f2c" target="_top"> <code class="literal">f2c</code>
</a> <a class="ulink" href="http://bugs.debian.org/f2c" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=f2c" target="_top">V:0.12, I:1.2</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/f/f2c.html" target="_top">448</a></td>
<td align="left">
    FORTRAN→C
    </td>
<td align="left">
    convert source codes from FORTRAN 77 to C/C++: <code class="literal">f2c</code>(1)
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/protoize" target="_top">
<code class="literal">protoize</code> </a> <a class="ulink" href="http://bugs.debian.org/protoize" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=protoize" target="_top">V:0.01, I:0.09</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/p/protoize.html" target="_top">132</a></td>
<td align="left">
    ANSI C
    </td>
<td align="left">
    create/remove ANSI prototypes from C code
    </td>
</tr>
<tr>
<td align="left">
<a class="ulink" href="http://packages.debian.org/sid/intel2gas" target="_top">
<code class="literal">intel2gas</code> </a> <a class="ulink" href="http://bugs.debian.org/intel2gas" target="_top">*</a>
</td>
<td align="left"><a class="ulink" href="http://qa.debian.org/popcon.php?package=intel2gas" target="_top">V:0.00, I:0.07</a></td>
<td align="left"><a class="ulink" href="http://packages.qa.debian.org/i/intel2gas.html" target="_top">344</a></td>
<td align="left">
    intel→gas
    </td>
<td align="left">
    converter from NASM (Intel format) to the GNU Assembler (GAS)
    </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_making_debian_package"></a>12.11. Создание пакета Debian</h2></div></div></div>
<p>Если вы хотите создать пакет Debian, прочтите следующее.</p>
<div class="itemizedlist"><ul type="disc">
<li>
<a class="xref" href="#_debian_package_management" title="Глава 2. Управление пакетами в Debian">Глава 2, <i>Управление пакетами в Debian</i></a> для понимания основ этой
системы пакетов.
</li>
<li>
<a class="xref" href="#_porting_a_package_to_the_stable_system" title="2.7.10. Портирование пакета для стабильной системы">Раздел 2.7.10, «Портирование пакета для стабильной системы»</a> для понимания
процесса портирования.
</li>
<li>
<a class="xref" href="#_chroot_system" title="9.8.4. Система в chroot">Раздел 9.8.4, «Система в chroot»</a> -- основные способы использования chroot
</li>
<li>
<code class="literal">debuild</code>(1), <code class="literal">pbuilder</code>(1) и
<code class="literal">pdebuild</code>(1)
</li>
<li>
<a class="xref" href="#_debugging_the_debian_package" title="12.4.2. Отладка пакета Debian">Раздел 12.4.2, «Отладка пакета Debian»</a> -- о компиляции и отладке
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/manuals/maint-guide/" target="_top">Руководство начинающего
разработчика Debian</a> (пакет maint-guide-ru)
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/manuals/developers-reference/" target="_top">Справочник разработчика
Debian</a> (Debian Developer's Reference, пакет
<code class="literal">developers-reference</code>)
</li>
<li>
<a class="ulink" href="http://www.debian.org/doc/debian-policy/" target="_top">Руководство по политике Debian</a>
(Debian Policy Manual, пакет <code class="literal">debian-policy</code>)
</li>
</ul></div>
<p>Есть также такие пакеты, как <code class="literal">dh-make</code>,
<code class="literal">dh-make-perl</code>, и.т.п., которые облегчают создание пакетов.</p>
</div>
</div>
<div class="appendix" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="_appendix"></a>Приложение A. Примечания</h2></div></div></div>
<p>Здесь рассказывается об этом справочнике.</p>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_the_debian_maze"></a>A.1. Лабиринт Debian</h2></div></div></div>
<p>Система Linux -- очень мощная платформа для любого компьютера в сети. Однако
изучить использование всех её возможностей не так просто. Настройка
не-PostScript принтера, подключенного к параллельному порту, ещё недавно
являла собой пример непростой задачи. (В новой системе CUPS эти проблемы
решены.)</p>
<p>Существует исчерпывающий, подробный источник информации -- ИСХОДНЫЙ КОД,
предельно точный, но очень трудный для понимания. Есть также справочники
HOWTO и mini-HOWTO. Они значительно проще для понимания но имеют тенденцию
давать множество подробностей в ущерб общей картине. Иногда я сталкивался с
трудностями в процессе поиска нужного раздела в длинном HOWTO, нуждаясь
всего лишь в нескольких командах.</p>
<p>Я надеюсь, этот "Справочник по Debian (версия 2)" даст хорошую начальную
точку входа в лабиринт Debian.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_copyright_history"></a>A.2. Источники, история авторства</h2></div></div></div>
<p>"Справочник по Debian" (Debian Reference) был впервые написан Osamu Aoki
&lt;osamu at debian dot org&gt; в качестве личных заметок для управления
системой. Многие знания были получены мной из рассылки <a class="ulink" href="http://lists.debian.org/debian-user/" target="_top">debian-user</a> и других ресурсов
Debian.</p>
<p>По предложению Josip Rodin, активного участника <a class="ulink" href="http://www.debian.org/doc/ddp" target="_top">Проекта Документации Debian
(DDP)</a>, "Справочник по Debian (версия 1, 2001-2007)" был создан как
часть этого проекта.</p>
<p>Спустя 6 лет, Osamu обнаружил, что первая версия справочника устарела и
начал обновлять содержимое. Новый "Справочник по Debian (версия 2)" вышел в
2008.</p>
<p>Раздел "Основы работы в GNU/Linux" (GNU/Linux tutorials) восходит к
следующим текстам, которыми был вдохновлён:</p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
<a class="ulink" href="http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/users-guide/user-beta-1.pdf.gz" target="_top">Linux User's Guide</a>, Larry Greenfield
(декабрь 1996)
</p>
<div class="itemizedlist"><ul type="circle"><li>
потеряло актуальность с выходом "Debian Tutorial"
</li></ul></div>
</li>
<li>
<p>
<a class="ulink" href="http://www.debian.org/doc/manuals/debian-tutorial/" target="_top">Debian Tutorial</a>, Havoc Pennington (11
декабря 1998)
</p>
<div class="itemizedlist"><ul type="circle">
<li>
в создании участвовали: Oliver Elphick, Ole Tetlie, James Treacy, Craig
Sawyer, and Ivan E. Moore II
</li>
<li>
потеряло актуальность с выходом "Debian GNU/Linux: Guide to Installation and
Usage"
</li>
</ul></div>
</li>
<li>
<p>
<a class="ulink" href="http://archive.debian.net/woody/debian-guide" target="_top">Debian GNU/Linux: Guide to
Installation and Usage</a>, John Goerzen и Ossama Othman (1999)
</p>
<div class="itemizedlist"><ul type="circle"><li>
потеряло актуальность с выходом "Debian Reference (version 1)"
</li></ul></div>
</li>
</ul></div>
<p>Описание управления пакетами основывалось на следующем документе:</p>
<div class="itemizedlist"><ul type="disc"><li>
<a class="ulink" href="http://www.debian.org/doc/manuals/debian-faq/" target="_top">Debian FAQ</a> (версия, вышедшая в марте 2002,
когда её поддержкой занимался Josip Rodin)
</li></ul></div>
<p>Другие разделы основаны на предыдущих версиях этого текста:</p>
<div class="itemizedlist"><ul type="disc"><li>
<p>
<a class="ulink" href="http://packages.debian.org/search?keywords=debian-reference&amp;searchon=sourcenames&amp;exact=1&amp;suite=all&amp;section=all" target="_top">Debian Reference</a> (версия 1), Osamu
Aoki (2001-2007)
</p>
<div class="itemizedlist"><ul type="circle"><li>
теряет актуальность с выходом этого текста, "Debian Reference (версия 2)"
</li></ul></div>
</li></ul></div>
<p>Предыдущий "Справочник по Debian (версия 1)" был создан при помощи многих
людей.</p>
<div class="itemizedlist"><ul type="disc">
<li>
значительный вклад в главы о конфигурации сети внёс Томас Худ (Thomas Hood)
</li>
<li>
значительный вклад в главы о X Window и VCS -- Брайан Нельсон (Brian Nelson)
</li>
<li>
помощь в создании сценариев сборки и многие правки -- Jens Seidel
</li>
<li>
основательное редактирование - Дэвид Сюэлл (David Sewell)
</li>
<li>
большой вклад от переводчиков, от тех, кто дополнял текст и сообщал об
ошибках
</li>
</ul></div>
<p>Основными источниками при создании этого документа послужили справочные
(man) и info-страницы. В пределах, которые Осаму Аоки счёл честными, многие
их части, особенно описания команд, были использованы практически без
изменений, за исключением незначительной обработки для соответствия стилю и
целям документа.</p>
<p>Описание отладчика gdb было дополнено содержимым <a class="ulink" href="http://wiki.debian.org/HowToGetABacktrace" target="_top">Debian wiki</a> с разрешения Ари
Поллак, Луи Миньера и Давида Гарриса (Ari Pollak, Lois Minier, Dafydd
Harries).</p>
<p>"Справочник по Debian (версия 2)" -- в основном, моя собственная работа, за
исключением упомянутого выше. Он обновляется также при участии многих людей.</p>
<p>Автор, Осаму Аоки, благодарит всех, с чьей помощью создание этого документа
стало возможным.</p>
</div>
<div class="section" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="_document_format"></a>A.3. Формат документа</h2></div></div></div>
<p>Исходный текст английского оригинала этого документа сейчас написан в
формате AsciiDoc. AsciiDoc использован только ради удобства, так как он
требует меньше набора, чем чистый XML и поддерживает таблицы в простом
формате. Однако как настоящий исходный текст следует воспринимать файлы XML
и PO: с помощью сценариев сборки, текст AsciiDoc конвертируется в формат
DocBook XML, затем вставляются автоматически сгенерированные данные,
создавая результат -- исходный текст в формате DocBook XML. Этот исходный
текст можно легко конвертировать в HTML, простой текст, PostScript и
PDF. Сейчас подключено конвертирование только в HTML и простой текст.</p>
</div>
</div>
</div></body>
</html>
